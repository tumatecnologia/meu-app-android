var iv=r=>{throw TypeError(r)};var md=(r,t,e)=>t.has(r)||iv("Cannot "+e);var Jt=(r,t,e)=>(md(r,t,"read from private field"),e?e.call(r):t.get(r)),qn=(r,t,e)=>t.has(r)?iv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),en=(r,t,e,i)=>(md(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),Xn=(r,t,e)=>(md(r,t,"access private method"),e);var sv=(r,t,e,i)=>({set _(a){en(r,t,a,e)},get _(){return Jt(r,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var gd={exports:{}},Gr={};var av;function KE(){if(av)return Gr;av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Gr.Fragment=t,Gr.jsx=e,Gr.jsxs=e,Gr}var rv;function WE(){return rv||(rv=1,gd.exports=KE()),gd.exports}var M=WE(),yd={exports:{}},xt={};var ov;function QE(){if(ov)return xt;ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function w(D,F,G){this.props=D,this.context=F,this.refs=E,this.updater=G||x}w.prototype.isReactComponent={},w.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=w.prototype;function T(D,F,G){this.props=D,this.context=F,this.refs=E,this.updater=G||x}var N=T.prototype=new C;N.constructor=T,A(N,w.prototype),N.isPureReactComponent=!0;var R=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function K(D,F,G){var J=G.ref;return{$$typeof:r,type:D,key:F,ref:J!==void 0?J:null,props:G}}function nt(D,F){return K(D.type,F,D.props)}function et(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function mt(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(G){return F[G]})}var yt=/\/+/g;function ht(D,F){return typeof D=="object"&&D!==null&&D.key!=null?mt(""+D.key):F.toString(36)}function Et(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(O,O):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,F,G,J,st){var ut=typeof D;(ut==="undefined"||ut==="boolean")&&(D=null);var rt=!1;if(D===null)rt=!0;else switch(ut){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(D.$$typeof){case r:case t:rt=!0;break;case p:return rt=D._init,B(rt(D._payload),F,G,J,st)}}if(rt)return st=st(D),rt=J===""?"."+ht(D,0):J,R(st)?(G="",rt!=null&&(G=rt.replace(yt,"$&/")+"/"),B(st,F,G,"",function(vt){return vt})):st!=null&&(et(st)&&(st=nt(st,G+(st.key==null||D&&D.key===st.key?"":(""+st.key).replace(yt,"$&/")+"/")+rt)),F.push(st)),1;rt=0;var Ct=J===""?".":J+":";if(R(D))for(var at=0;at<D.length;at++)J=D[at],ut=Ct+ht(J,at),rt+=B(J,F,G,ut,st);else if(at=b(D),typeof at=="function")for(D=at.call(D),at=0;!(J=D.next()).done;)J=J.value,ut=Ct+ht(J,at++),rt+=B(J,F,G,ut,st);else if(ut==="object"){if(typeof D.then=="function")return B(Et(D),F,G,J,st);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return rt}function H(D,F,G){if(D==null)return D;var J=[],st=0;return B(D,J,"","",function(ut){return F.call(G,ut,st++)}),J}function tt(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(G){(D._status===0||D._status===-1)&&(D._status=1,D._result=G)},function(G){(D._status===0||D._status===-1)&&(D._status=2,D._result=G)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var $=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},X={map:H,forEach:function(D,F,G){H(D,function(){F.apply(this,arguments)},G)},count:function(D){var F=0;return H(D,function(){F++}),F},toArray:function(D){return H(D,function(F){return F})||[]},only:function(D){if(!et(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xt.Activity=m,xt.Children=X,xt.Component=w,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=T,xt.StrictMode=i,xt.Suspense=d,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,xt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return P.H.useMemoCache(D)}},xt.cache=function(D){return function(){return D.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(D,F,G){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=A({},D.props),st=D.key;if(F!=null)for(ut in F.key!==void 0&&(st=""+F.key),F)!V.call(F,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&F.ref===void 0||(J[ut]=F[ut]);var ut=arguments.length-2;if(ut===1)J.children=G;else if(1<ut){for(var rt=Array(ut),Ct=0;Ct<ut;Ct++)rt[Ct]=arguments[Ct+2];J.children=rt}return K(D.type,st,J)},xt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},xt.createElement=function(D,F,G){var J,st={},ut=null;if(F!=null)for(J in F.key!==void 0&&(ut=""+F.key),F)V.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(st[J]=F[J]);var rt=arguments.length-2;if(rt===1)st.children=G;else if(1<rt){for(var Ct=Array(rt),at=0;at<rt;at++)Ct[at]=arguments[at+2];st.children=Ct}if(D&&D.defaultProps)for(J in rt=D.defaultProps,rt)st[J]===void 0&&(st[J]=rt[J]);return K(D,ut,st)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(D){return{$$typeof:u,render:D}},xt.isValidElement=et,xt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:tt}},xt.memo=function(D,F){return{$$typeof:f,type:D,compare:F===void 0?null:F}},xt.startTransition=function(D){var F=P.T,G={};P.T=G;try{var J=D(),st=P.S;st!==null&&st(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(O,$)}catch(ut){$(ut)}finally{F!==null&&G.types!==null&&(F.types=G.types),P.T=F}},xt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},xt.use=function(D){return P.H.use(D)},xt.useActionState=function(D,F,G){return P.H.useActionState(D,F,G)},xt.useCallback=function(D,F){return P.H.useCallback(D,F)},xt.useContext=function(D){return P.H.useContext(D)},xt.useDebugValue=function(){},xt.useDeferredValue=function(D,F){return P.H.useDeferredValue(D,F)},xt.useEffect=function(D,F){return P.H.useEffect(D,F)},xt.useEffectEvent=function(D){return P.H.useEffectEvent(D)},xt.useId=function(){return P.H.useId()},xt.useImperativeHandle=function(D,F,G){return P.H.useImperativeHandle(D,F,G)},xt.useInsertionEffect=function(D,F){return P.H.useInsertionEffect(D,F)},xt.useLayoutEffect=function(D,F){return P.H.useLayoutEffect(D,F)},xt.useMemo=function(D,F){return P.H.useMemo(D,F)},xt.useOptimistic=function(D,F){return P.H.useOptimistic(D,F)},xt.useReducer=function(D,F,G){return P.H.useReducer(D,F,G)},xt.useRef=function(D){return P.H.useRef(D)},xt.useState=function(D){return P.H.useState(D)},xt.useSyncExternalStore=function(D,F,G){return P.H.useSyncExternalStore(D,F,G)},xt.useTransition=function(){return P.H.useTransition()},xt.version="19.2.4",xt}var lv;function ip(){return lv||(lv=1,yd.exports=QE()),yd.exports}var j=ip(),vd={exports:{}},qr={},bd={exports:{}},Ad={};var cv;function ZE(){return cv||(cv=1,(function(r){function t(B,H){var tt=B.length;B.push(H);t:for(;0<tt;){var $=tt-1>>>1,X=B[$];if(0<a(X,H))B[$]=H,B[tt]=X,tt=$;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var H=B[0],tt=B.pop();if(tt!==H){B[0]=tt;t:for(var $=0,X=B.length,D=X>>>1;$<D;){var F=2*($+1)-1,G=B[F],J=F+1,st=B[J];if(0>a(G,tt))J<X&&0>a(st,G)?(B[$]=st,B[J]=tt,$=J):(B[$]=G,B[F]=tt,$=F);else if(J<X&&0>a(st,tt))B[$]=st,B[J]=tt,$=J;else break t}}return H}function a(B,H){var tt=B.sortIndex-H.sortIndex;return tt!==0?tt:B.id-H.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,m=null,v=3,b=!1,x=!1,A=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var H=e(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=B)i(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=e(f)}}function R(B){if(A=!1,N(B),!x)if(e(d)!==null)x=!0,O||(O=!0,mt());else{var H=e(f);H!==null&&Et(R,H.startTime-B)}}var O=!1,P=-1,V=5,K=-1;function nt(){return E?!0:!(r.unstable_now()-K<V)}function et(){if(E=!1,O){var B=r.unstable_now();K=B;var H=!0;try{t:{x=!1,A&&(A=!1,C(P),P=-1),b=!0;var tt=v;try{e:{for(N(B),m=e(d);m!==null&&!(m.expirationTime>B&&nt());){var $=m.callback;if(typeof $=="function"){m.callback=null,v=m.priorityLevel;var X=$(m.expirationTime<=B);if(B=r.unstable_now(),typeof X=="function"){m.callback=X,N(B),H=!0;break e}m===e(d)&&i(d),N(B)}else i(d);m=e(d)}if(m!==null)H=!0;else{var D=e(f);D!==null&&Et(R,D.startTime-B),H=!1}}break t}finally{m=null,v=tt,b=!1}H=void 0}}finally{H?mt():O=!1}}}var mt;if(typeof T=="function")mt=function(){T(et)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,ht=yt.port2;yt.port1.onmessage=et,mt=function(){ht.postMessage(null)}}else mt=function(){w(et,0)};function Et(B,H){P=w(function(){B(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(B){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var tt=v;v=H;try{return B()}finally{v=tt}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var tt=v;v=B;try{return H()}finally{v=tt}},r.unstable_scheduleCallback=function(B,H,tt){var $=r.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?$+tt:$):tt=$,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=tt+X,B={id:p++,callback:H,priorityLevel:B,startTime:tt,expirationTime:X,sortIndex:-1},tt>$?(B.sortIndex=tt,t(f,B),e(d)===null&&B===e(f)&&(A?(C(P),P=-1):A=!0,Et(R,tt-$))):(B.sortIndex=X,t(d,B),x||b||(x=!0,O||(O=!0,mt()))),B},r.unstable_shouldYield=nt,r.unstable_wrapCallback=function(B){var H=v;return function(){var tt=v;v=H;try{return B.apply(this,arguments)}finally{v=tt}}}})(Ad)),Ad}var uv;function JE(){return uv||(uv=1,bd.exports=ZE()),bd.exports}var xd={exports:{}},Ue={};var hv;function tT(){if(hv)return Ue;hv=1;var r=ip();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ue.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Ue.flushSync=function(d){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=p,i.d.f()}},Ue.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Ue.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ue.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ue.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Ue.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ue.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Ue.requestFormReset=function(d){i.d.r(d)},Ue.unstable_batchedUpdates=function(d,f){return d(f)},Ue.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},Ue.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ue.version="19.2.4",Ue}var dv;function eT(){if(dv)return xd.exports;dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=tT(),xd.exports}var fv;function nT(){if(fv)return qr;fv=1;var r=JE(),t=ip(),e=eT();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,h=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),n;if(y===h)return d(g),s;y=y.sibling}throw Error(i(188))}if(l.return!==h.return)l=g,h=y;else{for(var S=!1,_=g.child;_;){if(_===l){S=!0,l=g,h=y;break}if(_===h){S=!0,h=g,l=y;break}_=_.sibling}if(!S){for(_=y.child;_;){if(_===l){S=!0,l=y,h=g;break}if(_===h){S=!0,h=y,l=g;break}_=_.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function mt(n){return n===null||typeof n!="object"?null:(n=et&&n[et]||n["@@iterator"],typeof n=="function"?n:null)}var yt=Symbol.for("react.client.reference");function ht(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===yt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case T:return n.displayName||"Context";case C:return(n._context.displayName||"Context")+".Consumer";case N:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return s=n.displayName||null,s!==null?s:ht(n.type)||"Memo";case V:s=n._payload,n=n._init;try{return ht(n(s))}catch{}}return null}var Et=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},$=[],X=-1;function D(n){return{current:n}}function F(n){0>X||(n.current=$[X],$[X]=null,X--)}function G(n,s){X++,$[X]=n.current,n.current=s}var J=D(null),st=D(null),ut=D(null),rt=D(null);function Ct(n,s){switch(G(ut,s),G(st,n),G(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Cy(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Cy(s),n=_y(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(J),G(J,n)}function at(){F(J),F(st),F(ut)}function vt(n){n.memoizedState!==null&&G(rt,n);var s=J.current,l=_y(s,n.type);s!==l&&(G(st,n),G(J,l))}function Ot(n){st.current===n&&(F(J),F(st)),rt.current===n&&(F(rt),zr._currentValue=tt)}var fe,_e;function pe(n){if(fe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);fe=s&&s[1]||"",_e=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+n+_e}var ko=!1;function ls(n,s){if(!n||ko)return"";ko=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var q=Y}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(Y){q=Y}n.call(Z.prototype)}}else{try{throw Error()}catch(Y){q=Y}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),S=y[0],_=y[1];if(S&&_){var L=S.split(`
`),U=_.split(`
`);for(g=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;g<U.length&&!U[g].includes("DetermineComponentFrameRoot");)g++;if(h===L.length||g===U.length)for(h=L.length-1,g=U.length-1;1<=h&&0<=g&&L[h]!==U[g];)g--;for(;1<=h&&0<=g;h--,g--)if(L[h]!==U[g]){if(h!==1||g!==1)do if(h--,g--,0>g||L[h]!==U[g]){var W=`
`+L[h].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=h&&0<=g);break}}}finally{ko=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?pe(l):""}function Jc(n,s){switch(n.tag){case 26:case 27:case 5:return pe(n.type);case 16:return pe("Lazy");case 13:return n.child!==s&&s!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return ls(n.type,!1);case 11:return ls(n.type.render,!1);case 1:return ls(n.type,!0);case 31:return pe("Activity");default:return""}}function im(n){try{var s="",l=null;do s+=Jc(n,l),l=n,n=n.return;while(n);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var tu=Object.prototype.hasOwnProperty,eu=r.unstable_scheduleCallback,nu=r.unstable_cancelCallback,_S=r.unstable_shouldYield,MS=r.unstable_requestPaint,an=r.unstable_now,DS=r.unstable_getCurrentPriorityLevel,sm=r.unstable_ImmediatePriority,am=r.unstable_UserBlockingPriority,Po=r.unstable_NormalPriority,RS=r.unstable_LowPriority,rm=r.unstable_IdlePriority,NS=r.log,LS=r.unstable_setDisableYieldValue,Za=null,rn=null;function Mi(n){if(typeof NS=="function"&&LS(n),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Za,n)}catch{}}var on=Math.clz32?Math.clz32:PS,OS=Math.log,kS=Math.LN2;function PS(n){return n>>>=0,n===0?32:31-(OS(n)/kS|0)|0}var Bo=256,jo=262144,Fo=4194304;function cs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Io(n,s,l){var h=n.pendingLanes;if(h===0)return 0;var g=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var _=h&134217727;return _!==0?(h=_&~y,h!==0?g=cs(h):(S&=_,S!==0?g=cs(S):l||(l=_&~n,l!==0&&(g=cs(l))))):(_=h&~y,_!==0?g=cs(_):S!==0?g=cs(S):l||(l=h&~n,l!==0&&(g=cs(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Ja(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function BS(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function om(){var n=Fo;return Fo<<=1,(Fo&62914560)===0&&(Fo=4194304),n}function iu(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function tr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jS(n,s,l,h,g,y){var S=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var _=n.entanglements,L=n.expirationTimes,U=n.hiddenUpdates;for(l=S&~l;0<l;){var W=31-on(l),Z=1<<W;_[W]=0,L[W]=-1;var q=U[W];if(q!==null)for(U[W]=null,W=0;W<q.length;W++){var Y=q[W];Y!==null&&(Y.lane&=-536870913)}l&=~Z}h!==0&&lm(n,h,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~s))}function lm(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-on(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|l&261930}function cm(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-on(l),g=1<<h;g&s|n[h]&s&&(n[h]|=s),l&=~g}}function um(n,s){var l=s&-s;return l=(l&42)!==0?1:su(l),(l&(n.suspendedLanes|s))!==0?0:l}function su(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function au(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hm(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:Wy(n.type))}function dm(n,s){var l=H.p;try{return H.p=n,s()}finally{H.p=l}}var Di=Math.random().toString(36).slice(2),Le="__reactFiber$"+Di,$e="__reactProps$"+Di,Us="__reactContainer$"+Di,ru="__reactEvents$"+Di,FS="__reactListeners$"+Di,IS="__reactHandles$"+Di,fm="__reactResources$"+Di,er="__reactMarker$"+Di;function ou(n){delete n[Le],delete n[$e],delete n[ru],delete n[FS],delete n[IS]}function Vs(n){var s=n[Le];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Us]||l[Le]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=ky(n);n!==null;){if(l=n[Le])return l;n=ky(n)}return s}n=l,l=n.parentNode}return null}function Hs(n){if(n=n[Le]||n[Us]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function nr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Gs(n){var s=n[fm];return s||(s=n[fm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Me(n){n[er]=!0}var pm=new Set,mm={};function us(n,s){qs(n,s),qs(n+"Capture",s)}function qs(n,s){for(mm[n]=s,n=0;n<s.length;n++)pm.add(s[n])}var zS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gm={},ym={};function US(n){return tu.call(ym,n)?!0:tu.call(gm,n)?!1:zS.test(n)?ym[n]=!0:(gm[n]=!0,!1)}function zo(n,s,l){if(US(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Uo(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function ii(n,s,l,h){if(h===null)n.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+h)}}function vn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vm(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function VS(n,s,l){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){l=""+S,y.call(this,S)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lu(n){if(!n._valueTracker){var s=vm(n)?"checked":"value";n._valueTracker=VS(n,s,""+n[s])}}function bm(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=vm(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function Vo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var HS=/[\n"\\]/g;function bn(n){return n.replace(HS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cu(n,s,l,h,g,y,S,_){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+vn(s)):n.value!==""+vn(s)&&(n.value=""+vn(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?uu(n,S,vn(s)):l!=null?uu(n,S,vn(l)):h!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+vn(_):n.removeAttribute("name")}function Am(n,s,l,h,g,y,S,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){lu(n);return}l=l!=null?""+vn(l):"",s=s!=null?""+vn(s):l,_||s===n.value||(n.value=s),n.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=_?n.checked:!!h,n.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),lu(n)}function uu(n,s,l){s==="number"&&Vo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Xs(n,s,l,h){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+vn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function xm(n,s,l){if(s!=null&&(s=""+vn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+vn(l):""}function Sm(n,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(i(92));if(Et(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=vn(s),n.defaultValue=l,h=n.textContent,h===l&&h!==""&&h!==null&&(n.value=h),lu(n)}function Ys(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var GS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wm(n,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,l):typeof l!="number"||l===0||GS.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Em(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&wm(n,g,h)}else for(var y in s)s.hasOwnProperty(y)&&wm(n,y,s[y])}function hu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(n){return XS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function si(){}var du=null;function fu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $s=null,Ks=null;function Tm(n){var s=Hs(n);if(s&&(n=s.stateNode)){var l=n[$e]||null;t:switch(n=s.stateNode,s.type){case"input":if(cu(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var g=h[$e]||null;if(!g)throw Error(i(90));cu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===n.form&&bm(h)}break t;case"textarea":xm(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Xs(n,!!l.multiple,s,!1)}}}var pu=!1;function Cm(n,s,l){if(pu)return n(s,l);pu=!0;try{var h=n(s);return h}finally{if(pu=!1,($s!==null||Ks!==null)&&(Rl(),$s&&(s=$s,n=Ks,Ks=$s=null,Tm(s),n)))for(s=0;s<n.length;s++)Tm(n[s])}}function ir(n,s){var l=n.stateNode;if(l===null)return null;var h=l[$e]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(ai)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){mu=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{mu=!1}var Ri=null,gu=null,Go=null;function _m(){if(Go)return Go;var n,s=gu,l=s.length,h,g="value"in Ri?Ri.value:Ri.textContent,y=g.length;for(n=0;n<l&&s[n]===g[n];n++);var S=l-n;for(h=1;h<=S&&s[l-h]===g[y-h];h++);return Go=g.slice(n,1<h?1-h:void 0)}function qo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Xo(){return!0}function Mm(){return!1}function Ke(n){function s(l,h,g,y,S){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(l=n[_],this[_]=l?l(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xo:Mm,this.isPropagationStopped=Mm,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),s}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Ke(hs),ar=m({},hs,{view:0,detail:0}),YS=Ke(ar),yu,vu,rr,$o=m({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(yu=n.screenX-rr.screenX,vu=n.screenY-rr.screenY):vu=yu=0,rr=n),yu)},movementY:function(n){return"movementY"in n?n.movementY:vu}}),Dm=Ke($o),$S=m({},$o,{dataTransfer:0}),KS=Ke($S),WS=m({},ar,{relatedTarget:0}),bu=Ke(WS),QS=m({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),ZS=Ke(QS),JS=m({},hs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tw=Ke(JS),ew=m({},hs,{data:0}),Rm=Ke(ew),nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aw(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=sw[n])?!!s[n]:!1}function Au(){return aw}var rw=m({},ar,{key:function(n){if(n.key){var s=nw[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=qo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(n){return n.type==="keypress"?qo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ow=Ke(rw),lw=m({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=Ke(lw),cw=m({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),uw=Ke(cw),hw=m({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dw=Ke(hw),fw=m({},$o,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pw=Ke(fw),mw=m({},hs,{newState:0,oldState:0}),gw=Ke(mw),yw=[9,13,27,32],xu=ai&&"CompositionEvent"in window,or=null;ai&&"documentMode"in document&&(or=document.documentMode);var vw=ai&&"TextEvent"in window&&!or,Lm=ai&&(!xu||or&&8<or&&11>=or),Om=" ",km=!1;function Pm(n,s){switch(n){case"keyup":return yw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ws=!1;function bw(n,s){switch(n){case"compositionend":return Bm(s);case"keypress":return s.which!==32?null:(km=!0,Om);case"textInput":return n=s.data,n===Om&&km?null:n;default:return null}}function Aw(n,s){if(Ws)return n==="compositionend"||!xu&&Pm(n,s)?(n=_m(),Go=gu=Ri=null,Ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lm&&s.locale!=="ko"?null:s.data;default:return null}}var xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!xw[n.type]:s==="textarea"}function Fm(n,s,l,h){$s?Ks?Ks.push(h):Ks=[h]:$s=h,s=jl(s,"onChange"),0<s.length&&(l=new Yo("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var lr=null,cr=null;function Sw(n){Ay(n,0)}function Ko(n){var s=nr(n);if(bm(s))return n}function Im(n,s){if(n==="change")return s}var zm=!1;if(ai){var Su;if(ai){var wu="oninput"in document;if(!wu){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),wu=typeof Um.oninput=="function"}Su=wu}else Su=!1;zm=Su&&(!document.documentMode||9<document.documentMode)}function Vm(){lr&&(lr.detachEvent("onpropertychange",Hm),cr=lr=null)}function Hm(n){if(n.propertyName==="value"&&Ko(cr)){var s=[];Fm(s,cr,n,fu(n)),Cm(Sw,s)}}function ww(n,s,l){n==="focusin"?(Vm(),lr=s,cr=l,lr.attachEvent("onpropertychange",Hm)):n==="focusout"&&Vm()}function Ew(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ko(cr)}function Tw(n,s){if(n==="click")return Ko(s)}function Cw(n,s){if(n==="input"||n==="change")return Ko(s)}function _w(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ln=typeof Object.is=="function"?Object.is:_w;function ur(n,s){if(ln(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!tu.call(s,g)||!ln(n[g],s[g]))return!1}return!0}function Gm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qm(n,s){var l=Gm(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Gm(l)}}function Xm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Xm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ym(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Vo(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Vo(n.document)}return s}function Eu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Mw=ai&&"documentMode"in document&&11>=document.documentMode,Qs=null,Tu=null,hr=null,Cu=!1;function $m(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cu||Qs==null||Qs!==Vo(h)||(h=Qs,"selectionStart"in h&&Eu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),hr&&ur(hr,h)||(hr=h,h=jl(Tu,"onSelect"),0<h.length&&(s=new Yo("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=Qs)))}function ds(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Zs={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},_u={},Km={};ai&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function fs(n){if(_u[n])return _u[n];if(!Zs[n])return n;var s=Zs[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Km)return _u[n]=s[l];return n}var Wm=fs("animationend"),Qm=fs("animationiteration"),Zm=fs("animationstart"),Dw=fs("transitionrun"),Rw=fs("transitionstart"),Nw=fs("transitioncancel"),Jm=fs("transitionend"),tg=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function Pn(n,s){tg.set(n,s),us(s,[n])}var Wo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},An=[],Js=0,Du=0;function Qo(){for(var n=Js,s=Du=Js=0;s<n;){var l=An[s];An[s++]=null;var h=An[s];An[s++]=null;var g=An[s];An[s++]=null;var y=An[s];if(An[s++]=null,h!==null&&g!==null){var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}y!==0&&eg(l,g,y)}}function Zo(n,s,l,h){An[Js++]=n,An[Js++]=s,An[Js++]=l,An[Js++]=h,Du|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Ru(n,s,l,h){return Zo(n,s,l,h),Jo(n)}function ps(n,s){return Zo(n,null,null,s),Jo(n)}function eg(n,s,l){n.lanes|=l;var h=n.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=n.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&s!==null&&(g=31-on(l),n=y.hiddenUpdates,h=n[g],h===null?n[g]=[s]:h.push(s),s.lane=l|536870912),y):null}function Jo(n){if(50<Or)throw Or=0,Ih=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ta={};function Lw(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,s,l,h){return new Lw(n,s,l,h)}function Nu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ri(n,s){var l=n.alternate;return l===null?(l=cn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function ng(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function tl(n,s,l,h,g,y){var S=0;if(h=n,typeof n=="function")Nu(n)&&(S=1);else if(typeof n=="string")S=jE(n,l,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case K:return n=cn(31,l,s,g),n.elementType=K,n.lanes=y,n;case A:return ms(l.children,g,y,s);case E:S=8,g|=24;break;case w:return n=cn(12,l,s,g|2),n.elementType=w,n.lanes=y,n;case R:return n=cn(13,l,s,g),n.elementType=R,n.lanes=y,n;case O:return n=cn(19,l,s,g),n.elementType=O,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:S=10;break t;case C:S=9;break t;case N:S=11;break t;case P:S=14;break t;case V:S=16,h=null;break t}S=29,l=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=cn(S,l,s,g),s.elementType=n,s.type=h,s.lanes=y,s}function ms(n,s,l,h){return n=cn(7,n,h,s),n.lanes=l,n}function Lu(n,s,l){return n=cn(6,n,null,s),n.lanes=l,n}function ig(n){var s=cn(18,null,null,0);return s.stateNode=n,s}function Ou(n,s,l){return s=cn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var sg=new WeakMap;function xn(n,s){if(typeof n=="object"&&n!==null){var l=sg.get(n);return l!==void 0?l:(s={value:n,source:s,stack:im(s)},sg.set(n,s),s)}return{value:n,source:s,stack:im(s)}}var ea=[],na=0,el=null,dr=0,Sn=[],wn=0,Ni=null,Un=1,Vn="";function oi(n,s){ea[na++]=dr,ea[na++]=el,el=n,dr=s}function ag(n,s,l){Sn[wn++]=Un,Sn[wn++]=Vn,Sn[wn++]=Ni,Ni=n;var h=Un;n=Vn;var g=32-on(h)-1;h&=~(1<<g),l+=1;var y=32-on(s)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Un=1<<32-on(s)+g|l<<g|h,Vn=y+n}else Un=1<<y|l<<g|h,Vn=n}function ku(n){n.return!==null&&(oi(n,1),ag(n,1,0))}function Pu(n){for(;n===el;)el=ea[--na],ea[na]=null,dr=ea[--na],ea[na]=null;for(;n===Ni;)Ni=Sn[--wn],Sn[wn]=null,Vn=Sn[--wn],Sn[wn]=null,Un=Sn[--wn],Sn[wn]=null}function rg(n,s){Sn[wn++]=Un,Sn[wn++]=Vn,Sn[wn++]=Ni,Un=s.id,Vn=s.overflow,Ni=n}var Oe=null,Wt=null,Nt=!1,Li=null,En=!1,Bu=Error(i(519));function Oi(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fr(xn(s,n)),Bu}function og(n){var s=n.stateNode,l=n.type,h=n.memoizedProps;switch(s[Le]=n,s[$e]=h,l){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(l=0;l<Pr.length;l++)Mt(Pr[l],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),Am(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),Sm(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||Ey(s.textContent,l)?(h.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),h.onScroll!=null&&Mt("scroll",s),h.onScrollEnd!=null&&Mt("scrollend",s),h.onClick!=null&&(s.onclick=si),s=!0):s=!1,s||Oi(n,!0)}function lg(n){for(Oe=n.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Oe=Oe.return}}function ia(n){if(n!==Oe)return!1;if(!Nt)return lg(n),Nt=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||td(n.type,n.memoizedProps)),l=!l),l&&Wt&&Oi(n),lg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Wt=Oy(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Wt=Oy(n)}else s===27?(s=Wt,Yi(n.type)?(n=ad,ad=null,Wt=n):Wt=s):Wt=Oe?Cn(n.stateNode.nextSibling):null;return!0}function gs(){Wt=Oe=null,Nt=!1}function ju(){var n=Li;return n!==null&&(Je===null?Je=n:Je.push.apply(Je,n),Li=null),n}function fr(n){Li===null?Li=[n]:Li.push(n)}var Fu=D(null),ys=null,li=null;function ki(n,s,l){G(Fu,s._currentValue),s._currentValue=l}function ci(n){n._currentValue=Fu.current,F(Fu)}function Iu(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function zu(n,s,l,h){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;t:for(;y!==null;){var _=y;y=g;for(var L=0;L<s.length;L++)if(_.context===s[L]){y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),Iu(y.return,l,n),h||(S=null);break t}y=_.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),Iu(S,l,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function sa(n,s,l,h){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var _=g.type;ln(g.pendingProps.value,S.value)||(n!==null?n.push(_):n=[_])}}else if(g===rt.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(zr):n=[zr])}g=g.return}n!==null&&zu(s,n,l,h),s.flags|=262144}function nl(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function vs(n){ys=n,li=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ke(n){return cg(ys,n)}function il(n,s){return ys===null&&vs(n),cg(n,s)}function cg(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},li===null){if(n===null)throw Error(i(308));li=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else li=li.next=s;return l}var Ow=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},kw=r.unstable_scheduleCallback,Pw=r.unstable_NormalPriority,me={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Ow,data:new Map,refCount:0}}function pr(n){n.refCount--,n.refCount===0&&kw(Pw,function(){n.controller.abort()})}var mr=null,Vu=0,aa=0,ra=null;function Bw(n,s){if(mr===null){var l=mr=[];Vu=0,aa=qh(),ra={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vu++,s.then(ug,ug),s}function ug(){if(--Vu===0&&mr!==null){ra!==null&&(ra.status="fulfilled");var n=mr;mr=null,aa=0,ra=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function jw(n,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var hg=B.S;B.S=function(n,s){$0=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Bw(n,s),hg!==null&&hg(n,s)};var bs=D(null);function Hu(){var n=bs.current;return n!==null?n:$t.pooledCache}function sl(n,s){s===null?G(bs,bs.current):G(bs,s.pool)}function dg(){var n=Hu();return n===null?null:{parent:me._currentValue,pool:n}}var oa=Error(i(460)),Gu=Error(i(474)),al=Error(i(542)),rl={then:function(){}};function fg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pg(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(si,si),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,gg(n),n;default:if(typeof s.status=="string")s.then(si,si);else{if(n=$t,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,gg(n),n}throw xs=s,oa}}function As(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xs=l,oa):l}}var xs=null;function mg(){if(xs===null)throw Error(i(459));var n=xs;return xs=null,n}function gg(n){if(n===oa||n===al)throw Error(i(483))}var la=null,gr=0;function ol(n){var s=gr;return gr+=1,la===null&&(la=[]),pg(la,n,s)}function yr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ll(n,s){throw s.$$typeof===v?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function yg(n){function s(I,k){if(n){var z=I.deletions;z===null?(I.deletions=[k],I.flags|=16):z.push(k)}}function l(I,k){if(!n)return null;for(;k!==null;)s(I,k),k=k.sibling;return null}function h(I){for(var k=new Map;I!==null;)I.key!==null?k.set(I.key,I):k.set(I.index,I),I=I.sibling;return k}function g(I,k){return I=ri(I,k),I.index=0,I.sibling=null,I}function y(I,k,z){return I.index=z,n?(z=I.alternate,z!==null?(z=z.index,z<k?(I.flags|=67108866,k):z):(I.flags|=67108866,k)):(I.flags|=1048576,k)}function S(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function _(I,k,z,Q){return k===null||k.tag!==6?(k=Lu(z,I.mode,Q),k.return=I,k):(k=g(k,z),k.return=I,k)}function L(I,k,z,Q){var ft=z.type;return ft===A?W(I,k,z.props.children,Q,z.key):k!==null&&(k.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===V&&As(ft)===k.type)?(k=g(k,z.props),yr(k,z),k.return=I,k):(k=tl(z.type,z.key,z.props,null,I.mode,Q),yr(k,z),k.return=I,k)}function U(I,k,z,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Ou(z,I.mode,Q),k.return=I,k):(k=g(k,z.children||[]),k.return=I,k)}function W(I,k,z,Q,ft){return k===null||k.tag!==7?(k=ms(z,I.mode,Q,ft),k.return=I,k):(k=g(k,z),k.return=I,k)}function Z(I,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Lu(""+k,I.mode,z),k.return=I,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return z=tl(k.type,k.key,k.props,null,I.mode,z),yr(z,k),z.return=I,z;case x:return k=Ou(k,I.mode,z),k.return=I,k;case V:return k=As(k),Z(I,k,z)}if(Et(k)||mt(k))return k=ms(k,I.mode,z,null),k.return=I,k;if(typeof k.then=="function")return Z(I,ol(k),z);if(k.$$typeof===T)return Z(I,il(I,k),z);ll(I,k)}return null}function q(I,k,z,Q){var ft=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:_(I,k,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===ft?L(I,k,z,Q):null;case x:return z.key===ft?U(I,k,z,Q):null;case V:return z=As(z),q(I,k,z,Q)}if(Et(z)||mt(z))return ft!==null?null:W(I,k,z,Q,null);if(typeof z.then=="function")return q(I,k,ol(z),Q);if(z.$$typeof===T)return q(I,k,il(I,z),Q);ll(I,z)}return null}function Y(I,k,z,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return I=I.get(z)||null,_(k,I,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return I=I.get(Q.key===null?z:Q.key)||null,L(k,I,Q,ft);case x:return I=I.get(Q.key===null?z:Q.key)||null,U(k,I,Q,ft);case V:return Q=As(Q),Y(I,k,z,Q,ft)}if(Et(Q)||mt(Q))return I=I.get(z)||null,W(k,I,Q,ft,null);if(typeof Q.then=="function")return Y(I,k,z,ol(Q),ft);if(Q.$$typeof===T)return Y(I,k,z,il(k,Q),ft);ll(k,Q)}return null}function lt(I,k,z,Q){for(var ft=null,kt=null,dt=k,Tt=k=0,Rt=null;dt!==null&&Tt<z.length;Tt++){dt.index>Tt?(Rt=dt,dt=null):Rt=dt.sibling;var Pt=q(I,dt,z[Tt],Q);if(Pt===null){dt===null&&(dt=Rt);break}n&&dt&&Pt.alternate===null&&s(I,dt),k=y(Pt,k,Tt),kt===null?ft=Pt:kt.sibling=Pt,kt=Pt,dt=Rt}if(Tt===z.length)return l(I,dt),Nt&&oi(I,Tt),ft;if(dt===null){for(;Tt<z.length;Tt++)dt=Z(I,z[Tt],Q),dt!==null&&(k=y(dt,k,Tt),kt===null?ft=dt:kt.sibling=dt,kt=dt);return Nt&&oi(I,Tt),ft}for(dt=h(dt);Tt<z.length;Tt++)Rt=Y(dt,I,Tt,z[Tt],Q),Rt!==null&&(n&&Rt.alternate!==null&&dt.delete(Rt.key===null?Tt:Rt.key),k=y(Rt,k,Tt),kt===null?ft=Rt:kt.sibling=Rt,kt=Rt);return n&&dt.forEach(function(Zi){return s(I,Zi)}),Nt&&oi(I,Tt),ft}function gt(I,k,z,Q){if(z==null)throw Error(i(151));for(var ft=null,kt=null,dt=k,Tt=k=0,Rt=null,Pt=z.next();dt!==null&&!Pt.done;Tt++,Pt=z.next()){dt.index>Tt?(Rt=dt,dt=null):Rt=dt.sibling;var Zi=q(I,dt,Pt.value,Q);if(Zi===null){dt===null&&(dt=Rt);break}n&&dt&&Zi.alternate===null&&s(I,dt),k=y(Zi,k,Tt),kt===null?ft=Zi:kt.sibling=Zi,kt=Zi,dt=Rt}if(Pt.done)return l(I,dt),Nt&&oi(I,Tt),ft;if(dt===null){for(;!Pt.done;Tt++,Pt=z.next())Pt=Z(I,Pt.value,Q),Pt!==null&&(k=y(Pt,k,Tt),kt===null?ft=Pt:kt.sibling=Pt,kt=Pt);return Nt&&oi(I,Tt),ft}for(dt=h(dt);!Pt.done;Tt++,Pt=z.next())Pt=Y(dt,I,Tt,Pt.value,Q),Pt!==null&&(n&&Pt.alternate!==null&&dt.delete(Pt.key===null?Tt:Pt.key),k=y(Pt,k,Tt),kt===null?ft=Pt:kt.sibling=Pt,kt=Pt);return n&&dt.forEach(function($E){return s(I,$E)}),Nt&&oi(I,Tt),ft}function Xt(I,k,z,Q){if(typeof z=="object"&&z!==null&&z.type===A&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:t:{for(var ft=z.key;k!==null;){if(k.key===ft){if(ft=z.type,ft===A){if(k.tag===7){l(I,k.sibling),Q=g(k,z.props.children),Q.return=I,I=Q;break t}}else if(k.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===V&&As(ft)===k.type){l(I,k.sibling),Q=g(k,z.props),yr(Q,z),Q.return=I,I=Q;break t}l(I,k);break}else s(I,k);k=k.sibling}z.type===A?(Q=ms(z.props.children,I.mode,Q,z.key),Q.return=I,I=Q):(Q=tl(z.type,z.key,z.props,null,I.mode,Q),yr(Q,z),Q.return=I,I=Q)}return S(I);case x:t:{for(ft=z.key;k!==null;){if(k.key===ft)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){l(I,k.sibling),Q=g(k,z.children||[]),Q.return=I,I=Q;break t}else{l(I,k);break}else s(I,k);k=k.sibling}Q=Ou(z,I.mode,Q),Q.return=I,I=Q}return S(I);case V:return z=As(z),Xt(I,k,z,Q)}if(Et(z))return lt(I,k,z,Q);if(mt(z)){if(ft=mt(z),typeof ft!="function")throw Error(i(150));return z=ft.call(z),gt(I,k,z,Q)}if(typeof z.then=="function")return Xt(I,k,ol(z),Q);if(z.$$typeof===T)return Xt(I,k,il(I,z),Q);ll(I,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(l(I,k.sibling),Q=g(k,z),Q.return=I,I=Q):(l(I,k),Q=Lu(z,I.mode,Q),Q.return=I,I=Q),S(I)):l(I,k)}return function(I,k,z,Q){try{gr=0;var ft=Xt(I,k,z,Q);return la=null,ft}catch(dt){if(dt===oa||dt===al)throw dt;var kt=cn(29,dt,null,I.mode);return kt.lanes=Q,kt.return=I,kt}}}var Ss=yg(!0),vg=yg(!1),Pi=!1;function qu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ji(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Bt&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=Jo(n),eg(n,null,l),s}return Zo(n,h,s,l),Jo(n)}function vr(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,cm(n,l)}}function Yu(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var $u=!1;function br(){if($u){var n=ra;if(n!==null)throw n}}function Ar(n,s,l,h){$u=!1;var g=n.updateQueue;Pi=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var L=_,U=L.next;L.next=null,S===null?y=U:S.next=U,S=L;var W=n.alternate;W!==null&&(W=W.updateQueue,_=W.lastBaseUpdate,_!==S&&(_===null?W.firstBaseUpdate=U:_.next=U,W.lastBaseUpdate=L))}if(y!==null){var Z=g.baseState;S=0,W=U=L=null,_=y;do{var q=_.lane&-536870913,Y=q!==_.lane;if(Y?(Dt&q)===q:(h&q)===q){q!==0&&q===aa&&($u=!0),W!==null&&(W=W.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var lt=n,gt=_;q=s;var Xt=l;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Z=lt.call(Xt,Z,q);break t}Z=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,q=typeof lt=="function"?lt.call(Xt,Z,q):lt,q==null)break t;Z=m({},Z,q);break t;case 2:Pi=!0}}q=_.callback,q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},W===null?(U=W=Y,L=Z):W=W.next=Y,S|=q;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;Y=_,_=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);W===null&&(L=Z),g.baseState=L,g.firstBaseUpdate=U,g.lastBaseUpdate=W,y===null&&(g.shared.lanes=0),Vi|=S,n.lanes=S,n.memoizedState=Z}}function bg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Ag(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)bg(l[n],s)}var ca=D(null),cl=D(0);function xg(n,s){n=vi,G(cl,n),G(ca,s),vi=n|s.baseLanes}function Ku(){G(cl,vi),G(ca,ca.current)}function Wu(){vi=cl.current,F(ca),F(cl)}var un=D(null),Tn=null;function Fi(n){var s=n.alternate;G(ue,ue.current&1),G(un,n),Tn===null&&(s===null||ca.current!==null||s.memoizedState!==null)&&(Tn=n)}function Qu(n){G(ue,ue.current),G(un,n),Tn===null&&(Tn=n)}function Sg(n){n.tag===22?(G(ue,ue.current),G(un,n),Tn===null&&(Tn=n)):Ii()}function Ii(){G(ue,ue.current),G(un,un.current)}function hn(n){F(un),Tn===n&&(Tn=null),F(ue)}var ue=D(0);function ul(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||id(l)||sd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ui=0,wt=null,Gt=null,ge=null,hl=!1,ua=!1,ws=!1,dl=0,xr=0,ha=null,Fw=0;function ae(){throw Error(i(321))}function Zu(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ln(n[l],s[l]))return!1;return!0}function Ju(n,s,l,h,g,y){return ui=y,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?a0:ph,ws=!1,y=l(h,g),ws=!1,ua&&(y=Eg(s,l,h,g)),wg(n),y}function wg(n){B.H=Er;var s=Gt!==null&&Gt.next!==null;if(ui=0,ge=Gt=wt=null,hl=!1,xr=0,ha=null,s)throw Error(i(300));n===null||ye||(n=n.dependencies,n!==null&&nl(n)&&(ye=!0))}function Eg(n,s,l,h){wt=n;var g=0;do{if(ua&&(ha=null),xr=0,ua=!1,25<=g)throw Error(i(301));if(g+=1,ge=Gt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=r0,y=s(l,h)}while(ua);return y}function Iw(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Sr(s):s,n=n.useState()[0],(Gt!==null?Gt.memoizedState:null)!==n&&(wt.flags|=1024),s}function th(){var n=dl!==0;return dl=0,n}function eh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function nh(n){if(hl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}hl=!1}ui=0,ge=Gt=wt=null,ua=!1,xr=dl=0,ha=null}function He(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=n:ge=ge.next=n,ge}function he(){if(Gt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var s=ge===null?wt.memoizedState:ge.next;if(s!==null)ge=s,Gt=n;else{if(n===null)throw wt.alternate===null?Error(i(467)):Error(i(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ge===null?wt.memoizedState=ge=n:ge=ge.next=n}return ge}function fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sr(n){var s=xr;return xr+=1,ha===null&&(ha=[]),n=pg(ha,n,s),s=wt,(ge===null?s.memoizedState:ge.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?a0:ph),n}function pl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sr(n);if(n.$$typeof===T)return ke(n)}throw Error(i(438,String(n)))}function ih(n){var s=null,l=wt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=wt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=fl(),wt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),h=0;h<n;h++)l[h]=nt;return s.index++,l}function hi(n,s){return typeof s=="function"?s(n):s}function ml(n){var s=he();return sh(s,Gt,n)}function sh(n,s,l){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var g=n.baseQueue,y=h.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}s.baseQueue=g=y,h.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var _=S=null,L=null,U=s,W=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Dt&Z)===Z:(ui&Z)===Z){var q=U.revertLane;if(q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===aa&&(W=!0);else if((ui&q)===q){U=U.next,q===aa&&(W=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},L===null?(_=L=Z,S=y):L=L.next=Z,wt.lanes|=q,Vi|=q;Z=U.action,ws&&l(y,Z),y=U.hasEagerState?U.eagerState:l(y,Z)}else q={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},L===null?(_=L=q,S=y):L=L.next=q,wt.lanes|=Z,Vi|=Z;U=U.next}while(U!==null&&U!==s);if(L===null?S=y:L.next=_,!ln(y,n.memoizedState)&&(ye=!0,W&&(l=ra,l!==null)))throw l;n.memoizedState=y,n.baseState=S,n.baseQueue=L,h.lastRenderedState=y}return g===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function ah(n){var s=he(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=n(y,S.action),S=S.next;while(S!==g);ln(y,s.memoizedState)||(ye=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Tg(n,s,l){var h=wt,g=he(),y=Nt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!ln((Gt||g).memoizedState,l);if(S&&(g.memoizedState=l,ye=!0),g=g.queue,lh(Mg.bind(null,h,g,n),[n]),g.getSnapshot!==s||S||ge!==null&&ge.memoizedState.tag&1){if(h.flags|=2048,da(9,{destroy:void 0},_g.bind(null,h,g,l,s),null),$t===null)throw Error(i(349));y||(ui&127)!==0||Cg(h,s,l)}return l}function Cg(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=wt.updateQueue,s===null?(s=fl(),wt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function _g(n,s,l,h){s.value=l,s.getSnapshot=h,Dg(s)&&Rg(n)}function Mg(n,s,l){return l(function(){Dg(s)&&Rg(n)})}function Dg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ln(n,l)}catch{return!0}}function Rg(n){var s=ps(n,2);s!==null&&tn(s,n,2)}function rh(n){var s=He();if(typeof n=="function"){var l=n;if(n=l(),ws){Mi(!0);try{l()}finally{Mi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},s}function Ng(n,s,l,h){return n.baseState=l,sh(n,Gt,typeof h=="function"?h:hi)}function zw(n,s,l,h,g){if(vl(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};B.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,Lg(s,y)):(y.next=l.next,s.pending=l.next=y)}}function Lg(n,s){var l=s.action,h=s.payload,g=n.state;if(s.isTransition){var y=B.T,S={};B.T=S;try{var _=l(g,h),L=B.S;L!==null&&L(S,_),Og(n,s,_)}catch(U){oh(n,s,U)}finally{y!==null&&S.types!==null&&(y.types=S.types),B.T=y}}else try{y=l(g,h),Og(n,s,y)}catch(U){oh(n,s,U)}}function Og(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){kg(n,s,h)},function(h){return oh(n,s,h)}):kg(n,s,l)}function kg(n,s,l){s.status="fulfilled",s.value=l,Pg(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Lg(n,l)))}function oh(n,s,l){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,Pg(s),s=s.next;while(s!==h)}n.action=null}function Pg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Bg(n,s){return s}function jg(n,s){if(Nt){var l=$t.formState;if(l!==null){t:{var h=wt;if(Nt){if(Wt){e:{for(var g=Wt,y=En;g.nodeType!==8;){if(!y){g=null;break e}if(g=Cn(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Wt=Cn(g.nextSibling),h=g.data==="F!";break t}}Oi(h)}h=!1}h&&(s=l[0])}}return l=He(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:s},l.queue=h,l=n0.bind(null,wt,h),h.dispatch=l,h=rh(!1),y=fh.bind(null,wt,!1,h.queue),h=He(),g={state:s,dispatch:null,action:n,pending:null},h.queue=g,l=zw.bind(null,wt,g,y,l),g.dispatch=l,h.memoizedState=n,[s,l,!1]}function Fg(n){var s=he();return Ig(s,Gt,n)}function Ig(n,s,l){if(s=sh(n,s,Bg)[0],n=ml(hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Sr(s)}catch(S){throw S===oa?al:S}else h=s;s=he();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(wt.flags|=2048,da(9,{destroy:void 0},Uw.bind(null,g,l),null)),[h,y,n]}function Uw(n,s){n.action=s}function zg(n){var s=he(),l=Gt;if(l!==null)return Ig(s,l,n);he(),s=s.memoizedState,l=he();var h=l.queue.dispatch;return l.memoizedState=n,[s,h,!1]}function da(n,s,l,h){return n={tag:n,create:l,deps:h,inst:s,next:null},s=wt.updateQueue,s===null&&(s=fl(),wt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n),n}function Ug(){return he().memoizedState}function gl(n,s,l,h){var g=He();wt.flags|=n,g.memoizedState=da(1|s,{destroy:void 0},l,h===void 0?null:h)}function yl(n,s,l,h){var g=he();h=h===void 0?null:h;var y=g.memoizedState.inst;Gt!==null&&h!==null&&Zu(h,Gt.memoizedState.deps)?g.memoizedState=da(s,y,l,h):(wt.flags|=n,g.memoizedState=da(1|s,y,l,h))}function Vg(n,s){gl(8390656,8,n,s)}function lh(n,s){yl(2048,8,n,s)}function Vw(n){wt.flags|=4;var s=wt.updateQueue;if(s===null)s=fl(),wt.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function Hg(n){var s=he().memoizedState;return Vw({ref:s,nextImpl:n}),function(){if((Bt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Gg(n,s){return yl(4,2,n,s)}function qg(n,s){return yl(4,4,n,s)}function Xg(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Yg(n,s,l){l=l!=null?l.concat([n]):null,yl(4,4,Xg.bind(null,s,n),l)}function ch(){}function $g(n,s){var l=he();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Zu(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function Kg(n,s){var l=he();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Zu(s,h[1]))return h[0];if(h=n(),ws){Mi(!0);try{n()}finally{Mi(!1)}}return l.memoizedState=[h,s],h}function uh(n,s,l){return l===void 0||(ui&1073741824)!==0&&(Dt&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=W0(),wt.lanes|=n,Vi|=n,l)}function Wg(n,s,l,h){return ln(l,s)?l:ca.current!==null?(n=uh(n,l,h),ln(n,s)||(ye=!0),n):(ui&42)===0||(ui&1073741824)!==0&&(Dt&261930)===0?(ye=!0,n.memoizedState=l):(n=W0(),wt.lanes|=n,Vi|=n,s)}function Qg(n,s,l,h,g){var y=H.p;H.p=y!==0&&8>y?y:8;var S=B.T,_={};B.T=_,fh(n,!1,s,l);try{var L=g(),U=B.S;if(U!==null&&U(_,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=jw(L,h);wr(n,s,W,pn(n))}else wr(n,s,h,pn(n))}catch(Z){wr(n,s,{then:function(){},status:"rejected",reason:Z},pn())}finally{H.p=y,S!==null&&_.types!==null&&(S.types=_.types),B.T=S}}function Hw(){}function hh(n,s,l,h){if(n.tag!==5)throw Error(i(476));var g=Zg(n).queue;Qg(n,g,s,tt,l===null?Hw:function(){return Jg(n),l(h)})}function Zg(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:tt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Jg(n){var s=Zg(n);s.next===null&&(s=n.alternate.memoizedState),wr(n,s.next.queue,{},pn())}function dh(){return ke(zr)}function t0(){return he().memoizedState}function e0(){return he().memoizedState}function Gw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=pn();n=Bi(l);var h=ji(s,n,l);h!==null&&(tn(h,s,l),vr(h,s,l)),s={cache:Uu()},n.payload=s;return}s=s.return}}function qw(n,s,l){var h=pn();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vl(n)?i0(s,l):(l=Ru(n,s,l,h),l!==null&&(tn(l,n,h),s0(l,s,h)))}function n0(n,s,l){var h=pn();wr(n,s,l,h)}function wr(n,s,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(vl(n))i0(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,_=y(S,l);if(g.hasEagerState=!0,g.eagerState=_,ln(_,S))return Zo(n,s,g,0),$t===null&&Qo(),!1}catch{}if(l=Ru(n,s,g,h),l!==null)return tn(l,n,h),s0(l,s,h),!0}return!1}function fh(n,s,l,h){if(h={lane:2,revertLane:qh(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},vl(n)){if(s)throw Error(i(479))}else s=Ru(n,l,h,2),s!==null&&tn(s,n,2)}function vl(n){var s=n.alternate;return n===wt||s!==null&&s===wt}function i0(n,s){ua=hl=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function s0(n,s,l){if((l&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,cm(n,l)}}var Er={readContext:ke,use:pl,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useLayoutEffect:ae,useInsertionEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useSyncExternalStore:ae,useId:ae,useHostTransitionStatus:ae,useFormState:ae,useActionState:ae,useOptimistic:ae,useMemoCache:ae,useCacheRefresh:ae};Er.useEffectEvent=ae;var a0={readContext:ke,use:pl,useCallback:function(n,s){return He().memoizedState=[n,s===void 0?null:s],n},useContext:ke,useEffect:Vg,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,gl(4194308,4,Xg.bind(null,s,n),l)},useLayoutEffect:function(n,s){return gl(4194308,4,n,s)},useInsertionEffect:function(n,s){gl(4,2,n,s)},useMemo:function(n,s){var l=He();s=s===void 0?null:s;var h=n();if(ws){Mi(!0);try{n()}finally{Mi(!1)}}return l.memoizedState=[h,s],h},useReducer:function(n,s,l){var h=He();if(l!==void 0){var g=l(s);if(ws){Mi(!0);try{l(s)}finally{Mi(!1)}}}else g=s;return h.memoizedState=h.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},h.queue=n,n=n.dispatch=qw.bind(null,wt,n),[h.memoizedState,n]},useRef:function(n){var s=He();return n={current:n},s.memoizedState=n},useState:function(n){n=rh(n);var s=n.queue,l=n0.bind(null,wt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:ch,useDeferredValue:function(n,s){var l=He();return uh(l,n,s)},useTransition:function(){var n=rh(!1);return n=Qg.bind(null,wt,n.queue,!0,!1),He().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var h=wt,g=He();if(Nt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),$t===null)throw Error(i(349));(Dt&127)!==0||Cg(h,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,Vg(Mg.bind(null,h,y,n),[n]),h.flags|=2048,da(9,{destroy:void 0},_g.bind(null,h,y,l,s),null),l},useId:function(){var n=He(),s=$t.identifierPrefix;if(Nt){var l=Vn,h=Un;l=(h&~(1<<32-on(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=dl++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Fw++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:dh,useFormState:jg,useActionState:jg,useOptimistic:function(n){var s=He();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=fh.bind(null,wt,!0,l),l.dispatch=s,[n,s]},useMemoCache:ih,useCacheRefresh:function(){return He().memoizedState=Gw.bind(null,wt)},useEffectEvent:function(n){var s=He(),l={impl:n};return s.memoizedState=l,function(){if((Bt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},ph={readContext:ke,use:pl,useCallback:$g,useContext:ke,useEffect:lh,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:Kg,useReducer:ml,useRef:Ug,useState:function(){return ml(hi)},useDebugValue:ch,useDeferredValue:function(n,s){var l=he();return Wg(l,Gt.memoizedState,n,s)},useTransition:function(){var n=ml(hi)[0],s=he().memoizedState;return[typeof n=="boolean"?n:Sr(n),s]},useSyncExternalStore:Tg,useId:t0,useHostTransitionStatus:dh,useFormState:Fg,useActionState:Fg,useOptimistic:function(n,s){var l=he();return Ng(l,Gt,n,s)},useMemoCache:ih,useCacheRefresh:e0};ph.useEffectEvent=Hg;var r0={readContext:ke,use:pl,useCallback:$g,useContext:ke,useEffect:lh,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:Kg,useReducer:ah,useRef:Ug,useState:function(){return ah(hi)},useDebugValue:ch,useDeferredValue:function(n,s){var l=he();return Gt===null?uh(l,n,s):Wg(l,Gt.memoizedState,n,s)},useTransition:function(){var n=ah(hi)[0],s=he().memoizedState;return[typeof n=="boolean"?n:Sr(n),s]},useSyncExternalStore:Tg,useId:t0,useHostTransitionStatus:dh,useFormState:zg,useActionState:zg,useOptimistic:function(n,s){var l=he();return Gt!==null?Ng(l,Gt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:ih,useCacheRefresh:e0};r0.useEffectEvent=Hg;function mh(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var gh={enqueueSetState:function(n,s,l){n=n._reactInternals;var h=pn(),g=Bi(h);g.payload=s,l!=null&&(g.callback=l),s=ji(n,g,h),s!==null&&(tn(s,n,h),vr(s,n,h))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=pn(),g=Bi(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ji(n,g,h),s!==null&&(tn(s,n,h),vr(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=pn(),h=Bi(l);h.tag=2,s!=null&&(h.callback=s),s=ji(n,h,l),s!==null&&(tn(s,n,l),vr(s,n,l))}};function o0(n,s,l,h,g,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,S):s.prototype&&s.prototype.isPureReactComponent?!ur(l,h)||!ur(g,y):!0}function l0(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&gh.enqueueReplaceState(s,s.state,null)}function Es(n,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function c0(n){Wo(n)}function u0(n){console.error(n)}function h0(n){Wo(n)}function bl(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function d0(n,s,l){try{var h=n.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yh(n,s,l){return l=Bi(l),l.tag=3,l.payload={element:null},l.callback=function(){bl(n,s)},l}function f0(n){return n=Bi(n),n.tag=3,n}function p0(n,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;n.payload=function(){return g(y)},n.callback=function(){d0(s,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){d0(s,l,h),typeof g!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var _=h.stack;this.componentDidCatch(h.value,{componentStack:_!==null?_:""})})}function Xw(n,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&sa(s,l,g,!0),l=un.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Nl():l.alternate===null&&re===0&&(re=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===rl?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Vh(n,h,g)),!1;case 22:return l.flags|=65536,h===rl?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Vh(n,h,g)),!1}throw Error(i(435,l.tag))}return Vh(n,h,g),Nl(),!1}if(Nt)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==Bu&&(n=Error(i(422),{cause:h}),fr(xn(n,l)))):(h!==Bu&&(s=Error(i(423),{cause:h}),fr(xn(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,h=xn(h,l),g=yh(n.stateNode,h,g),Yu(n,g),re!==4&&(re=2)),!1;var y=Error(i(520),{cause:h});if(y=xn(y,l),Lr===null?Lr=[y]:Lr.push(y),re!==4&&(re=2),s===null)return!0;h=xn(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=yh(l.stateNode,h,n),Yu(l,n),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hi===null||!Hi.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=f0(g),p0(g,n,l,h),Yu(l,g),!1}l=l.return}while(l!==null);return!1}var vh=Error(i(461)),ye=!1;function Pe(n,s,l,h){s.child=n===null?vg(s,null,l,h):Ss(s,n.child,l,h)}function m0(n,s,l,h,g){l=l.render;var y=s.ref;if("ref"in h){var S={};for(var _ in h)_!=="ref"&&(S[_]=h[_])}else S=h;return vs(s),h=Ju(n,s,l,S,y,g),_=th(),n!==null&&!ye?(eh(n,s,g),di(n,s,g)):(Nt&&_&&ku(s),s.flags|=1,Pe(n,s,h,g),s.child)}function g0(n,s,l,h,g){if(n===null){var y=l.type;return typeof y=="function"&&!Nu(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,y0(n,s,y,h,g)):(n=tl(l.type,null,h,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Ch(n,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:ur,l(S,h)&&n.ref===s.ref)return di(n,s,g)}return s.flags|=1,n=ri(y,h),n.ref=s.ref,n.return=s,s.child=n}function y0(n,s,l,h,g){if(n!==null){var y=n.memoizedProps;if(ur(y,h)&&n.ref===s.ref)if(ye=!1,s.pendingProps=h=y,Ch(n,g))(n.flags&131072)!==0&&(ye=!0);else return s.lanes=n.lanes,di(n,s,g)}return bh(n,s,l,h,g)}function v0(n,s,l,h){var g=h.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,n!==null){for(h=s.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,s.child=null;return b0(n,s,y,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&sl(s,y!==null?y.cachePool:null),y!==null?xg(s,y):Ku(),Sg(s);else return h=s.lanes=536870912,b0(n,s,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(sl(s,y.cachePool),xg(s,y),Ii(),s.memoizedState=null):(n!==null&&sl(s,null),Ku(),Ii());return Pe(n,s,g,l),s.child}function Tr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function b0(n,s,l,h,g){var y=Hu();return y=y===null?null:{parent:me._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},n!==null&&sl(s,null),Ku(),Sg(s),n!==null&&sa(n,s,h,!0),s.childLanes=g,null}function Al(n,s){return s=Sl({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function A0(n,s,l){return Ss(s,n.child,null,l),n=Al(s,s.pendingProps),n.flags|=2,hn(s),s.memoizedState=null,n}function Yw(n,s,l){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Nt){if(h.mode==="hidden")return n=Al(s,h),s.lanes=536870912,Tr(null,n);if(Qu(s),(n=Wt)?(n=Ly(n,En),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ni!==null?{id:Un,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},l=ig(n),l.return=s,s.child=l,Oe=s,Wt=null)):n=null,n===null)throw Oi(s);return s.lanes=536870912,null}return Al(s,h)}var y=n.memoizedState;if(y!==null){var S=y.dehydrated;if(Qu(s),g)if(s.flags&256)s.flags&=-257,s=A0(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(ye||sa(n,s,l,!1),g=(l&n.childLanes)!==0,ye||g){if(h=$t,h!==null&&(S=um(h,l),S!==0&&S!==y.retryLane))throw y.retryLane=S,ps(n,S),tn(h,n,S),vh;Nl(),s=A0(n,s,l)}else n=y.treeContext,Wt=Cn(S.nextSibling),Oe=s,Nt=!0,Li=null,En=!1,n!==null&&rg(s,n),s=Al(s,h),s.flags|=4096;return s}return n=ri(n.child,{mode:h.mode,children:h.children}),n.ref=s.ref,s.child=n,n.return=s,n}function xl(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function bh(n,s,l,h,g){return vs(s),l=Ju(n,s,l,h,void 0,g),h=th(),n!==null&&!ye?(eh(n,s,g),di(n,s,g)):(Nt&&h&&ku(s),s.flags|=1,Pe(n,s,l,g),s.child)}function x0(n,s,l,h,g,y){return vs(s),s.updateQueue=null,l=Eg(s,h,l,g),wg(n),h=th(),n!==null&&!ye?(eh(n,s,y),di(n,s,y)):(Nt&&h&&ku(s),s.flags|=1,Pe(n,s,l,y),s.child)}function S0(n,s,l,h,g){if(vs(s),s.stateNode===null){var y=ta,S=l.contextType;typeof S=="object"&&S!==null&&(y=ke(S)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},qu(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?ke(S):ta,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(mh(s,l,S,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&gh.enqueueReplaceState(y,y.state,null),Ar(s,h,y,g),br(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){y=s.stateNode;var _=s.memoizedProps,L=Es(l,_);y.props=L;var U=y.context,W=l.contextType;S=ta,typeof W=="object"&&W!==null&&(S=ke(W));var Z=l.getDerivedStateFromProps;W=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||U!==S)&&l0(s,y,h,S),Pi=!1;var q=s.memoizedState;y.state=q,Ar(s,h,y,g),br(),U=s.memoizedState,_||q!==U||Pi?(typeof Z=="function"&&(mh(s,l,Z,h),U=s.memoizedState),(L=Pi||o0(s,l,L,h,q,U,S))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=U),y.props=h,y.state=U,y.context=S,h=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,Xu(n,s),S=s.memoizedProps,W=Es(l,S),y.props=W,Z=s.pendingProps,q=y.context,U=l.contextType,L=ta,typeof U=="object"&&U!==null&&(L=ke(U)),_=l.getDerivedStateFromProps,(U=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==Z||q!==L)&&l0(s,y,h,L),Pi=!1,q=s.memoizedState,y.state=q,Ar(s,h,y,g),br();var Y=s.memoizedState;S!==Z||q!==Y||Pi||n!==null&&n.dependencies!==null&&nl(n.dependencies)?(typeof _=="function"&&(mh(s,l,_,h),Y=s.memoizedState),(W=Pi||o0(s,l,W,h,q,Y,L)||n!==null&&n.dependencies!==null&&nl(n.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Y,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Y,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Y),y.props=h,y.state=Y,y.context=L,h=W):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),h=!1)}return y=h,xl(n,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&h?(s.child=Ss(s,n.child,null,g),s.child=Ss(s,null,l,g)):Pe(n,s,l,g),s.memoizedState=y.state,n=s.child):n=di(n,s,g),n}function w0(n,s,l,h){return gs(),s.flags|=256,Pe(n,s,l,h),s.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(n){return{baseLanes:n,cachePool:dg()}}function Sh(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=fn),n}function E0(n,s,l){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(ue.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(Nt){if(g?Fi(s):Ii(),(n=Wt)?(n=Ly(n,En),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ni!==null?{id:Un,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},l=ig(n),l.return=s,s.child=l,Oe=s,Wt=null)):n=null,n===null)throw Oi(s);return sd(n)?s.lanes=32:s.lanes=536870912,null}var _=h.children;return h=h.fallback,g?(Ii(),g=s.mode,_=Sl({mode:"hidden",children:_},g),h=ms(h,g,l,null),_.return=s,h.return=s,_.sibling=h,s.child=_,h=s.child,h.memoizedState=xh(l),h.childLanes=Sh(n,S,l),s.memoizedState=Ah,Tr(null,h)):(Fi(s),wh(s,_))}var L=n.memoizedState;if(L!==null&&(_=L.dehydrated,_!==null)){if(y)s.flags&256?(Fi(s),s.flags&=-257,s=Eh(n,s,l)):s.memoizedState!==null?(Ii(),s.child=n.child,s.flags|=128,s=null):(Ii(),_=h.fallback,g=s.mode,h=Sl({mode:"visible",children:h.children},g),_=ms(_,g,l,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,Ss(s,n.child,null,l),h=s.child,h.memoizedState=xh(l),h.childLanes=Sh(n,S,l),s.memoizedState=Ah,s=Tr(null,h));else if(Fi(s),sd(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var U=S.dgst;S=U,h=Error(i(419)),h.stack="",h.digest=S,fr({value:h,source:null,stack:null}),s=Eh(n,s,l)}else if(ye||sa(n,s,l,!1),S=(l&n.childLanes)!==0,ye||S){if(S=$t,S!==null&&(h=um(S,l),h!==0&&h!==L.retryLane))throw L.retryLane=h,ps(n,h),tn(S,n,h),vh;id(_)||Nl(),s=Eh(n,s,l)}else id(_)?(s.flags|=192,s.child=n.child,s=null):(n=L.treeContext,Wt=Cn(_.nextSibling),Oe=s,Nt=!0,Li=null,En=!1,n!==null&&rg(s,n),s=wh(s,h.children),s.flags|=4096);return s}return g?(Ii(),_=h.fallback,g=s.mode,L=n.child,U=L.sibling,h=ri(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&65011712,U!==null?_=ri(U,_):(_=ms(_,g,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,Tr(null,h),h=s.child,_=n.child.memoizedState,_===null?_=xh(l):(g=_.cachePool,g!==null?(L=me._currentValue,g=g.parent!==L?{parent:L,pool:L}:g):g=dg(),_={baseLanes:_.baseLanes|l,cachePool:g}),h.memoizedState=_,h.childLanes=Sh(n,S,l),s.memoizedState=Ah,Tr(n.child,h)):(Fi(s),l=n.child,n=l.sibling,l=ri(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=l,s.memoizedState=null,l)}function wh(n,s){return s=Sl({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Sl(n,s){return n=cn(22,n,null,s),n.lanes=0,n}function Eh(n,s,l){return Ss(s,n.child,null,l),n=wh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function T0(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),Iu(n.return,s,l)}function Th(n,s,l,h,g,y){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=l,S.tailMode=g,S.treeForkCount=y)}function C0(n,s,l){var h=s.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var S=ue.current,_=(S&2)!==0;if(_?(S=S&1|2,s.flags|=128):S&=1,G(ue,S),Pe(n,s,h,l),h=Nt?dr:0,!_&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T0(n,l,s);else if(n.tag===19)T0(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&ul(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Th(s,!1,g,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&ul(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}Th(s,!0,l,null,y,h);break;case"together":Th(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function di(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Vi|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(sa(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=ri(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=ri(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Ch(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&nl(n)))}function $w(n,s,l){switch(s.tag){case 3:Ct(s,s.stateNode.containerInfo),ki(s,me,n.memoizedState.cache),gs();break;case 27:case 5:vt(s);break;case 4:Ct(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Qu(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Fi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?E0(n,s,l):(Fi(s),n=di(n,s,l),n!==null?n.sibling:null);Fi(s);break;case 19:var g=(n.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(sa(n,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return C0(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),G(ue,ue.current),h)break;return null;case 22:return s.lanes=0,v0(n,s,l,s.pendingProps);case 24:ki(s,me,n.memoizedState.cache)}return di(n,s,l)}function _0(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)ye=!0;else{if(!Ch(n,l)&&(s.flags&128)===0)return ye=!1,$w(n,s,l);ye=(n.flags&131072)!==0}else ye=!1,Nt&&(s.flags&1048576)!==0&&ag(s,dr,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(n=As(s.elementType),s.type=n,typeof n=="function")Nu(n)?(h=Es(n,h),s.tag=1,s=S0(null,s,n,h,l)):(s.tag=0,s=bh(null,s,n,h,l));else{if(n!=null){var g=n.$$typeof;if(g===N){s.tag=11,s=m0(null,s,n,h,l);break t}else if(g===P){s.tag=14,s=g0(null,s,n,h,l);break t}}throw s=ht(n)||n,Error(i(306,s,""))}}return s;case 0:return bh(n,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=Es(h,s.pendingProps),S0(n,s,h,g,l);case 3:t:{if(Ct(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,Xu(n,s),Ar(s,h,null,l);var S=s.memoizedState;if(h=S.cache,ki(s,me,h),h!==y.cache&&zu(s,[me],l,!0),br(),h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=w0(n,s,h,l);break t}else if(h!==g){g=xn(Error(i(424)),s),fr(g),s=w0(n,s,h,l);break t}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Wt=Cn(n.firstChild),Oe=s,Nt=!0,Li=null,En=!0,l=vg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(gs(),h===g){s=di(n,s,l);break t}Pe(n,s,h,l)}s=s.child}return s;case 26:return xl(n,s),n===null?(l=Fy(s.type,null,s.pendingProps,null))?s.memoizedState=l:Nt||(l=s.type,n=s.pendingProps,h=Fl(ut.current).createElement(l),h[Le]=s,h[$e]=n,Be(h,l,n),Me(h),s.stateNode=h):s.memoizedState=Fy(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return vt(s),n===null&&Nt&&(h=s.stateNode=Py(s.type,s.pendingProps,ut.current),Oe=s,En=!0,g=Wt,Yi(s.type)?(ad=g,Wt=Cn(h.firstChild)):Wt=g),Pe(n,s,s.pendingProps.children,l),xl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Nt&&((g=h=Wt)&&(h=EE(h,s.type,s.pendingProps,En),h!==null?(s.stateNode=h,Oe=s,Wt=Cn(h.firstChild),En=!1,g=!0):g=!1),g||Oi(s)),vt(s),g=s.type,y=s.pendingProps,S=n!==null?n.memoizedProps:null,h=y.children,td(g,y)?h=null:S!==null&&td(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=Ju(n,s,Iw,null,null,l),zr._currentValue=g),xl(n,s),Pe(n,s,h,l),s.child;case 6:return n===null&&Nt&&((n=l=Wt)&&(l=TE(l,s.pendingProps,En),l!==null?(s.stateNode=l,Oe=s,Wt=null,n=!0):n=!1),n||Oi(s)),null;case 13:return E0(n,s,l);case 4:return Ct(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Ss(s,null,h,l):Pe(n,s,h,l),s.child;case 11:return m0(n,s,s.type,s.pendingProps,l);case 7:return Pe(n,s,s.pendingProps,l),s.child;case 8:return Pe(n,s,s.pendingProps.children,l),s.child;case 12:return Pe(n,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,ki(s,s.type,h.value),Pe(n,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,vs(s),g=ke(g),h=h(g),s.flags|=1,Pe(n,s,h,l),s.child;case 14:return g0(n,s,s.type,s.pendingProps,l);case 15:return y0(n,s,s.type,s.pendingProps,l);case 19:return C0(n,s,l);case 31:return Yw(n,s,l);case 22:return v0(n,s,l,s.pendingProps);case 24:return vs(s),h=ke(me),n===null?(g=Hu(),g===null&&(g=$t,y=Uu(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:h,cache:g},qu(s),ki(s,me,g)):((n.lanes&l)!==0&&(Xu(n,s),Ar(s,null,null,l),br()),g=n.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),ki(s,me,h)):(h=y.cache,ki(s,me,h),h!==g.cache&&zu(s,[me],l,!0))),Pe(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fi(n){n.flags|=4}function _h(n,s,l,h,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(ty())n.flags|=8192;else throw xs=rl,Gu}else n.flags&=-16777217}function M0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Hy(s))if(ty())n.flags|=8192;else throw xs=rl,Gu}function wl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?om():536870912,n.lanes|=s,ga|=s)}function Cr(n,s){if(!Nt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Qt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function Kw(n,s,l){var h=s.pendingProps;switch(Pu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(s),null;case 1:return Qt(s),null;case 3:return l=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ci(me),at(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ia(s)?fi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ju())),Qt(s),null;case 26:var g=s.type,y=s.memoizedState;return n===null?(fi(s),y!==null?(Qt(s),M0(s,y)):(Qt(s),_h(s,g,null,h,l))):y?y!==n.memoizedState?(fi(s),Qt(s),M0(s,y)):(Qt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==h&&fi(s),Qt(s),_h(s,g,n,h,l)),null;case 27:if(Ot(s),l=ut.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&fi(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}n=J.current,ia(s)?og(s):(n=Py(g,h,l),s.stateNode=n,fi(s))}return Qt(s),null;case 5:if(Ot(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&fi(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Qt(s),null}if(y=J.current,ia(s))og(s);else{var S=Fl(ut.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?S.createElement(g,{is:h.is}):S.createElement(g)}}y[Le]=s,y[$e]=h;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=y;t:switch(Be(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&fi(s)}}return Qt(s),_h(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&fi(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=ut.current,ia(s)){if(n=s.stateNode,l=s.memoizedProps,h=null,g=Oe,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}n[Le]=s,n=!!(n.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Ey(n.nodeValue,l)),n||Oi(s,!0)}else n=Fl(n).createTextNode(h),n[Le]=s,s.stateNode=n}return Qt(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(h=ia(s),l!==null){if(n===null){if(!h)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Le]=s}else gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),n=!1}else l=ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(hn(s),s):(hn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Qt(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ia(s),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Le]=s}else gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qt(s),g=!1}else g=ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(hn(s),s):(hn(s),null)}return hn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,n=n!==null&&n.memoizedState!==null,l&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),wl(s,s.updateQueue),Qt(s),null);case 4:return at(),n===null&&Kh(s.stateNode.containerInfo),Qt(s),null;case 10:return ci(s.type),Qt(s),null;case 19:if(F(ue),h=s.memoizedState,h===null)return Qt(s),null;if(g=(s.flags&128)!==0,y=h.rendering,y===null)if(g)Cr(h,!1);else{if(re!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=ul(n),y!==null){for(s.flags|=128,Cr(h,!1),n=y.updateQueue,s.updateQueue=n,wl(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)ng(l,n),l=l.sibling;return G(ue,ue.current&1|2),Nt&&oi(s,h.treeForkCount),s.child}n=n.sibling}h.tail!==null&&an()>Ml&&(s.flags|=128,g=!0,Cr(h,!1),s.lanes=4194304)}else{if(!g)if(n=ul(y),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,wl(s,n),Cr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Nt)return Qt(s),null}else 2*an()-h.renderingStartTime>Ml&&l!==536870912&&(s.flags|=128,g=!0,Cr(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(n=h.last,n!==null?n.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=an(),n.sibling=null,l=ue.current,G(ue,g?l&1|2:l&1),Nt&&oi(s,h.treeForkCount),n):(Qt(s),null);case 22:case 23:return hn(s),Wu(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Qt(s),s.subtreeFlags&6&&(s.flags|=8192)):Qt(s),l=s.updateQueue,l!==null&&wl(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),n!==null&&F(bs),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ci(me),Qt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Ww(n,s){switch(Pu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ci(me),at(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ot(s),null;case 31:if(s.memoizedState!==null){if(hn(s),s.alternate===null)throw Error(i(340));gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(hn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return F(ue),null;case 4:return at(),null;case 10:return ci(s.type),null;case 22:case 23:return hn(s),Wu(),n!==null&&F(bs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ci(me),null;case 25:return null;default:return null}}function D0(n,s){switch(Pu(s),s.tag){case 3:ci(me),at();break;case 26:case 27:case 5:Ot(s);break;case 4:at();break;case 31:s.memoizedState!==null&&hn(s);break;case 13:hn(s);break;case 19:F(ue);break;case 10:ci(s.type);break;case 22:case 23:hn(s),Wu(),n!==null&&F(bs);break;case 24:ci(me)}}function _r(n,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&n)===n){h=void 0;var y=l.create,S=l.inst;h=y(),S.destroy=h}l=l.next}while(l!==g)}}catch(_){Ht(s,s.return,_)}}function zi(n,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&n)===n){var S=h.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,g=s;var L=l,U=_;try{U()}catch(W){Ht(g,L,W)}}}h=h.next}while(h!==y)}}catch(W){Ht(s,s.return,W)}}function R0(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ag(s,l)}catch(h){Ht(n,n.return,h)}}}function N0(n,s,l){l.props=Es(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(h){Ht(n,s,h)}}function Mr(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof l=="function"?n.refCleanup=l(h):l.current=h}}catch(g){Ht(n,s,g)}}function Hn(n,s){var l=n.ref,h=n.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Ht(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ht(n,s,g)}else l.current=null}function L0(n){var s=n.type,l=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Ht(n,n.return,g)}}function Mh(n,s,l){try{var h=n.stateNode;vE(h,n.type,l,s),h[$e]=s}catch(g){Ht(n,n.return,g)}}function O0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Yi(n.type)||n.tag===4}function Dh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||O0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Yi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rh(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=si));else if(h!==4&&(h===27&&Yi(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(Rh(n,s,l),n=n.sibling;n!==null;)Rh(n,s,l),n=n.sibling}function El(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(h===27&&Yi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(El(n,s,l),n=n.sibling;n!==null;)El(n,s,l),n=n.sibling}function k0(n){var s=n.stateNode,l=n.memoizedProps;try{for(var h=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Be(s,h,l),s[Le]=n,s[$e]=l}catch(y){Ht(n,n.return,y)}}var pi=!1,ve=!1,Nh=!1,P0=typeof WeakSet=="function"?WeakSet:Set,De=null;function Qw(n,s){if(n=n.containerInfo,Zh=ql,n=Ym(n),Eu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var S=0,_=-1,L=-1,U=0,W=0,Z=n,q=null;e:for(;;){for(var Y;Z!==l||g!==0&&Z.nodeType!==3||(_=S+g),Z!==y||h!==0&&Z.nodeType!==3||(L=S+h),Z.nodeType===3&&(S+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)q=Z,Z=Y;for(;;){if(Z===n)break e;if(q===l&&++U===g&&(_=S),q===y&&++W===h&&(L=S),(Y=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Y}l=_===-1||L===-1?null:{start:_,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jh={focusedElem:n,selectionRange:l},ql=!1,De=s;De!==null;)if(s=De,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,De=n;else for(;De!==null;){switch(s=De,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var lt=Es(l.type,g);n=h.getSnapshotBeforeUpdate(lt,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(gt){Ht(l,l.return,gt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)nd(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,De=n;break}De=s.return}}function B0(n,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:gi(n,l),h&4&&_r(5,l);break;case 1:if(gi(n,l),h&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(S){Ht(l,l.return,S)}else{var g=Es(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Ht(l,l.return,S)}}h&64&&R0(l),h&512&&Mr(l,l.return);break;case 3:if(gi(n,l),h&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ag(n,s)}catch(S){Ht(l,l.return,S)}}break;case 27:s===null&&h&4&&k0(l);case 26:case 5:gi(n,l),s===null&&h&4&&L0(l),h&512&&Mr(l,l.return);break;case 12:gi(n,l);break;case 31:gi(n,l),h&4&&I0(n,l);break;case 13:gi(n,l),h&4&&z0(n,l),h&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=rE.bind(null,l),CE(n,l))));break;case 22:if(h=l.memoizedState!==null||pi,!h){s=s!==null&&s.memoizedState!==null||ve,g=pi;var y=ve;pi=h,(ve=s)&&!y?yi(n,l,(l.subtreeFlags&8772)!==0):gi(n,l),pi=g,ve=y}break;case 30:break;default:gi(n,l)}}function j0(n){var s=n.alternate;s!==null&&(n.alternate=null,j0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ou(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Zt=null,We=!1;function mi(n,s,l){for(l=l.child;l!==null;)F0(n,s,l),l=l.sibling}function F0(n,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Za,l)}catch{}switch(l.tag){case 26:ve||Hn(l,s),mi(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||Hn(l,s);var h=Zt,g=We;Yi(l.type)&&(Zt=l.stateNode,We=!1),mi(n,s,l),jr(l.stateNode),Zt=h,We=g;break;case 5:ve||Hn(l,s);case 6:if(h=Zt,g=We,Zt=null,mi(n,s,l),Zt=h,We=g,Zt!==null)if(We)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(l.stateNode)}catch(y){Ht(l,s,y)}else try{Zt.removeChild(l.stateNode)}catch(y){Ht(l,s,y)}break;case 18:Zt!==null&&(We?(n=Zt,Ry(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ea(n)):Ry(Zt,l.stateNode));break;case 4:h=Zt,g=We,Zt=l.stateNode.containerInfo,We=!0,mi(n,s,l),Zt=h,We=g;break;case 0:case 11:case 14:case 15:zi(2,l,s),ve||zi(4,l,s),mi(n,s,l);break;case 1:ve||(Hn(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&N0(l,s,h)),mi(n,s,l);break;case 21:mi(n,s,l);break;case 22:ve=(h=ve)||l.memoizedState!==null,mi(n,s,l),ve=h;break;default:mi(n,s,l)}}function I0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ea(n)}catch(l){Ht(s,s.return,l)}}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ea(n)}catch(l){Ht(s,s.return,l)}}function Zw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new P0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new P0),s;default:throw Error(i(435,n.tag))}}function Tl(n,s){var l=Zw(n);s.forEach(function(h){if(!l.has(h)){l.add(h);var g=oE.bind(null,n,h);h.then(g,g)}})}function Qe(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=n,S=s,_=S;t:for(;_!==null;){switch(_.tag){case 27:if(Yi(_.type)){Zt=_.stateNode,We=!1;break t}break;case 5:Zt=_.stateNode,We=!1;break t;case 3:case 4:Zt=_.stateNode.containerInfo,We=!0;break t}_=_.return}if(Zt===null)throw Error(i(160));F0(y,S,g),Zt=null,We=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)U0(s,n),s=s.sibling}var Bn=null;function U0(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qe(s,n),Ze(n),h&4&&(zi(3,n,n.return),_r(3,n),zi(5,n,n.return));break;case 1:Qe(s,n),Ze(n),h&512&&(ve||l===null||Hn(l,l.return)),h&64&&pi&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Bn;if(Qe(s,n),Ze(n),h&512&&(ve||l===null||Hn(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=n.memoizedState,l===null)if(h===null)if(n.stateNode===null){t:{h=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[er]||y[Le]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Be(y,h,l),y[Le]=n,Me(y),h=y;break t;case"link":var S=Uy("link","href",g).get(h+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(y=S[_],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break e}}y=g.createElement(h),Be(y,h,l),g.head.appendChild(y);break;case"meta":if(S=Uy("meta","content",g).get(h+(l.content||""))){for(_=0;_<S.length;_++)if(y=S[_],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break e}}y=g.createElement(h),Be(y,h,l),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Le]=n,Me(y),h=y}n.stateNode=h}else Vy(g,n.type,n.stateNode);else n.stateNode=zy(g,h,n.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?Vy(g,n.type,n.stateNode):zy(g,h,n.memoizedProps)):h===null&&n.stateNode!==null&&Mh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Qe(s,n),Ze(n),h&512&&(ve||l===null||Hn(l,l.return)),l!==null&&h&4&&Mh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Qe(s,n),Ze(n),h&512&&(ve||l===null||Hn(l,l.return)),n.flags&32){g=n.stateNode;try{Ys(g,"")}catch(lt){Ht(n,n.return,lt)}}h&4&&n.stateNode!=null&&(g=n.memoizedProps,Mh(n,g,l!==null?l.memoizedProps:g)),h&1024&&(Nh=!0);break;case 6:if(Qe(s,n),Ze(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,l=n.stateNode;try{l.nodeValue=h}catch(lt){Ht(n,n.return,lt)}}break;case 3:if(Ul=null,g=Bn,Bn=Il(s.containerInfo),Qe(s,n),Bn=g,Ze(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ea(s.containerInfo)}catch(lt){Ht(n,n.return,lt)}Nh&&(Nh=!1,V0(n));break;case 4:h=Bn,Bn=Il(n.stateNode.containerInfo),Qe(s,n),Ze(n),Bn=h;break;case 12:Qe(s,n),Ze(n);break;case 31:Qe(s,n),Ze(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Tl(n,h)));break;case 13:Qe(s,n),Ze(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_l=an()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Tl(n,h)));break;case 22:g=n.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,U=pi,W=ve;if(pi=U||g,ve=W||L,Qe(s,n),ve=W,pi=U,Ze(n),h&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||L||pi||ve||Ts(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(y=L.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=L.stateNode;var Z=L.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(lt){Ht(L,L.return,lt)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(lt){Ht(L,L.return,lt)}}}else if(s.tag===18){if(l===null){L=s;try{var Y=L.stateNode;g?Ny(Y,!0):Ny(L.stateNode,!1)}catch(lt){Ht(L,L.return,lt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Tl(n,l))));break;case 19:Qe(s,n),Ze(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Tl(n,h)));break;case 30:break;case 21:break;default:Qe(s,n),Ze(n)}}function Ze(n){var s=n.flags;if(s&2){try{for(var l,h=n.return;h!==null;){if(O0(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=Dh(n);El(n,y,g);break;case 5:var S=l.stateNode;l.flags&32&&(Ys(S,""),l.flags&=-33);var _=Dh(n);El(n,_,S);break;case 3:case 4:var L=l.stateNode.containerInfo,U=Dh(n);Rh(n,U,L);break;default:throw Error(i(161))}}catch(W){Ht(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function V0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)B0(n,s.alternate,s),s=s.sibling}function Ts(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zi(4,s,s.return),Ts(s);break;case 1:Hn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&N0(s,s.return,l),Ts(s);break;case 27:jr(s.stateNode);case 26:case 5:Hn(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}n=n.sibling}}function yi(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=n,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:yi(g,y,l),_r(4,y);break;case 1:if(yi(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(U){Ht(h,h.return,U)}if(h=y,g=h.updateQueue,g!==null){var _=h.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)bg(L[g],_)}catch(U){Ht(h,h.return,U)}}l&&S&64&&R0(y),Mr(y,y.return);break;case 27:k0(y);case 26:case 5:yi(g,y,l),l&&h===null&&S&4&&L0(y),Mr(y,y.return);break;case 12:yi(g,y,l);break;case 31:yi(g,y,l),l&&S&4&&I0(g,y);break;case 13:yi(g,y,l),l&&S&4&&z0(g,y);break;case 22:y.memoizedState===null&&yi(g,y,l),Mr(y,y.return);break;case 30:break;default:yi(g,y,l)}s=s.sibling}}function Lh(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&pr(l))}function Oh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&pr(n))}function jn(n,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)H0(n,s,l,h),s=s.sibling}function H0(n,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:jn(n,s,l,h),g&2048&&_r(9,s);break;case 1:jn(n,s,l,h);break;case 3:jn(n,s,l,h),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&pr(n)));break;case 12:if(g&2048){jn(n,s,l,h),n=s.stateNode;try{var y=s.memoizedProps,S=y.id,_=y.onPostCommit;typeof _=="function"&&_(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){Ht(s,s.return,L)}}else jn(n,s,l,h);break;case 31:jn(n,s,l,h);break;case 13:jn(n,s,l,h);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?jn(n,s,l,h):Dr(n,s):y._visibility&2?jn(n,s,l,h):(y._visibility|=2,fa(n,s,l,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Lh(S,s);break;case 24:jn(n,s,l,h),g&2048&&Oh(s.alternate,s);break;default:jn(n,s,l,h)}}function fa(n,s,l,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,S=s,_=l,L=h,U=S.flags;switch(S.tag){case 0:case 11:case 15:fa(y,S,_,L,g),_r(8,S);break;case 23:break;case 22:var W=S.stateNode;S.memoizedState!==null?W._visibility&2?fa(y,S,_,L,g):Dr(y,S):(W._visibility|=2,fa(y,S,_,L,g)),g&&U&2048&&Lh(S.alternate,S);break;case 24:fa(y,S,_,L,g),g&&U&2048&&Oh(S.alternate,S);break;default:fa(y,S,_,L,g)}s=s.sibling}}function Dr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,h=s,g=h.flags;switch(h.tag){case 22:Dr(l,h),g&2048&&Lh(h.alternate,h);break;case 24:Dr(l,h),g&2048&&Oh(h.alternate,h);break;default:Dr(l,h)}s=s.sibling}}var Rr=8192;function pa(n,s,l){if(n.subtreeFlags&Rr)for(n=n.child;n!==null;)G0(n,s,l),n=n.sibling}function G0(n,s,l){switch(n.tag){case 26:pa(n,s,l),n.flags&Rr&&n.memoizedState!==null&&FE(l,Bn,n.memoizedState,n.memoizedProps);break;case 5:pa(n,s,l);break;case 3:case 4:var h=Bn;Bn=Il(n.stateNode.containerInfo),pa(n,s,l),Bn=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=Rr,Rr=16777216,pa(n,s,l),Rr=h):pa(n,s,l));break;default:pa(n,s,l)}}function q0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Nr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];De=h,Y0(h,n)}q0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)X0(n),n=n.sibling}function X0(n){switch(n.tag){case 0:case 11:case 15:Nr(n),n.flags&2048&&zi(9,n,n.return);break;case 3:Nr(n);break;case 12:Nr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Cl(n)):Nr(n);break;default:Nr(n)}}function Cl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];De=h,Y0(h,n)}q0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zi(8,s,s.return),Cl(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Cl(s));break;default:Cl(s)}n=n.sibling}}function Y0(n,s){for(;De!==null;){var l=De;switch(l.tag){case 0:case 11:case 15:zi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:pr(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,De=h;else t:for(l=n;De!==null;){h=De;var g=h.sibling,y=h.return;if(j0(h),h===l){De=null;break t}if(g!==null){g.return=y,De=g;break t}De=y}}}var Jw={getCacheForType:function(n){var s=ke(me),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return ke(me).controller.signal}},tE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,_t=null,Dt=0,Vt=0,dn=null,Ui=!1,ma=!1,kh=!1,vi=0,re=0,Vi=0,Cs=0,Ph=0,fn=0,ga=0,Lr=null,Je=null,Bh=!1,_l=0,$0=0,Ml=1/0,Dl=null,Hi=null,Se=0,Gi=null,ya=null,bi=0,jh=0,Fh=null,K0=null,Or=0,Ih=null;function pn(){return(Bt&2)!==0&&Dt!==0?Dt&-Dt:B.T!==null?qh():hm()}function W0(){if(fn===0)if((Dt&536870912)===0||Nt){var n=jo;jo<<=1,(jo&3932160)===0&&(jo=262144),fn=n}else fn=536870912;return n=un.current,n!==null&&(n.flags|=32),fn}function tn(n,s,l){(n===$t&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)&&(va(n,0),qi(n,Dt,fn,!1)),tr(n,l),((Bt&2)===0||n!==$t)&&(n===$t&&((Bt&2)===0&&(Cs|=l),re===4&&qi(n,Dt,fn,!1)),Gn(n))}function Q0(n,s,l){if((Bt&6)!==0)throw Error(i(327));var h=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Ja(n,s),g=h?iE(n,s):Uh(n,s,!0),y=h;do{if(g===0){ma&&!h&&qi(n,s,0,!1);break}else{if(l=n.current.alternate,y&&!eE(l)){g=Uh(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var _=n;g=Lr;var L=_.current.memoizedState.isDehydrated;if(L&&(va(_,S).flags|=256),S=Uh(_,S,!1),S!==2){if(kh&&!L){_.errorRecoveryDisabledLanes|=y,Cs|=y,g=4;break t}y=Je,Je=g,y!==null&&(Je===null?Je=y:Je.push.apply(Je,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){va(n,0),qi(n,s,0,!0);break}t:{switch(h=n,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:qi(h,s,fn,!Ui);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=_l+300-an(),10<g)){if(qi(h,s,fn,!Ui),Io(h,0,!0)!==0)break t;bi=s,h.timeoutHandle=My(Z0.bind(null,h,l,Je,Dl,Bh,s,fn,Cs,ga,Ui,y,"Throttled",-0,0),g);break t}Z0(h,l,Je,Dl,Bh,s,fn,Cs,ga,Ui,y,null,-0,0)}}break}while(!0);Gn(n)}function Z0(n,s,l,h,g,y,S,_,L,U,W,Z,q,Y){if(n.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},G0(s,y,Z);var lt=(y&62914560)===y?_l-an():(y&4194048)===y?$0-an():0;if(lt=IE(Z,lt),lt!==null){bi=y,n.cancelPendingCommit=lt(ry.bind(null,n,s,y,l,h,g,S,_,L,W,Z,null,q,Y)),qi(n,y,S,!U);return}}ry(n,s,y,l,h,g,S,_,L)}function eE(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!ln(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(n,s,l,h){s&=~Ph,s&=~Cs,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var g=s;0<g;){var y=31-on(g),S=1<<y;h[y]=-1,g&=~S}l!==0&&lm(n,l,s)}function Rl(){return(Bt&6)===0?(kr(0),!1):!0}function zh(){if(_t!==null){if(Vt===0)var n=_t.return;else n=_t,li=ys=null,nh(n),la=null,gr=0,n=_t;for(;n!==null;)D0(n.alternate,n),n=n.return;_t=null}}function va(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,xE(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),bi=0,zh(),$t=n,_t=l=ri(n.current,null),Dt=s,Vt=0,dn=null,Ui=!1,ma=Ja(n,s),kh=!1,ga=fn=Ph=Cs=Vi=re=0,Je=Lr=null,Bh=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var g=31-on(h),y=1<<g;s|=n[g],h&=~y}return vi=s,Qo(),l}function J0(n,s){wt=null,B.H=Er,s===oa||s===al?(s=mg(),Vt=3):s===Gu?(s=mg(),Vt=4):Vt=s===vh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,dn=s,_t===null&&(re=1,bl(n,xn(s,n.current)))}function ty(){var n=un.current;return n===null?!0:(Dt&4194048)===Dt?Tn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?n===Tn:!1}function ey(){var n=B.H;return B.H=Er,n===null?Er:n}function ny(){var n=B.A;return B.A=Jw,n}function Nl(){re=4,Ui||(Dt&4194048)!==Dt&&un.current!==null||(ma=!0),(Vi&134217727)===0&&(Cs&134217727)===0||$t===null||qi($t,Dt,fn,!1)}function Uh(n,s,l){var h=Bt;Bt|=2;var g=ey(),y=ny();($t!==n||Dt!==s)&&(Dl=null,va(n,s)),s=!1;var S=re;t:do try{if(Vt!==0&&_t!==null){var _=_t,L=dn;switch(Vt){case 8:zh(),S=6;break t;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var U=Vt;if(Vt=0,dn=null,ba(n,_,L,U),l&&ma){S=0;break t}break;default:U=Vt,Vt=0,dn=null,ba(n,_,L,U)}}nE(),S=re;break}catch(W){J0(n,W)}while(!0);return s&&n.shellSuspendCounter++,li=ys=null,Bt=h,B.H=g,B.A=y,_t===null&&($t=null,Dt=0,Qo()),S}function nE(){for(;_t!==null;)iy(_t)}function iE(n,s){var l=Bt;Bt|=2;var h=ey(),g=ny();$t!==n||Dt!==s?(Dl=null,Ml=an()+500,va(n,s)):ma=Ja(n,s);t:do try{if(Vt!==0&&_t!==null){s=_t;var y=dn;e:switch(Vt){case 1:Vt=0,dn=null,ba(n,s,y,1);break;case 2:case 9:if(fg(y)){Vt=0,dn=null,sy(s);break}s=function(){Vt!==2&&Vt!==9||$t!==n||(Vt=7),Gn(n)},y.then(s,s);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:fg(y)?(Vt=0,dn=null,sy(s)):(Vt=0,dn=null,ba(n,s,y,7));break;case 5:var S=null;switch(_t.tag){case 26:S=_t.memoizedState;case 5:case 27:var _=_t;if(S?Hy(S):_.stateNode.complete){Vt=0,dn=null;var L=_.sibling;if(L!==null)_t=L;else{var U=_.return;U!==null?(_t=U,Ll(U)):_t=null}break e}}Vt=0,dn=null,ba(n,s,y,5);break;case 6:Vt=0,dn=null,ba(n,s,y,6);break;case 8:zh(),re=6;break t;default:throw Error(i(462))}}sE();break}catch(W){J0(n,W)}while(!0);return li=ys=null,B.H=h,B.A=g,Bt=l,_t!==null?0:($t=null,Dt=0,Qo(),re)}function sE(){for(;_t!==null&&!_S();)iy(_t)}function iy(n){var s=_0(n.alternate,n,vi);n.memoizedProps=n.pendingProps,s===null?Ll(n):_t=s}function sy(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=x0(l,s,s.pendingProps,s.type,void 0,Dt);break;case 11:s=x0(l,s,s.pendingProps,s.type.render,s.ref,Dt);break;case 5:nh(s);default:D0(l,s),s=_t=ng(s,vi),s=_0(l,s,vi)}n.memoizedProps=n.pendingProps,s===null?Ll(n):_t=s}function ba(n,s,l,h){li=ys=null,nh(s),la=null,gr=0;var g=s.return;try{if(Xw(n,g,s,l,Dt)){re=1,bl(n,xn(l,n.current)),_t=null;return}}catch(y){if(g!==null)throw _t=g,y;re=1,bl(n,xn(l,n.current)),_t=null;return}s.flags&32768?(Nt||h===1?n=!0:ma||(Dt&536870912)!==0?n=!1:(Ui=n=!0,(h===2||h===9||h===3||h===6)&&(h=un.current,h!==null&&h.tag===13&&(h.flags|=16384))),ay(s,n)):Ll(s)}function Ll(n){var s=n;do{if((s.flags&32768)!==0){ay(s,Ui);return}n=s.return;var l=Kw(s.alternate,s,vi);if(l!==null){_t=l;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);re===0&&(re=5)}function ay(n,s){do{var l=Ww(n.alternate,n);if(l!==null){l.flags&=32767,_t=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){_t=n;return}_t=n=l}while(n!==null);re=6,_t=null}function ry(n,s,l,h,g,y,S,_,L){n.cancelPendingCommit=null;do Ol();while(Se!==0);if((Bt&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Du,jS(n,l,y,S,_,L),n===$t&&(_t=$t=null,Dt=0),ya=s,Gi=n,bi=l,jh=y,Fh=g,K0=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lE(Po,function(){return hy(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=H.p,H.p=2,S=Bt,Bt|=4;try{Qw(n,s,l)}finally{Bt=S,H.p=g,B.T=h}}Se=1,oy(),ly(),cy()}}function oy(){if(Se===1){Se=0;var n=Gi,s=ya,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var h=H.p;H.p=2;var g=Bt;Bt|=4;try{U0(s,n);var y=Jh,S=Ym(n.containerInfo),_=y.focusedElem,L=y.selectionRange;if(S!==_&&_&&_.ownerDocument&&Xm(_.ownerDocument.documentElement,_)){if(L!==null&&Eu(_)){var U=L.start,W=L.end;if(W===void 0&&(W=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(W,_.value.length);else{var Z=_.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Y=q.getSelection(),lt=_.textContent.length,gt=Math.min(L.start,lt),Xt=L.end===void 0?gt:Math.min(L.end,lt);!Y.extend&&gt>Xt&&(S=Xt,Xt=gt,gt=S);var I=qm(_,gt),k=qm(_,Xt);if(I&&k&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var z=Z.createRange();z.setStart(I.node,I.offset),Y.removeAllRanges(),gt>Xt?(Y.addRange(z),Y.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Y.addRange(z))}}}}for(Z=[],Y=_;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var Q=Z[_];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ql=!!Zh,Jh=Zh=null}finally{Bt=g,H.p=h,B.T=l}}n.current=s,Se=2}}function ly(){if(Se===2){Se=0;var n=Gi,s=ya,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var h=H.p;H.p=2;var g=Bt;Bt|=4;try{B0(n,s.alternate,s)}finally{Bt=g,H.p=h,B.T=l}}Se=3}}function cy(){if(Se===4||Se===3){Se=0,MS();var n=Gi,s=ya,l=bi,h=K0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Se=5:(Se=0,ya=Gi=null,uy(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Hi=null),au(l),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Za,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=B.T,g=H.p,H.p=2,B.T=null;try{for(var y=n.onRecoverableError,S=0;S<h.length;S++){var _=h[S];y(_.value,{componentStack:_.stack})}}finally{B.T=s,H.p=g}}(bi&3)!==0&&Ol(),Gn(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===Ih?Or++:(Or=0,Ih=n):Or=0,kr(0)}}function uy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,pr(s)))}function Ol(){return oy(),ly(),cy(),hy()}function hy(){if(Se!==5)return!1;var n=Gi,s=jh;jh=0;var l=au(bi),h=B.T,g=H.p;try{H.p=32>l?32:l,B.T=null,l=Fh,Fh=null;var y=Gi,S=bi;if(Se=0,ya=Gi=null,bi=0,(Bt&6)!==0)throw Error(i(331));var _=Bt;if(Bt|=4,X0(y.current),H0(y,y.current,S,l),Bt=_,kr(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Za,y)}catch{}return!0}finally{H.p=g,B.T=h,uy(n,s)}}function dy(n,s,l){s=xn(l,s),s=yh(n.stateNode,s,2),n=ji(n,s,2),n!==null&&(tr(n,2),Gn(n))}function Ht(n,s,l){if(n.tag===3)dy(n,n,l);else for(;s!==null;){if(s.tag===3){dy(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Hi===null||!Hi.has(h))){n=xn(l,n),l=f0(2),h=ji(s,l,2),h!==null&&(p0(l,h,s,n),tr(h,2),Gn(h));break}}s=s.return}}function Vh(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new tE;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(kh=!0,g.add(l),n=aE.bind(null,n,s,l),s.then(n,n))}function aE(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,$t===n&&(Dt&l)===l&&(re===4||re===3&&(Dt&62914560)===Dt&&300>an()-_l?(Bt&2)===0&&va(n,0):Ph|=l,ga===Dt&&(ga=0)),Gn(n)}function fy(n,s){s===0&&(s=om()),n=ps(n,s),n!==null&&(tr(n,s),Gn(n))}function rE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),fy(n,l)}function oE(n,s){var l=0;switch(n.tag){case 31:case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),fy(n,l)}function lE(n,s){return eu(n,s)}var kl=null,Aa=null,Hh=!1,Pl=!1,Gh=!1,Xi=0;function Gn(n){n!==Aa&&n.next===null&&(Aa===null?kl=Aa=n:Aa=Aa.next=n),Pl=!0,Hh||(Hh=!0,uE())}function kr(n,s){if(!Gh&&Pl){Gh=!0;do for(var l=!1,h=kl;h!==null;){if(n!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var S=h.suspendedLanes,_=h.pingedLanes;y=(1<<31-on(42|n)+1)-1,y&=g&~(S&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,yy(h,y))}else y=Dt,y=Io(h,h===$t?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ja(h,y)||(l=!0,yy(h,y));h=h.next}while(l);Gh=!1}}function cE(){py()}function py(){Pl=Hh=!1;var n=0;Xi!==0&&AE()&&(n=Xi);for(var s=an(),l=null,h=kl;h!==null;){var g=h.next,y=my(h,s);y===0?(h.next=null,l===null?kl=g:l.next=g,g===null&&(Aa=l)):(l=h,(n!==0||(y&3)!==0)&&(Pl=!0)),h=g}Se!==0&&Se!==5||kr(n),Xi!==0&&(Xi=0)}function my(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-on(y),_=1<<S,L=g[S];L===-1?((_&l)===0||(_&h)!==0)&&(g[S]=BS(_,s)):L<=s&&(n.expiredLanes|=_),y&=~_}if(s=$t,l=Dt,l=Io(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,l===0||n===s&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&nu(h),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ja(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(h!==null&&nu(h),au(l)){case 2:case 8:l=am;break;case 32:l=Po;break;case 268435456:l=rm;break;default:l=Po}return h=gy.bind(null,n),l=eu(l,h),n.callbackPriority=s,n.callbackNode=l,s}return h!==null&&h!==null&&nu(h),n.callbackPriority=2,n.callbackNode=null,2}function gy(n,s){if(Se!==0&&Se!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Ol()&&n.callbackNode!==l)return null;var h=Dt;return h=Io(n,n===$t?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Q0(n,h,s),my(n,an()),n.callbackNode!=null&&n.callbackNode===l?gy.bind(null,n):null)}function yy(n,s){if(Ol())return null;Q0(n,s,!0)}function uE(){SE(function(){(Bt&6)!==0?eu(sm,cE):py()})}function qh(){if(Xi===0){var n=aa;n===0&&(n=Bo,Bo<<=1,(Bo&261888)===0&&(Bo=256)),Xi=n}return Xi}function vy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ho(""+n)}function by(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function hE(n,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var y=vy((g[$e]||null).action),S=h.submitter;S&&(s=(s=S[$e]||null)?vy(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var _=new Yo("action","action",null,h,g);n.push({event:_,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xi!==0){var L=S?by(g,S):new FormData(g);hh(l,{pending:!0,data:L,method:g.method,action:y},null,L)}}else typeof y=="function"&&(_.preventDefault(),L=S?by(g,S):new FormData(g),hh(l,{pending:!0,data:L,method:g.method,action:y},y,L))},currentTarget:g}]})}}for(var Xh=0;Xh<Mu.length;Xh++){var Yh=Mu[Xh],dE=Yh.toLowerCase(),fE=Yh[0].toUpperCase()+Yh.slice(1);Pn(dE,"on"+fE)}Pn(Wm,"onAnimationEnd"),Pn(Qm,"onAnimationIteration"),Pn(Zm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Dw,"onTransitionRun"),Pn(Rw,"onTransitionStart"),Pn(Nw,"onTransitionCancel"),Pn(Jm,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function Ay(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var S=h.length-1;0<=S;S--){var _=h[S],L=_.instance,U=_.currentTarget;if(_=_.listener,L!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=U;try{y(g)}catch(W){Wo(W)}g.currentTarget=null,y=L}else for(S=0;S<h.length;S++){if(_=h[S],L=_.instance,U=_.currentTarget,_=_.listener,L!==y&&g.isPropagationStopped())break t;y=_,g.currentTarget=U;try{y(g)}catch(W){Wo(W)}g.currentTarget=null,y=L}}}}function Mt(n,s){var l=s[ru];l===void 0&&(l=s[ru]=new Set);var h=n+"__bubble";l.has(h)||(xy(s,n,2,!1),l.add(h))}function $h(n,s,l){var h=0;s&&(h|=4),xy(l,n,h,s)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Kh(n){if(!n[Bl]){n[Bl]=!0,pm.forEach(function(l){l!=="selectionchange"&&(pE.has(l)||$h(l,!1,n),$h(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Bl]||(s[Bl]=!0,$h("selectionchange",!1,s))}}function xy(n,s,l,h){switch(Wy(s)){case 2:var g=VE;break;case 8:g=HE;break;default:g=ud}l=g.bind(null,s,l,n),g=void 0,!mu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Wh(n,s,l,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var _=h.stateNode.containerInfo;if(_===g)break;if(S===4)for(S=h.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;_!==null;){if(S=Vs(_),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){h=y=S;continue t}_=_.parentNode}}h=h.return}Cm(function(){var U=y,W=fu(l),Z=[];t:{var q=tg.get(n);if(q!==void 0){var Y=Yo,lt=n;switch(n){case"keypress":if(qo(l)===0)break t;case"keydown":case"keyup":Y=ow;break;case"focusin":lt="focus",Y=bu;break;case"focusout":lt="blur",Y=bu;break;case"beforeblur":case"afterblur":Y=bu;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=KS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=uw;break;case Wm:case Qm:case Zm:Y=ZS;break;case Jm:Y=dw;break;case"scroll":case"scrollend":Y=YS;break;case"wheel":Y=pw;break;case"copy":case"cut":case"paste":Y=tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Nm;break;case"toggle":case"beforetoggle":Y=gw}var gt=(s&4)!==0,Xt=!gt&&(n==="scroll"||n==="scrollend"),I=gt?q!==null?q+"Capture":null:q;gt=[];for(var k=U,z;k!==null;){var Q=k;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||I===null||(Q=ir(k,I),Q!=null&&gt.push(Br(k,Q,z))),Xt)break;k=k.return}0<gt.length&&(q=new Y(q,lt,null,l,W),Z.push({event:q,listeners:gt}))}}if((s&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",q&&l!==du&&(lt=l.relatedTarget||l.fromElement)&&(Vs(lt)||lt[Us]))break t;if((Y||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(lt=l.relatedTarget||l.toElement,Y=U,lt=lt?Vs(lt):null,lt!==null&&(Xt=o(lt),gt=lt.tag,lt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(Y=null,lt=U),Y!==lt)){if(gt=Dm,Q="onMouseLeave",I="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(gt=Nm,Q="onPointerLeave",I="onPointerEnter",k="pointer"),Xt=Y==null?q:nr(Y),z=lt==null?q:nr(lt),q=new gt(Q,k+"leave",Y,l,W),q.target=Xt,q.relatedTarget=z,Q=null,Vs(W)===U&&(gt=new gt(I,k+"enter",lt,l,W),gt.target=z,gt.relatedTarget=Xt,Q=gt),Xt=Q,Y&&lt)e:{for(gt=mE,I=Y,k=lt,z=0,Q=I;Q;Q=gt(Q))z++;Q=0;for(var ft=k;ft;ft=gt(ft))Q++;for(;0<z-Q;)I=gt(I),z--;for(;0<Q-z;)k=gt(k),Q--;for(;z--;){if(I===k||k!==null&&I===k.alternate){gt=I;break e}I=gt(I),k=gt(k)}gt=null}else gt=null;Y!==null&&Sy(Z,q,Y,gt,!1),lt!==null&&Xt!==null&&Sy(Z,Xt,lt,gt,!0)}}t:{if(q=U?nr(U):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var kt=Im;else if(jm(q))if(zm)kt=Cw;else{kt=Ew;var dt=ww}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&hu(U.elementType)&&(kt=Im):kt=Tw;if(kt&&(kt=kt(n,U))){Fm(Z,kt,l,W);break t}dt&&dt(n,q,U),n==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&uu(q,"number",q.value)}switch(dt=U?nr(U):window,n){case"focusin":(jm(dt)||dt.contentEditable==="true")&&(Qs=dt,Tu=U,hr=null);break;case"focusout":hr=Tu=Qs=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,$m(Z,l,W);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":$m(Z,l,W)}var Tt;if(xu)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else Ws?Pm(n,l)&&(Rt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Rt="onCompositionStart");Rt&&(Lm&&l.locale!=="ko"&&(Ws||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Ws&&(Tt=_m()):(Ri=W,gu="value"in Ri?Ri.value:Ri.textContent,Ws=!0)),dt=jl(U,Rt),0<dt.length&&(Rt=new Rm(Rt,n,null,l,W),Z.push({event:Rt,listeners:dt}),Tt?Rt.data=Tt:(Tt=Bm(l),Tt!==null&&(Rt.data=Tt)))),(Tt=vw?bw(n,l):Aw(n,l))&&(Rt=jl(U,"onBeforeInput"),0<Rt.length&&(dt=new Rm("onBeforeInput","beforeinput",null,l,W),Z.push({event:dt,listeners:Rt}),dt.data=Tt)),hE(Z,n,U,l,W)}Ay(Z,s)})}function Br(n,s,l){return{instance:n,listener:s,currentTarget:l}}function jl(n,s){for(var l=s+"Capture",h=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ir(n,l),g!=null&&h.unshift(Br(n,g,y)),g=ir(n,s),g!=null&&h.push(Br(n,g,y))),n.tag===3)return h;n=n.return}return[]}function mE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Sy(n,s,l,h,g){for(var y=s._reactName,S=[];l!==null&&l!==h;){var _=l,L=_.alternate,U=_.stateNode;if(_=_.tag,L!==null&&L===h)break;_!==5&&_!==26&&_!==27||U===null||(L=U,g?(U=ir(l,y),U!=null&&S.unshift(Br(l,U,L))):g||(U=ir(l,y),U!=null&&S.push(Br(l,U,L)))),l=l.return}S.length!==0&&n.push({event:s,listeners:S})}var gE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function wy(n){return(typeof n=="string"?n:""+n).replace(gE,`
`).replace(yE,"")}function Ey(n,s){return s=wy(s),wy(n)===s}function qt(n,s,l,h,g,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Ys(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Ys(n,""+h);break;case"className":Uo(n,"class",h);break;case"tabIndex":Uo(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Uo(n,l,h);break;case"style":Em(n,h,y);break;case"data":if(s!=="object"){Uo(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=Ho(""+h),n.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&qt(n,s,"name",g.name,g,null),qt(n,s,"formEncType",g.formEncType,g,null),qt(n,s,"formMethod",g.formMethod,g,null),qt(n,s,"formTarget",g.formTarget,g,null)):(qt(n,s,"encType",g.encType,g,null),qt(n,s,"method",g.method,g,null),qt(n,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=Ho(""+h),n.setAttribute(l,h);break;case"onClick":h!=null&&(n.onclick=si);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}l=Ho(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""+h):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":h===!0?n.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,h):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(l,h):n.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(l):n.setAttribute(l,h);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),zo(n,"popover",h);break;case"xlinkActuate":ii(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ii(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ii(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ii(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ii(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ii(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ii(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ii(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ii(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zo(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qS.get(l)||l,zo(n,l,h))}}function Qh(n,s,l,h,g,y){switch(l){case"style":Em(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof h=="string"?Ys(n,h):(typeof h=="number"||typeof h=="bigint")&&Ys(n,""+h);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mm.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=n[$e]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,h,g);break t}l in n?n[l]=h:h===!0?n.setAttribute(l,""):zo(n,l,h)}}}function Be(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,y,S,l,null)}}g&&qt(n,s,"srcSet",l.srcSet,l,null),h&&qt(n,s,"src",l.src,l,null);return;case"input":Mt("invalid",n);var _=y=S=g=null,L=null,U=null;for(h in l)if(l.hasOwnProperty(h)){var W=l[h];if(W!=null)switch(h){case"name":g=W;break;case"type":S=W;break;case"checked":L=W;break;case"defaultChecked":U=W;break;case"value":y=W;break;case"defaultValue":_=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:qt(n,s,h,W,l,null)}}Am(n,y,_,L,U,S,g,!1);return;case"select":Mt("invalid",n),h=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(_=l[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":S=_;break;case"multiple":h=_;default:qt(n,s,g,_,l,null)}s=y,l=S,n.multiple=!!h,s!=null?Xs(n,!!h,s,!1):l!=null&&Xs(n,!!h,l,!0);return;case"textarea":Mt("invalid",n),y=g=h=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":h=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:qt(n,s,S,_,l,null)}Sm(n,h,g,y);return;case"option":for(L in l)l.hasOwnProperty(L)&&(h=l[L],h!=null)&&(L==="selected"?n.selected=h&&typeof h!="function"&&typeof h!="symbol":qt(n,s,L,h,l,null));return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(h=0;h<Pr.length;h++)Mt(Pr[h],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(h=l[U],h!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,U,h,l,null)}return;default:if(hu(s)){for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!==void 0&&Qh(n,s,W,h,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(h=l[_],h!=null&&qt(n,s,_,h,l,null))}function vE(n,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,_=null,L=null,U=null,W=null;for(Y in l){var Z=l[Y];if(l.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":L=Z;default:h.hasOwnProperty(Y)||qt(n,s,Y,null,h,Z)}}for(var q in h){var Y=h[q];if(Z=l[q],h.hasOwnProperty(q)&&(Y!=null||Z!=null))switch(q){case"type":y=Y;break;case"name":g=Y;break;case"checked":U=Y;break;case"defaultChecked":W=Y;break;case"value":S=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==Z&&qt(n,s,q,Y,h,Z)}}cu(n,S,_,L,U,W,y,g);return;case"select":Y=S=_=q=null;for(y in l)if(L=l[y],l.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Y=L;default:h.hasOwnProperty(y)||qt(n,s,y,null,h,L)}for(g in h)if(y=h[g],L=l[g],h.hasOwnProperty(g)&&(y!=null||L!=null))switch(g){case"value":q=y;break;case"defaultValue":_=y;break;case"multiple":S=y;default:y!==L&&qt(n,s,g,y,h,L)}s=_,l=S,h=Y,q!=null?Xs(n,!!l,q,!1):!!h!=!!l&&(s!=null?Xs(n,!!l,s,!0):Xs(n,!!l,l?[]:"",!1));return;case"textarea":Y=q=null;for(_ in l)if(g=l[_],l.hasOwnProperty(_)&&g!=null&&!h.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:qt(n,s,_,null,h,g)}for(S in h)if(g=h[S],y=l[S],h.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":q=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&qt(n,s,S,g,h,y)}xm(n,q,Y);return;case"option":for(var lt in l)q=l[lt],l.hasOwnProperty(lt)&&q!=null&&!h.hasOwnProperty(lt)&&(lt==="selected"?n.selected=!1:qt(n,s,lt,null,h,q));for(L in h)q=h[L],Y=l[L],h.hasOwnProperty(L)&&q!==Y&&(q!=null||Y!=null)&&(L==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":qt(n,s,L,q,h,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in l)q=l[gt],l.hasOwnProperty(gt)&&q!=null&&!h.hasOwnProperty(gt)&&qt(n,s,gt,null,h,q);for(U in h)if(q=h[U],Y=l[U],h.hasOwnProperty(U)&&q!==Y&&(q!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:qt(n,s,U,q,h,Y)}return;default:if(hu(s)){for(var Xt in l)q=l[Xt],l.hasOwnProperty(Xt)&&q!==void 0&&!h.hasOwnProperty(Xt)&&Qh(n,s,Xt,void 0,h,q);for(W in h)q=h[W],Y=l[W],!h.hasOwnProperty(W)||q===Y||q===void 0&&Y===void 0||Qh(n,s,W,q,h,Y);return}}for(var I in l)q=l[I],l.hasOwnProperty(I)&&q!=null&&!h.hasOwnProperty(I)&&qt(n,s,I,null,h,q);for(Z in h)q=h[Z],Y=l[Z],!h.hasOwnProperty(Z)||q===Y||q==null&&Y==null||qt(n,s,Z,q,h,Y)}function Ty(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],y=g.transferSize,S=g.initiatorType,_=g.duration;if(y&&_&&Ty(S)){for(S=0,_=g.responseEnd,h+=1;h<l.length;h++){var L=l[h],U=L.startTime;if(U>_)break;var W=L.transferSize,Z=L.initiatorType;W&&Ty(Z)&&(L=L.responseEnd,S+=W*(L<_?1:(_-U)/(L-U)))}if(--h,s+=8*(y+S)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Zh=null,Jh=null;function Fl(n){return n.nodeType===9?n:n.ownerDocument}function Cy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function td(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ed=null;function AE(){var n=window.event;return n&&n.type==="popstate"?n===ed?!1:(ed=n,!0):(ed=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,SE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(n){return Dy.resolve(null).then(n).catch(wE)}:My;function wE(n){setTimeout(function(){throw n})}function Yi(n){return n==="head"}function Ry(n,s){var l=s,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){n.removeChild(g),Ea(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")jr(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,jr(l);for(var y=l.firstChild;y;){var S=y.nextSibling,_=y.nodeName;y[er]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=S}}else l==="body"&&jr(n.ownerDocument.body);l=g}while(l);Ea(s)}function Ny(n,s){var l=n;n=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=h}while(l)}function nd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nd(l),ou(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function EE(n,s,l,h){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[er])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Cn(n.nextSibling),n===null)break}return null}function TE(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Cn(n.nextSibling),n===null))return null;return n}function Ly(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Cn(n.nextSibling),n===null))return null;return n}function id(n){return n.data==="$?"||n.data==="$~"}function sd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function CE(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Cn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var ad=null;function Oy(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return Cn(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function ky(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function Py(n,s,l){switch(s=Fl(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function jr(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ou(n)}var _n=new Map,By=new Set;function Il(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ai=H.d;H.d={f:_E,r:ME,D:DE,C:RE,L:NE,m:LE,X:kE,S:OE,M:PE};function _E(){var n=Ai.f(),s=Rl();return n||s}function ME(n){var s=Hs(n);s!==null&&s.tag===5&&s.type==="form"?Jg(s):Ai.r(n)}var xa=typeof document>"u"?null:document;function jy(n,s,l){var h=xa;if(h&&typeof s=="string"&&s){var g=bn(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),By.has(g)||(By.add(g),n={rel:n,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Be(s,"link",n),Me(s),h.head.appendChild(s)))}}function DE(n){Ai.D(n),jy("dns-prefetch",n,null)}function RE(n,s){Ai.C(n,s),jy("preconnect",n,s)}function NE(n,s,l){Ai.L(n,s,l);var h=xa;if(h&&n&&s){var g='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+bn(l.imageSizes)+'"]')):g+='[href="'+bn(n)+'"]';var y=g;switch(s){case"style":y=Sa(n);break;case"script":y=wa(n)}_n.has(y)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),_n.set(y,n),h.querySelector(g)!==null||s==="style"&&h.querySelector(Fr(y))||s==="script"&&h.querySelector(Ir(y))||(s=h.createElement("link"),Be(s,"link",n),Me(s),h.head.appendChild(s)))}}function LE(n,s){Ai.m(n,s);var l=xa;if(l&&n){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+bn(h)+'"][href="'+bn(n)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wa(n)}if(!_n.has(y)&&(n=m({rel:"modulepreload",href:n},s),_n.set(y,n),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ir(y)))return}h=l.createElement("link"),Be(h,"link",n),Me(h),l.head.appendChild(h)}}}function OE(n,s,l){Ai.S(n,s,l);var h=xa;if(h&&n){var g=Gs(h).hoistableStyles,y=Sa(n);s=s||"default";var S=g.get(y);if(!S){var _={loading:0,preload:null};if(S=h.querySelector(Fr(y)))_.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=_n.get(y))&&rd(n,l);var L=S=h.createElement("link");Me(L),Be(L,"link",n),L._p=new Promise(function(U,W){L.onload=U,L.onerror=W}),L.addEventListener("load",function(){_.loading|=1}),L.addEventListener("error",function(){_.loading|=2}),_.loading|=4,zl(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:_},g.set(y,S)}}}function kE(n,s){Ai.X(n,s);var l=xa;if(l&&n){var h=Gs(l).hoistableScripts,g=wa(n),y=h.get(g);y||(y=l.querySelector(Ir(g)),y||(n=m({src:n,async:!0},s),(s=_n.get(g))&&od(n,s),y=l.createElement("script"),Me(y),Be(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function PE(n,s){Ai.M(n,s);var l=xa;if(l&&n){var h=Gs(l).hoistableScripts,g=wa(n),y=h.get(g);y||(y=l.querySelector(Ir(g)),y||(n=m({src:n,async:!0,type:"module"},s),(s=_n.get(g))&&od(n,s),y=l.createElement("script"),Me(y),Be(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Fy(n,s,l,h){var g=(g=ut.current)?Il(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Sa(l.href),l=Gs(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Sa(l.href);var y=Gs(g).hoistableStyles,S=y.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=g.querySelector(Fr(n)))&&!y._p&&(S.instance=y,S.state.loading=5),_n.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},_n.set(n,l),y||BE(g,n,l,S.state))),s&&h===null)throw Error(i(528,""));return S}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=wa(l),l=Gs(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Sa(n){return'href="'+bn(n)+'"'}function Fr(n){return'link[rel="stylesheet"]['+n+"]"}function Iy(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function BE(n,s,l,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Be(s,"link",l),Me(s),n.head.appendChild(s))}function wa(n){return'[src="'+bn(n)+'"]'}function Ir(n){return"script[async]"+n}function zy(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+bn(l.href)+'"]');if(h)return s.instance=h,Me(h),h;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Me(h),Be(h,"style",g),zl(h,l.precedence,n),s.instance=h;case"stylesheet":g=Sa(l.href);var y=n.querySelector(Fr(g));if(y)return s.state.loading|=4,s.instance=y,Me(y),y;h=Iy(l),(g=_n.get(g))&&rd(h,g),y=(n.ownerDocument||n).createElement("link"),Me(y);var S=y;return S._p=new Promise(function(_,L){S.onload=_,S.onerror=L}),Be(y,"link",h),s.state.loading|=4,zl(y,l.precedence,n),s.instance=y;case"script":return y=wa(l.src),(g=n.querySelector(Ir(y)))?(s.instance=g,Me(g),g):(h=l,(g=_n.get(y))&&(h=m({},l),od(h,g)),n=n.ownerDocument||n,g=n.createElement("script"),Me(g),Be(g,"link",h),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,zl(h,l.precedence,n));return s.instance}function zl(n,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,S=0;S<h.length;S++){var _=h[S];if(_.dataset.precedence===s)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function rd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function od(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Ul=null;function Uy(n,s,l){if(Ul===null){var h=new Map,g=Ul=new Map;g.set(l,h)}else g=Ul,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(n))return h;for(h.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var y=l[g];if(!(y[er]||y[Le]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=n+S;var _=h.get(S);_?_.push(y):h.set(S,[y])}}return h}function Vy(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function jE(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function FE(n,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Sa(h.href),y=s.querySelector(Fr(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Vl.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=y,Me(y);return}y=s.ownerDocument||s,h=Iy(h),(g=_n.get(g))&&rd(h,g),y=y.createElement("link"),Me(y);var S=y;S._p=new Promise(function(_,L){S.onload=_,S.onerror=L}),Be(y,"link",h),l.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Vl.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var ld=0;function IE(n,s){return n.stylesheets&&n.count===0&&Gl(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var h=setTimeout(function(){if(n.stylesheets&&Gl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&ld===0&&(ld=62500*bE());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Gl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>ld?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hl=null;function Gl(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hl=new Map,s.forEach(zE,n),Hl=null,Vl.call(n))}function zE(n,s){if(!(s.state.loading&4)){var l=Hl.get(n);if(l)var h=l.get(null);else{l=new Map,Hl.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}g=s.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||h,y===h&&l.set(null,g),l.set(S,g),this.count++,h=Vl.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var zr={$$typeof:T,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function UE(n,s,l,h,g,y,S,_,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Gy(n,s,l,h,g,y,S,_,L,U,W,Z){return n=new UE(n,s,l,S,L,U,W,Z,_),s=1,y===!0&&(s|=24),y=cn(3,null,null,s),n.current=y,y.stateNode=n,s=Uu(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},qu(y),n}function qy(n){return n?(n=ta,n):ta}function Xy(n,s,l,h,g,y){g=qy(g),h.context===null?h.context=g:h.pendingContext=g,h=Bi(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ji(n,h,s),l!==null&&(tn(l,n,s),vr(l,n,s))}function Yy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function cd(n,s){Yy(n,s),(n=n.alternate)&&Yy(n,s)}function $y(n){if(n.tag===13||n.tag===31){var s=ps(n,67108864);s!==null&&tn(s,n,67108864),cd(n,67108864)}}function Ky(n){if(n.tag===13||n.tag===31){var s=pn();s=su(s);var l=ps(n,s);l!==null&&tn(l,n,s),cd(n,s)}}var ql=!0;function VE(n,s,l,h){var g=B.T;B.T=null;var y=H.p;try{H.p=2,ud(n,s,l,h)}finally{H.p=y,B.T=g}}function HE(n,s,l,h){var g=B.T;B.T=null;var y=H.p;try{H.p=8,ud(n,s,l,h)}finally{H.p=y,B.T=g}}function ud(n,s,l,h){if(ql){var g=hd(h);if(g===null)Wh(n,s,h,Xl,l),Qy(n,h);else if(qE(g,n,s,l,h))h.stopPropagation();else if(Qy(n,h),s&4&&-1<GE.indexOf(n)){for(;g!==null;){var y=Hs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=cs(y.pendingLanes);if(S!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var L=1<<31-on(S);_.entanglements[1]|=L,S&=~L}Gn(y),(Bt&6)===0&&(Ml=an()+500,kr(0))}}break;case 31:case 13:_=ps(y,2),_!==null&&tn(_,y,2),Rl(),cd(y,2)}if(y=hd(h),y===null&&Wh(n,s,h,Xl,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else Wh(n,s,h,null,l)}}function hd(n){return n=fu(n),dd(n)}var Xl=null;function dd(n){if(Xl=null,n=Vs(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===31){if(n=u(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Xl=n,null}function Wy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(DS()){case sm:return 2;case am:return 8;case Po:case RS:return 32;case rm:return 268435456;default:return 32}default:return 32}}var fd=!1,$i=null,Ki=null,Wi=null,Ur=new Map,Vr=new Map,Qi=[],GE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(n,s){switch(n){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ur.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(s.pointerId)}}function Hr(n,s,l,h,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Hs(s),s!==null&&$y(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function qE(n,s,l,h,g){switch(s){case"focusin":return $i=Hr($i,n,s,l,h,g),!0;case"dragenter":return Ki=Hr(Ki,n,s,l,h,g),!0;case"mouseover":return Wi=Hr(Wi,n,s,l,h,g),!0;case"pointerover":var y=g.pointerId;return Ur.set(y,Hr(Ur.get(y)||null,n,s,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Vr.set(y,Hr(Vr.get(y)||null,n,s,l,h,g)),!0}return!1}function Zy(n){var s=Vs(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,dm(n.priority,function(){Ky(l)});return}}else if(s===31){if(s=u(l),s!==null){n.blockedOn=s,dm(n.priority,function(){Ky(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=hd(n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);du=h,l.target.dispatchEvent(h),du=null}else return s=Hs(l),s!==null&&$y(s),n.blockedOn=l,!1;s.shift()}return!0}function Jy(n,s,l){Yl(n)&&l.delete(s)}function XE(){fd=!1,$i!==null&&Yl($i)&&($i=null),Ki!==null&&Yl(Ki)&&(Ki=null),Wi!==null&&Yl(Wi)&&(Wi=null),Ur.forEach(Jy),Vr.forEach(Jy)}function $l(n,s){n.blockedOn===s&&(n.blockedOn=null,fd||(fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XE)))}var Kl=null;function tv(n){Kl!==n&&(Kl=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kl===n&&(Kl=null);for(var s=0;s<n.length;s+=3){var l=n[s],h=n[s+1],g=n[s+2];if(typeof h!="function"){if(dd(h||l)===null)continue;break}var y=Hs(l);y!==null&&(n.splice(s,3),s-=3,hh(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Ea(n){function s(L){return $l(L,n)}$i!==null&&$l($i,n),Ki!==null&&$l(Ki,n),Wi!==null&&$l(Wi,n),Ur.forEach(s),Vr.forEach(s);for(var l=0;l<Qi.length;l++){var h=Qi[l];h.blockedOn===n&&(h.blockedOn=null)}for(;0<Qi.length&&(l=Qi[0],l.blockedOn===null);)Zy(l),l.blockedOn===null&&Qi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],S=g[$e]||null;if(typeof y=="function")S||tv(l);else if(S){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[$e]||null)_=S.formAction;else if(dd(g)!==null)continue}else _=S.action;typeof _=="function"?l[h+1]=_:(l.splice(h,3),h-=3),tv(l)}}}function ev(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function pd(n){this._internalRoot=n}Wl.prototype.render=pd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,h=pn();Xy(l,h,n,s,null,null)},Wl.prototype.unmount=pd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Xy(n.current,2,null,n,null,null),Rl(),s[Us]=null}};function Wl(n){this._internalRoot=n}Wl.prototype.unstable_scheduleHydration=function(n){if(n){var s=hm();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Qi.length&&s!==0&&s<Qi[l].priority;l++);Qi.splice(l,0,n),l===0&&Zy(n)}};var nv=t.version;if(nv!=="19.2.4")throw Error(i(527,nv,"19.2.4"));H.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var YE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Za=Ql.inject(YE),rn=Ql}catch{}}return qr.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,h="",g=c0,y=u0,S=h0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=Gy(n,1,!1,null,null,l,h,null,g,y,S,ev),n[Us]=s.current,Kh(n),new pd(s)},qr.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var h=!1,g="",y=c0,S=u0,_=h0,L=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),s=Gy(n,1,!0,s,l??null,h,g,L,y,S,_,ev),s.context=qy(null),l=s.current,h=pn(),h=su(h),g=Bi(h),g.callback=null,ji(l,g,h),l=h,s.current.lanes=l,tr(s,l),Gn(s),n[Us]=s.current,Kh(n),new Wl(s)},qr.version="19.2.4",qr}var pv;function iT(){if(pv)return vd.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=nT(),vd.exports}var sT=iT();var mv="popstate";function aT(r={}){function t(i,a){let{pathname:o,search:c,hash:u}=i.location;return vf("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:co(a)}return oT(t,e,null,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ti(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function gv(r,t){return{usr:r.state,key:r.key,idx:t}}function vf(r,t,e=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ya(t):t,state:e,key:t&&t.key||i||rT()}}function co({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Ya(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function oT(r,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,u="POP",d=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function m(){u="POP";let E=p(),w=E==null?null:E-f;f=E,d&&d({action:u,location:A.location,delta:w})}function v(E,w){u="PUSH";let C=vf(A.location,E,w);f=p()+1;let T=gv(C,f),N=A.createHref(C);try{c.pushState(T,"",N)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(N)}o&&d&&d({action:u,location:A.location,delta:1})}function b(E,w){u="REPLACE";let C=vf(A.location,E,w);f=p();let T=gv(C,f),N=A.createHref(C);c.replaceState(T,"",N),o&&d&&d({action:u,location:A.location,delta:0})}function x(E){return lT(E)}let A={get action(){return u},get location(){return r(a,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(mv,m),d=E,()=>{a.removeEventListener(mv,m),d=null}},createHref(E){return t(a,E)},createURL:x,encodeLocation(E){let w=x(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:b,go(E){return c.go(E)}};return A}function lT(r,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ie(e,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:co(r);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function OA(r,t,e="/"){return cT(r,t,e,!1)}function cT(r,t,e,i){let a=typeof t=="string"?Ya(t):t,o=Ti(a.pathname||"/",e);if(o==null)return null;let c=kA(r);uT(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=xT(o);u=bT(c[d],f,i)}return u}function kA(r,t=[],e=[],i="",a=!1){let o=(c,u,d=a,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;ie(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=Ei([i,p.relativePath]),v=e.concat(p);c.children&&c.children.length>0&&(ie(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),kA(c.children,t,v,m,d)),!(c.path==null&&!c.index)&&t.push({path:m,score:yT(m,c.index),routesMeta:v})};return r.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let d of PA(c.path))o(c,u,!0,d)}),t}function PA(r){let t=r.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=PA(i.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...c),u.map(d=>r.startsWith("/")&&d===""?"/":d)}function uT(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:vT(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var hT=/^:[\w-]+$/,dT=3,fT=2,pT=1,mT=10,gT=-2,yv=r=>r==="*";function yT(r,t){let e=r.split("/"),i=e.length;return e.some(yv)&&(i+=gT),t&&(i+=fT),e.filter(a=>!yv(a)).reduce((a,o)=>a+(hT.test(o)?dT:o===""?pT:mT),i)}function vT(r,t){return r.length===t.length&&r.slice(0,-1).every((i,a)=>i===t[a])?r[r.length-1]-t[t.length-1]:0}function bT(r,t,e=!1){let{routesMeta:i}=r,a={},o="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=Ec({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&e&&!i[i.length-1].route.index&&(m=Ec({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:Ei([o,m.pathname]),pathnameBase:TT(Ei([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=Ei([o,m.pathnameBase]))}return c}function Ec(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,i]=AT(r.path,r.caseSensitive,r.end),a=t.match(e);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let x=u[v]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=u[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:r}}function AT(r,t=!1,e=!0){ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function xT(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ti(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=r.charAt(e);return i&&i!=="/"?null:r.slice(e)||"/"}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wT(r,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof r=="string"?Ya(r):r,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=vv(e.substring(1),"/"):o=vv(e,t)):o=t,{pathname:o,search:CT(i),hash:_T(a)}}function vv(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Sd(r,t,e,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ET(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function BA(r){let t=ET(r);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function jA(r,t,e,i=!1){let a;typeof r=="string"?a=Ya(r):(a={...r},ie(!a.pathname||!a.pathname.includes("?"),Sd("?","pathname","search",a)),ie(!a.pathname||!a.pathname.includes("#"),Sd("#","pathname","hash",a)),ie(!a.search||!a.search.includes("#"),Sd("#","search","hash",a)));let o=r===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=e;else{let m=t.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}u=m>=0?t[m]:"/"}let d=wT(a,u),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),TT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_T=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,MT=class{constructor(r,t,e,i=!1){this.status=r,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function DT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function RT(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IA(r,t){let e=r;if(typeof e!="string"||!ST.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,a=!1;if(FA)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=Ti(c.pathname,t);c.origin===o.origin&&u!=null?e=u+c.search+c.hash:a=!0}catch{ti(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var NT=["GET",...zA];new Set(NT);var $a=j.createContext(null);$a.displayName="DataRouter";var Bc=j.createContext(null);Bc.displayName="DataRouterState";var LT=j.createContext(!1),UA=j.createContext({isTransitioning:!1});UA.displayName="ViewTransition";var OT=j.createContext(new Map);OT.displayName="Fetchers";var kT=j.createContext(null);kT.displayName="Await";var kn=j.createContext(null);kn.displayName="Navigation";var So=j.createContext(null);So.displayName="Location";var _i=j.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var sp=j.createContext(null);sp.displayName="RouteError";var VA="REACT_ROUTER_ERROR",PT="REDIRECT",BT="ROUTE_ERROR_RESPONSE";function jT(r){if(r.startsWith(`${VA}:${PT}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function FT(r){if(r.startsWith(`${VA}:${BT}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new MT(t.status,t.statusText,t.data)}catch{}}function IT(r,{relative:t}={}){ie(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=j.useContext(kn),{hash:a,pathname:o,search:c}=Eo(r,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Ei([e,o])),i.createHref({pathname:u,search:c,hash:a})}function wo(){return j.useContext(So)!=null}function Fs(){return ie(wo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(So).location}var HA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GA(r){j.useContext(kn).static||j.useLayoutEffect(r)}function qA(){let{isDataRoute:r}=j.useContext(_i);return r?ZT():zT()}function zT(){ie(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext($a),{basename:t,navigator:e}=j.useContext(kn),{matches:i}=j.useContext(_i),{pathname:a}=Fs(),o=JSON.stringify(BA(i)),c=j.useRef(!1);return GA(()=>{c.current=!0}),j.useCallback((d,f={})=>{if(ti(c.current,HA),!c.current)return;if(typeof d=="number"){e.go(d);return}let p=jA(d,JSON.parse(o),a,f.relative==="path");r==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ei([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,a,r])}j.createContext(null);function Eo(r,{relative:t}={}){let{matches:e}=j.useContext(_i),{pathname:i}=Fs(),a=JSON.stringify(BA(e));return j.useMemo(()=>jA(r,JSON.parse(a),i,t==="path"),[r,a,i,t])}function UT(r,t){return XA(r,t)}function XA(r,t,e,i,a){ie(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(kn),{matches:c}=j.useContext(_i),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";$A(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Fs(),b;if(t){let C=typeof t=="string"?Ya(t):t;ie(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=v;let x=b.pathname||"/",A=x;if(p!=="/"){let C=p.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=OA(r,{pathname:A});ti(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ti(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=XT(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Ei([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Ei([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,e,i,a);return t&&w?j.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function VT(){let r=QT(),t=DT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),e?j.createElement("pre",{style:a},e):null,c)}var HT=j.createElement(VT,null),YA=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const e=FT(r.digest);e&&(r=e)}let t=r!==void 0?j.createElement(_i.Provider,{value:this.props.routeContext},j.createElement(sp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(GT,{error:r},t):t}};YA.contextType=LT;var wd=new WeakMap;function GT({children:r,error:t}){let{basename:e}=j.useContext(kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=jT(t.digest);if(i){let a=wd.get(t);if(a)throw a;let o=IA(i.location,e);if(FA&&!wd.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw wd.set(t,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return r}function qT({routeContext:r,match:t,children:e}){let i=j.useContext($a);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(_i.Provider,{value:r},e)}function XT(r,t=[],e=null,i=null,a=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let o=r,c=e?.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(e)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:b}=e,x=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(p,m)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:RT(e.matches),errorInfo:m})}:void 0;return o.reduceRight((p,m,v)=>{let b,x=!1,A=null,E=null;e&&(b=c&&m.route.id?c[m.route.id]:void 0,A=m.route.errorElement||HT,u&&(d<0&&v===0?($A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):d===v&&(x=!0,E=m.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,v+1)),C=()=>{let T;return b?T=A:x?T=E:m.route.Component?T=j.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=p,j.createElement(qT,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:e!=null},children:T})};return e&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?j.createElement(YA,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):C()},null)}function ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(r){let t=j.useContext($a);return ie(t,ap(r)),t}function $T(r){let t=j.useContext(Bc);return ie(t,ap(r)),t}function KT(r){let t=j.useContext(_i);return ie(t,ap(r)),t}function rp(r){let t=KT(r),e=t.matches[t.matches.length-1];return ie(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function WT(){return rp("useRouteId")}function QT(){let r=j.useContext(sp),t=$T("useRouteError"),e=rp("useRouteError");return r!==void 0?r:t.errors?.[e]}function ZT(){let{router:r}=YT("useNavigate"),t=rp("useNavigate"),e=j.useRef(!1);return GA(()=>{e.current=!0}),j.useCallback(async(a,o={})=>{ti(e.current,HA),e.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:t,...o}))},[r,t])}var bv={};function $A(r,t,e){!t&&!bv[r]&&(bv[r]=!0,ti(!1,e))}j.memo(JT);function JT({routes:r,future:t,state:e,onError:i}){return XA(r,void 0,e,i,t)}function hc(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tC({basename:r="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){ie(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:u,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[u,a,o,c]);typeof e=="string"&&(e=Ya(e));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:b="default"}=e,x=j.useMemo(()=>{let A=Ti(f,u);return A==null?null:{location:{pathname:A,search:p,hash:m,state:v,key:b},navigationType:i}},[u,f,p,m,v,b,i]);return ti(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(kn.Provider,{value:d},j.createElement(So.Provider,{children:t,value:x}))}function eC({children:r,location:t}){return UT(bf(r),t)}function bf(r,t=[]){let e=[];return j.Children.forEach(r,(i,a)=>{if(!j.isValidElement(i))return;let o=[...t,a];if(i.type===j.Fragment){e.push.apply(e,bf(i.props.children,o));return}ie(i.type===hc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=bf(i.props.children,o)),e.push(c)}),e}var dc="get",fc="application/x-www-form-urlencoded";function jc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function nC(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function iC(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function sC(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function aC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rC(r,t){return r.button===0&&(!t||t==="_self")&&!aC(r)}var Zl=null;function oC(){if(Zl===null)try{new FormData(document.createElement("form"),0),Zl=!1}catch{Zl=!0}return Zl}var lC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(r){return r!=null&&!lC.has(r)?(ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):r}function cC(r,t){let e,i,a,o,c;if(iC(r)){let u=r.getAttribute("action");i=u?Ti(u,t):null,e=r.getAttribute("method")||dc,a=Ed(r.getAttribute("enctype"))||fc,o=new FormData(r)}else if(nC(r)||sC(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||u.getAttribute("action");if(i=d?Ti(d,t):null,e=r.getAttribute("formmethod")||u.getAttribute("method")||dc,a=Ed(r.getAttribute("formenctype"))||Ed(u.getAttribute("enctype"))||fc,o=new FormData(u,r),!oC()){let{name:f,type:p,value:m}=r;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=dc,i=null,a=fc,c=r}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function uC(r,t,e,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:t&&Ti(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function hC(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fC(r,t,e){let i=await Promise.all(r.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await hC(o,e);return c.links?c.links():[]}return[]}));return yC(i.flat(1).filter(dC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Av(r,t,e,i,a,o){let c=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function pC(r,t,{includeHydrateFallback:e}={}){return mC(r.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function mC(r){return[...new Set(r)]}function gC(r){let t={},e=Object.keys(r).sort();for(let i of e)t[i]=r[i];return t}function yC(r,t){let e=new Set;return new Set(t),r.reduce((i,a)=>{let o=JSON.stringify(gC(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function KA(){let r=j.useContext($a);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vC(){let r=j.useContext(Bc);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=j.createContext(void 0);lp.displayName="FrameworkContext";function WA(){let r=j.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function bC(r,t){let e=j.useContext(lp),[i,a]=j.useState(!1),[o,c]=j.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,v=j.useRef(null);j.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let A=w=>{w.forEach(C=>{c(C.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[r]),j.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let b=()=>{a(!0)},x=()=>{a(!1),c(!1)};return e?r!=="intent"?[o,v,{}]:[o,v,{onFocus:Xr(u,b),onBlur:Xr(d,x),onMouseEnter:Xr(f,b),onMouseLeave:Xr(p,x),onTouchStart:Xr(m,b)}]:[!1,v,{}]}function Xr(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function AC({page:r,...t}){let{router:e}=KA(),i=j.useMemo(()=>OA(e.routes,r,e.basename),[e.routes,r,e.basename]);return i?j.createElement(SC,{page:r,matches:i,...t}):null}function xC(r){let{manifest:t,routeModules:e}=WA(),[i,a]=j.useState([]);return j.useEffect(()=>{let o=!1;return fC(r,t,e).then(c=>{o||a(c)}),()=>{o=!0}},[r,t,e]),i}function SC({page:r,matches:t,...e}){let i=Fs(),{future:a,manifest:o,routeModules:c}=WA(),{basename:u}=KA(),{loaderData:d,matches:f}=vC(),p=j.useMemo(()=>Av(r,t,f,o,i,"data"),[r,t,f,o,i]),m=j.useMemo(()=>Av(r,t,f,o,i,"assets"),[r,t,f,o,i]),v=j.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let A=new Set,E=!1;if(t.forEach(C=>{let T=o.routes[C.route.id];!T||!T.hasLoader||(!p.some(N=>N.route.id===C.route.id)&&C.route.id in d&&c[C.route.id]?.shouldRevalidate||T.hasClientLoader?E=!0:A.add(C.route.id))}),A.size===0)return[];let w=uC(r,u,a.unstable_trailingSlashAwareDataRequests,"data");return E&&A.size>0&&w.searchParams.set("_routes",t.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,i,o,p,t,r,c]),b=j.useMemo(()=>pC(m,o),[m,o]),x=xC(m);return j.createElement(j.Fragment,null,v.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),x.map(({key:A,link:E})=>j.createElement("link",{key:A,nonce:e.nonce,...E,crossOrigin:E.crossOrigin??e.crossOrigin})))}function wC(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var EC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EC&&(window.__reactRouterVersion="7.13.0")}catch{}function TC({basename:r,children:t,unstable_useTransitions:e,window:i}){let a=j.useRef();a.current==null&&(a.current=aT({window:i,v5Compat:!0}));let o=a.current,[c,u]=j.useState({action:o.action,location:o.location}),d=j.useCallback(f=>{e===!1?u(f):j.startTransition(()=>u(f))},[e]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(tC,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var QA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uo=j.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...b},x){let{basename:A,unstable_useTransitions:E}=j.useContext(kn),w=typeof f=="string"&&QA.test(f),C=IA(f,A);f=C.to;let T=IT(f,{relative:a}),[N,R,O]=bC(i,b),P=DC(f,{replace:c,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:E});function V(nt){t&&t(nt),nt.defaultPrevented||P(nt)}let K=j.createElement("a",{...b,...O,href:C.absoluteURL||T,onClick:C.isExternal||o?t:V,ref:wC(x,R),target:d,"data-discover":!w&&e==="render"?"true":void 0});return N&&!w?j.createElement(j.Fragment,null,K,j.createElement(AC,{page:T})):K});uo.displayName="Link";var CC=j.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:u,children:d,...f},p){let m=Eo(c,{relative:f.relative}),v=Fs(),b=j.useContext(Bc),{navigator:x,basename:A}=j.useContext(kn),E=b!=null&&kC(m)&&u===!0,w=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,C=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(C=C.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&A&&(T=Ti(T,A)||T);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=C===w||!a&&C.startsWith(w)&&C.charAt(N)==="/",O=T!=null&&(T===w||!a&&T.startsWith(w)&&T.charAt(w.length)==="/"),P={isActive:R,isPending:O,isTransitioning:E},V=R?t:void 0,K;typeof i=="function"?K=i(P):K=[i,R?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let nt=typeof o=="function"?o(P):o;return j.createElement(uo,{...f,"aria-current":V,className:K,ref:p,style:nt,to:c,viewTransition:u},typeof d=="function"?d(P):d)});CC.displayName="NavLink";var _C=j.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:c=dc,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v,...b},x)=>{let{unstable_useTransitions:A}=j.useContext(kn),E=LC(),w=OC(u,{relative:f}),C=c.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&QA.test(u),N=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,P=O?.getAttribute("formmethod")||c,V=()=>E(O||R.currentTarget,{fetcherKey:t,method:P,navigate:e,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:m,unstable_defaultShouldRevalidate:v});A&&e!==!1?j.startTransition(()=>V()):V()};return j.createElement("form",{ref:x,method:C,action:w,onSubmit:i?d:N,...b,"data-discover":!T&&r==="render"?"true":void 0})});_C.displayName="Form";function MC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(r){let t=j.useContext($a);return ie(t,MC(r)),t}function DC(r,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=qA(),p=Fs(),m=Eo(r,{relative:o});return j.useCallback(v=>{if(rC(v,t)){v.preventDefault();let b=e!==void 0?e:co(p)===co(m),x=()=>f(r,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});d?j.startTransition(()=>x()):x()}},[p,f,m,e,i,t,r,a,o,c,u,d])}var RC=0,NC=()=>`__${String(++RC)}__`;function LC(){let{router:r}=ZA("useSubmit"),{basename:t}=j.useContext(kn),e=WT(),i=r.fetch,a=r.navigate;return j.useCallback(async(o,c={})=>{let{action:u,method:d,encType:f,formData:p,body:m}=cC(o,t);if(c.navigate===!1){let v=c.fetcherKey||NC();await i(v,e,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:m,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:m,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,t,e])}function OC(r,{relative:t}={}){let{basename:e}=j.useContext(kn),i=j.useContext(_i);ie(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Eo(r||".",{relative:t})},c=Fs();if(r==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ei([e,o.pathname])),co(o)}function kC(r,{relative:t}={}){let e=j.useContext(UA);ie(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZA("useViewTransitionState"),a=Eo(r,{relative:t});if(!e.isTransitioning)return!1;let o=Ti(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ti(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Ec(a.pathname,c)!=null||Ec(a.pathname,o)!=null}const JA=j.createContext({});function PC(r){const t=j.useRef(null);return t.current===null&&(t.current=r()),t.current}const tx=typeof window<"u",BC=tx?j.useLayoutEffect:j.useEffect,cp=j.createContext(null);function up(r,t){r.indexOf(t)===-1&&r.push(t)}function hp(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const ei=(r,t,e)=>e>t?t:e<r?r:e;let dp=()=>{};const Ci={},ex=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function nx(r){return typeof r=="object"&&r!==null}const ix=r=>/^0[^.\s]+$/u.test(r);function fp(r){let t;return()=>(t===void 0&&(t=r()),t)}const Ln=r=>r,jC=(r,t)=>e=>t(r(e)),To=(...r)=>r.reduce(jC),ho=(r,t,e)=>{const i=t-r;return i===0?1:(e-r)/i};class pp{constructor(){this.subscriptions=[]}add(t){return up(this.subscriptions,t),()=>hp(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zn=r=>r*1e3,Nn=r=>r/1e3;function sx(r,t){return t?r*(1e3/t):0}const ax=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,FC=1e-7,IC=12;function zC(r,t,e,i,a){let o,c,u=0;do c=t+(e-t)/2,o=ax(c,i,a)-r,o>0?e=c:t=c;while(Math.abs(o)>FC&&++u<IC);return c}function Co(r,t,e,i){if(r===t&&e===i)return Ln;const a=o=>zC(o,0,1,r,e);return o=>o===0||o===1?o:ax(a(o),t,i)}const rx=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,ox=r=>t=>1-r(1-t),lx=Co(.33,1.53,.69,.99),mp=ox(lx),cx=rx(mp),ux=r=>(r*=2)<1?.5*mp(r):.5*(2-Math.pow(2,-10*(r-1))),gp=r=>1-Math.sin(Math.acos(r)),hx=ox(gp),dx=rx(gp),UC=Co(.42,0,1,1),VC=Co(0,0,.58,1),fx=Co(.42,0,.58,1),HC=r=>Array.isArray(r)&&typeof r[0]!="number",px=r=>Array.isArray(r)&&typeof r[0]=="number",GC={linear:Ln,easeIn:UC,easeInOut:fx,easeOut:VC,circIn:gp,circInOut:dx,circOut:hx,backIn:mp,backInOut:cx,backOut:lx,anticipate:ux},qC=r=>typeof r=="string",xv=r=>{if(px(r)){dp(r.length===4);const[t,e,i,a]=r;return Co(t,e,i,a)}else if(qC(r))return GC[r];return r},Jl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XC(r,t){let e=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){c.has(p)&&(f.schedule(p),r()),p(u)}const f={schedule:(p,m=!1,v=!1)=>{const x=v&&a?e:i;return m&&c.add(p),x.has(p)||x.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(u=p,a){o=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,o&&(o=!1,f.process(p))}};return f}const YC=40;function mx(r,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,c=Jl.reduce((T,N)=>(T[N]=XC(o),T),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:v,render:b,postRender:x}=c,A=()=>{const T=Ci.useManualTiming?a.timestamp:performance.now();e=!1,Ci.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(T-a.timestamp,YC),1)),a.timestamp=T,a.isProcessing=!0,u.process(a),d.process(a),f.process(a),p.process(a),m.process(a),v.process(a),b.process(a),x.process(a),a.isProcessing=!1,e&&t&&(i=!1,r(A))},E=()=>{e=!0,i=!0,a.isProcessing||r(A)};return{schedule:Jl.reduce((T,N)=>{const R=c[N];return T[N]=(O,P=!1,V=!1)=>(e||E(),R.schedule(O,P,V)),T},{}),cancel:T=>{for(let N=0;N<Jl.length;N++)c[Jl[N]].cancel(T)},state:a,steps:c}}const{schedule:Kt,cancel:is,state:Fe,steps:Td}=mx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let pc;function $C(){pc=void 0}const qe={now:()=>(pc===void 0&&qe.set(Fe.isProcessing||Ci.useManualTiming?Fe.timestamp:performance.now()),pc),set:r=>{pc=r,queueMicrotask($C)}},gx=r=>t=>typeof t=="string"&&t.startsWith(r),yx=gx("--"),KC=gx("var(--"),yp=r=>KC(r)?WC.test(r.split("/*")[0].trim()):!1,WC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Sv(r){return typeof r!="string"?!1:r.split("/*")[0].includes("var(--")}const Ka={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},fo={...Ka,transform:r=>ei(0,1,r)},tc={...Ka,default:1},so=r=>Math.round(r*1e5)/1e5,vp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QC(r){return r==null}const ZC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bp=(r,t)=>e=>!!(typeof e=="string"&&ZC.test(e)&&e.startsWith(r)||t&&!QC(e)&&Object.prototype.hasOwnProperty.call(e,t)),vx=(r,t,e)=>i=>{if(typeof i!="string")return i;const[a,o,c,u]=i.match(vp);return{[r]:parseFloat(a),[t]:parseFloat(o),[e]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},JC=r=>ei(0,255,r),Cd={...Ka,transform:r=>Math.round(JC(r))},Ds={test:bp("rgb","red"),parse:vx("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:i=1})=>"rgba("+Cd.transform(r)+", "+Cd.transform(t)+", "+Cd.transform(e)+", "+so(fo.transform(i))+")"};function t_(r){let t="",e="",i="",a="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),i=r.substring(5,7),a=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),i=r.substring(3,4),a=r.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Af={test:bp("#"),parse:t_,transform:Ds.transform},_o=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),Ji=_o("deg"),Jn=_o("%"),ct=_o("px"),e_=_o("vh"),n_=_o("vw"),wv={...Jn,parse:r=>Jn.parse(r)/100,transform:r=>Jn.transform(r*100)},Ra={test:bp("hsl","hue"),parse:vx("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(r)+", "+Jn.transform(so(t))+", "+Jn.transform(so(e))+", "+so(fo.transform(i))+")"},xe={test:r=>Ds.test(r)||Af.test(r)||Ra.test(r),parse:r=>Ds.test(r)?Ds.parse(r):Ra.test(r)?Ra.parse(r):Af.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Ds.transform(r):Ra.transform(r),getAnimatableNone:r=>{const t=xe.parse(r);return t.alpha=0,xe.transform(t)}},i_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s_(r){return isNaN(r)&&typeof r=="string"&&(r.match(vp)?.length||0)+(r.match(i_)?.length||0)>0}const bx="number",Ax="color",a_="var",r_="var(",Ev="${}",o_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function po(r){const t=r.toString(),e=[],i={color:[],number:[],var:[]},a=[];let o=0;const u=t.replace(o_,d=>(xe.test(d)?(i.color.push(o),a.push(Ax),e.push(xe.parse(d))):d.startsWith(r_)?(i.var.push(o),a.push(a_),e.push(d)):(i.number.push(o),a.push(bx),e.push(parseFloat(d))),++o,Ev)).split(Ev);return{values:e,split:u,indexes:i,types:a}}function xx(r){return po(r).values}function Sx(r){const{split:t,types:e}=po(r),i=t.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=t[c],a[c]!==void 0){const u=e[c];u===bx?o+=so(a[c]):u===Ax?o+=xe.transform(a[c]):o+=a[c]}return o}}const l_=r=>typeof r=="number"?0:xe.test(r)?xe.getAnimatableNone(r):r;function c_(r){const t=xx(r);return Sx(r)(t.map(l_))}const ss={test:s_,parse:xx,createTransformer:Sx,getAnimatableNone:c_};function _d(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function u_({hue:r,saturation:t,lightness:e,alpha:i}){r/=360,t/=100,e/=100;let a=0,o=0,c=0;if(!t)a=o=c=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;a=_d(d,u,r+1/3),o=_d(d,u,r),c=_d(d,u,r-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Tc(r,t){return e=>e>0?t:r}const ne=(r,t,e)=>r+(t-r)*e,Md=(r,t,e)=>{const i=r*r,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},h_=[Af,Ds,Ra],d_=r=>h_.find(t=>t.test(r));function Tv(r){const t=d_(r);if(!t)return!1;let e=t.parse(r);return t===Ra&&(e=u_(e)),e}const Cv=(r,t)=>{const e=Tv(r),i=Tv(t);if(!e||!i)return Tc(r,t);const a={...e};return o=>(a.red=Md(e.red,i.red,o),a.green=Md(e.green,i.green,o),a.blue=Md(e.blue,i.blue,o),a.alpha=ne(e.alpha,i.alpha,o),Ds.transform(a))},xf=new Set(["none","hidden"]);function f_(r,t){return xf.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function p_(r,t){return e=>ne(r,t,e)}function Ap(r){return typeof r=="number"?p_:typeof r=="string"?yp(r)?Tc:xe.test(r)?Cv:y_:Array.isArray(r)?wx:typeof r=="object"?xe.test(r)?Cv:m_:Tc}function wx(r,t){const e=[...r],i=e.length,a=r.map((o,c)=>Ap(o)(o,t[c]));return o=>{for(let c=0;c<i;c++)e[c]=a[c](o);return e}}function m_(r,t){const e={...r,...t},i={};for(const a in e)r[a]!==void 0&&t[a]!==void 0&&(i[a]=Ap(r[a])(r[a],t[a]));return a=>{for(const o in i)e[o]=i[o](a);return e}}function g_(r,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],c=r.indexes[o][i[o]],u=r.values[c]??0;e[a]=u,i[o]++}return e}const y_=(r,t)=>{const e=ss.createTransformer(t),i=po(r),a=po(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?xf.has(r)&&!a.values.length||xf.has(t)&&!i.values.length?f_(r,t):To(wx(g_(i,a),a.values),e):Tc(r,t)};function Ex(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?ne(r,t,e):Ap(r)(r,t)}const v_=r=>{const t=({timestamp:e})=>r(e);return{start:(e=!0)=>Kt.update(t,e),stop:()=>is(t),now:()=>Fe.isProcessing?Fe.timestamp:qe.now()}},Tx=(r,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let o=0;o<a;o++)i+=Math.round(r(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Cc=2e4;function xp(r){let t=0;const e=50;let i=r.next(t);for(;!i.done&&t<Cc;)t+=e,i=r.next(t);return t>=Cc?1/0:t}function b_(r,t=100,e){const i=e({...r,keyframes:[0,t]}),a=Math.min(xp(i),Cc);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:Nn(a)}}const A_=5;function Cx(r,t,e){const i=Math.max(t-A_,0);return sx(e-r(i),t-i)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dd=.001;function x_({duration:r=oe.duration,bounce:t=oe.bounce,velocity:e=oe.velocity,mass:i=oe.mass}){let a,o,c=1-t;c=ei(oe.minDamping,oe.maxDamping,c),r=ei(oe.minDuration,oe.maxDuration,Nn(r)),c<1?(a=f=>{const p=f*c,m=p*r,v=p-e,b=Sf(f,c),x=Math.exp(-m);return Dd-v/b*x},o=f=>{const m=f*c*r,v=m*e+e,b=Math.pow(c,2)*Math.pow(f,2)*r,x=Math.exp(-m),A=Sf(Math.pow(f,2),c);return(-a(f)+Dd>0?-1:1)*((v-b)*x)/A}):(a=f=>{const p=Math.exp(-f*r),m=(f-e)*r+1;return-Dd+p*m},o=f=>{const p=Math.exp(-f*r),m=(e-f)*(r*r);return p*m});const u=5/r,d=w_(a,o,u);if(r=Zn(r),isNaN(d))return{stiffness:oe.stiffness,damping:oe.damping,duration:r};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:r}}}const S_=12;function w_(r,t,e){let i=e;for(let a=1;a<S_;a++)i=i-r(i)/t(i);return i}function Sf(r,t){return r*Math.sqrt(1-t*t)}const E_=["duration","bounce"],T_=["stiffness","damping","mass"];function _v(r,t){return t.some(e=>r[e]!==void 0)}function C_(r){let t={velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1,...r};if(!_v(r,T_)&&_v(r,E_))if(r.visualDuration){const e=r.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,o=2*ei(.05,1,1-(r.bounce||0))*Math.sqrt(a);t={...t,mass:oe.mass,stiffness:a,damping:o}}else{const e=x_(r);t={...t,...e,mass:oe.mass},t.isResolvedFromDuration=!0}return t}function _c(r=oe.visualDuration,t=oe.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:i,restDelta:a}=e;const o=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:v,isResolvedFromDuration:b}=C_({...e,velocity:-Nn(e.velocity||0)}),x=v||0,A=f/(2*Math.sqrt(d*p)),E=c-o,w=Nn(Math.sqrt(d/p)),C=Math.abs(E)<5;i||(i=C?oe.restSpeed.granular:oe.restSpeed.default),a||(a=C?oe.restDelta.granular:oe.restDelta.default);let T;if(A<1){const R=Sf(w,A);T=O=>{const P=Math.exp(-A*w*O);return c-P*((x+A*w*E)/R*Math.sin(R*O)+E*Math.cos(R*O))}}else if(A===1)T=R=>c-Math.exp(-w*R)*(E+(x+w*E)*R);else{const R=w*Math.sqrt(A*A-1);T=O=>{const P=Math.exp(-A*w*O),V=Math.min(R*O,300);return c-P*((x+A*w*E)*Math.sinh(V)+R*E*Math.cosh(V))/R}}const N={calculatedDuration:b&&m||null,next:R=>{const O=T(R);if(b)u.done=R>=m;else{let P=R===0?x:0;A<1&&(P=R===0?Zn(x):Cx(T,R,O));const V=Math.abs(P)<=i,K=Math.abs(c-O)<=a;u.done=V&&K}return u.value=u.done?c:O,u},toString:()=>{const R=Math.min(xp(N),Cc),O=Tx(P=>N.next(R*P).value,R,30);return R+"ms "+O},toTransition:()=>{}};return N}_c.applyToOptions=r=>{const t=b_(r,100,_c);return r.ease=t.ease,r.duration=Zn(t.duration),r.type="keyframes",r};function wf({keyframes:r,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:d,restDelta:f=.5,restSpeed:p}){const m=r[0],v={done:!1,value:m},b=V=>u!==void 0&&V<u||d!==void 0&&V>d,x=V=>u===void 0?d:d===void 0||Math.abs(u-V)<Math.abs(d-V)?u:d;let A=e*t;const E=m+A,w=c===void 0?E:c(E);w!==E&&(A=w-m);const C=V=>-A*Math.exp(-V/i),T=V=>w+C(V),N=V=>{const K=C(V),nt=T(V);v.done=Math.abs(K)<=f,v.value=v.done?w:nt};let R,O;const P=V=>{b(v.value)&&(R=V,O=_c({keyframes:[v.value,x(v.value)],velocity:Cx(T,V,v.value),damping:a,stiffness:o,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:V=>{let K=!1;return!O&&R===void 0&&(K=!0,N(V),P(V)),R!==void 0&&V>=R?O.next(V-R):(!K&&N(V),v)}}}function __(r,t,e){const i=[],a=e||Ci.mix||Ex,o=r.length-1;for(let c=0;c<o;c++){let u=a(r[c],r[c+1]);if(t){const d=Array.isArray(t)?t[c]||Ln:t;u=To(d,u)}i.push(u)}return i}function M_(r,t,{clamp:e=!0,ease:i,mixer:a}={}){const o=r.length;if(dp(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[o-1]&&(r=[...r].reverse(),t=[...t].reverse());const u=__(t,i,a),d=u.length,f=p=>{if(c&&p<r[0])return t[0];let m=0;if(d>1)for(;m<r.length-2&&!(p<r[m+1]);m++);const v=ho(r[m],r[m+1],p);return u[m](v)};return e?p=>f(ei(r[0],r[o-1],p)):f}function D_(r,t){const e=r[r.length-1];for(let i=1;i<=t;i++){const a=ho(0,t,i);r.push(ne(e,1,a))}}function R_(r){const t=[0];return D_(t,r.length-1),t}function N_(r,t){return r.map(e=>e*t)}function L_(r,t){return r.map(()=>t||fx).splice(0,r.length-1)}function ao({duration:r=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=HC(i)?i.map(xv):xv(i),o={done:!1,value:t[0]},c=N_(e&&e.length===t.length?e:R_(t),r),u=M_(c,t,{ease:Array.isArray(a)?a:L_(t,a)});return{calculatedDuration:r,next:d=>(o.value=u(d),o.done=d>=r,o)}}const O_=r=>r!==null;function Sp(r,{repeat:t,repeatType:e="loop"},i,a=1){const o=r.filter(O_),u=a<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const k_={decay:wf,inertia:wf,tween:ao,keyframes:ao,spring:_c};function _x(r){typeof r.type=="string"&&(r.type=k_[r.type])}class wp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const P_=r=>r/100;class Ep extends wp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==qe.now()&&this.tick(qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_x(t);const{type:e=ao,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=t;let{keyframes:u}=t;const d=e||ao;d!==ao&&typeof u[0]!="number"&&(this.mixKeyframes=To(P_,Ex(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=xp(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:v,repeatDelay:b,type:x,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const w=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,N=i;if(m){const V=Math.min(this.currentTime,a)/u;let K=Math.floor(V),nt=V%1;!nt&&V>=1&&(nt=1),nt===1&&K--,K=Math.min(K,m+1),K%2&&(v==="reverse"?(nt=1-nt,b&&(nt-=b/u)):v==="mirror"&&(N=c)),T=ei(0,1,nt)*u}const R=C?{done:!1,value:p[0]}:N.next(T);o&&(R.value=o(R.value));let{done:O}=R;!C&&d!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return P&&x!==wf&&(R.value=Sp(p,this.options,E,this.speed)),A&&A(R.value),P&&this.finish(),R}then(t,e){return this.finished.then(t,e)}get duration(){return Nn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nn(t)}get time(){return Nn(this.currentTime)}set time(t){t=Zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qe.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=v_,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function B_(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const Rs=r=>r*180/Math.PI,Ef=r=>{const t=Rs(Math.atan2(r[1],r[0]));return Tf(t)},j_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Ef,rotateZ:Ef,skewX:r=>Rs(Math.atan(r[1])),skewY:r=>Rs(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Tf=r=>(r=r%360,r<0&&(r+=360),r),Mv=Ef,Dv=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),Rv=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),F_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dv,scaleY:Rv,scale:r=>(Dv(r)+Rv(r))/2,rotateX:r=>Tf(Rs(Math.atan2(r[6],r[5]))),rotateY:r=>Tf(Rs(Math.atan2(-r[2],r[0]))),rotateZ:Mv,rotate:Mv,skewX:r=>Rs(Math.atan(r[4])),skewY:r=>Rs(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Cf(r){return r.includes("scale")?1:0}function _f(r,t){if(!r||r==="none")return Cf(t);const e=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=F_,a=e;else{const u=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=j_,a=u}if(!a)return Cf(t);const o=i[t],c=a[1].split(",").map(z_);return typeof o=="function"?o(c):c[o]}const I_=(r,t)=>{const{transform:e="none"}=getComputedStyle(r);return _f(e,t)};function z_(r){return parseFloat(r.trim())}const Wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qa=new Set(Wa),Nv=r=>r===Ka||r===ct,U_=new Set(["x","y","z"]),V_=Wa.filter(r=>!U_.has(r));function H_(r){const t=[];return V_.forEach(e=>{const i=r.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ns={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>_f(t,"x"),y:(r,{transform:t})=>_f(t,"y")};ns.translateX=ns.x;ns.translateY=ns.y;const Ps=new Set;let Mf=!1,Df=!1,Rf=!1;function Mx(){if(Df){const r=Array.from(Ps).filter(i=>i.needsMeasurement),t=new Set(r.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=H_(i);a.length&&(e.set(i,a),i.render())}),r.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([o,c])=>{i.getValue(o)?.set(c)})}),r.forEach(i=>i.measureEndState()),r.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Df=!1,Mf=!1,Ps.forEach(r=>r.complete(Rf)),Ps.clear()}function Dx(){Ps.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Df=!0)})}function G_(){Rf=!0,Dx(),Mx(),Rf=!1}class Tp{constructor(t,e,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ps.add(this),Mf||(Mf=!0,Kt.read(Dx),Kt.resolveKeyframes(Mx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const o=a?.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),a&&o===void 0&&a.set(t[0])}B_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ps.delete(this)}cancel(){this.state==="scheduled"&&(Ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q_=r=>r.startsWith("--");function X_(r,t,e){q_(t)?r.style.setProperty(t,e):r.style[t]=e}const Y_=fp(()=>window.ScrollTimeline!==void 0),$_={};function K_(r,t){const e=fp(r);return()=>$_[t]??e()}const Rx=K_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),to=([r,t,e,i])=>`cubic-bezier(${r}, ${t}, ${e}, ${i})`,Lv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:to([0,.65,.55,1]),circOut:to([.55,0,1,.45]),backIn:to([.31,.01,.66,-.59]),backOut:to([.33,1.53,.69,.99])};function Nx(r,t){if(r)return typeof r=="function"?Rx()?Tx(r,t):"ease-out":px(r)?to(r):Array.isArray(r)?r.map(e=>Nx(e,t)||Lv.easeOut):Lv[r]}function W_(r,t,e,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const m=Nx(u,a);Array.isArray(m)&&(p.easing=m);const v={delay:i,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),r.animate(p,v)}function Lx(r){return typeof r=="function"&&"applyToOptions"in r}function Q_({type:r,...t}){return Lx(r)&&Rx()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Z_ extends wp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,dp(typeof t.type!="string");const f=Q_(t);this.animation=W_(e,i,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Sp(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):X_(e,i,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Nn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nn(t)}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Y_()?(this.animation.timeline=t,Ln):e(this)}}const Ox={anticipate:ux,backInOut:cx,circInOut:dx};function J_(r){return r in Ox}function t2(r){typeof r.ease=="string"&&J_(r.ease)&&(r.ease=Ox[r.ease])}const Rd=10;class e2 extends Z_{constructor(t){t2(t),_x(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new Ep({...c,autoplay:!1}),d=Math.max(Rd,qe.now()-this.startTime),f=ei(0,Rd,d-Rd);e.setWithVelocity(u.sample(Math.max(0,d-f)).value,u.sample(d).value,f),u.stop()}}const Ov=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ss.test(r)||r==="0")&&!r.startsWith("url("));function n2(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function i2(r,t,e,i){const a=r[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=r[r.length-1],c=Ov(a,t),u=Ov(o,t);return!c||!u?!1:n2(r)||(e==="spring"||Lx(e))&&i}function Nf(r){r.duration=0,r.type="keyframes"}const s2=new Set(["opacity","clipPath","filter","transform"]),a2=fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r2(r){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:o,type:c}=r;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return a2()&&e&&s2.has(e)&&(e!=="transform"||!f)&&!d&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const o2=40;class l2 extends wp{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=qe.now();const v={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:o,repeatType:c,name:d,motionValue:f,element:p,...m},b=p?.KeyframeResolver||Tp;this.keyframeResolver=new b(u,(x,A,E)=>this.onKeyframesResolved(x,A,v,!E),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:d,isHandoff:f,onUpdate:p}=i;this.resolvedAt=qe.now(),i2(t,o,c,u)||((Ci.instantAnimations||!d)&&p?.(Sp(t,i,e)),t[0]=t[t.length-1],Nf(i),i.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>o2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},b=!f&&r2(v),x=v.motionValue?.owner?.current,A=b?new e2({...v,element:x}):new Ep(v);A.finished.then(()=>{this.notifyFinished()}).catch(Ln),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G_()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function kx(r,t,e,i=0,a=1){const o=Array.from(r).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=r.size,u=(c-1)*i;return typeof e=="function"?e(o,c):a===1?o*i:u-o*i}const c2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u2(r){const t=c2.exec(r);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function Px(r,t,e=1){const[i,a]=u2(r);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const c=o.trim();return ex(c)?parseFloat(c):c}return yp(a)?Px(a,t,e+1):a}const h2={type:"spring",stiffness:500,damping:25,restSpeed:10},d2=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),f2={type:"keyframes",duration:.8},p2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m2=(r,{keyframes:t})=>t.length>2?f2:Qa.has(r)?r.startsWith("scale")?d2(t[1]):h2:p2,g2=r=>r!==null;function y2(r,{repeat:t,repeatType:e="loop"},i){const a=r.filter(g2),o=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[o]}function Bx(r,t){if(r?.inherit&&t){const{inherit:e,...i}=r;return{...t,...i}}return r}function Cp(r,t){const e=r?.[t]??r?.default??r;return e!==r?Bx(e,r):e}function v2({when:r,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const _p=(r,t,e,i={},a,o)=>c=>{const u=Cp(i,r)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Zn(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:r,motionValue:t,element:o?void 0:a};v2(u)||Object.assign(p,m2(r,p)),p.duration&&(p.duration=Zn(p.duration)),p.repeatDelay&&(p.repeatDelay=Zn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Nf(p),p.delay===0&&(m=!0)),(Ci.instantAnimations||Ci.skipAnimations||a?.shouldSkipAnimations)&&(m=!0,Nf(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,m&&!o&&t.get()!==void 0){const v=y2(p.keyframes,u);if(v!==void 0){Kt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new Ep(p):new l2(p)};function kv(r){const t=[{},{}];return r?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Mp(r,t,e,i){if(typeof t=="function"){const[a,o]=kv(i);t=t(e!==void 0?e:r.custom,a,o)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[a,o]=kv(i);t=t(e!==void 0?e:r.custom,a,o)}return t}function Fa(r,t,e){const i=r.getProps();return Mp(i,t,e!==void 0?e:i.custom,r)}const jx=new Set(["width","height","top","left","right","bottom",...Wa]),Pv=30,b2=r=>!isNaN(parseFloat(r));class A2{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=qe.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=qe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=b2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new pp);const i=this.events[t].add(e);return t==="change"?()=>{i(),Kt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pv)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Pv);return sx(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(r,t){return new A2(r,t)}const Lf=r=>Array.isArray(r);function x2(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,qa(e))}function S2(r){return Lf(r)?r[r.length-1]||0:r}function w2(r,t){const e=Fa(r,t);let{transitionEnd:i={},transition:a={},...o}=e||{};o={...o,...i};for(const c in o){const u=S2(o[c]);x2(r,c,u)}}const Ve=r=>!!(r&&r.getVelocity);function E2(r){return!!(Ve(r)&&r.add)}function Of(r,t){const e=r.getValue("willChange");if(E2(e))return e.add(t);if(!e&&Ci.WillChange){const i=new Ci.WillChange("auto");r.addValue("willChange",i),i.add(t)}}function Dp(r){return r.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const T2="framerAppearId",Fx="data-"+Dp(T2);function Ix(r){return r.props[Fx]}function C2({protectedKeys:r,needsAnimating:t},e){const i=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function zx(r,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:o,transitionEnd:c,...u}=t;const d=r.getDefaultTransition();o=o?Bx(o,d):d;const f=o?.reduceMotion;i&&(o=i);const p=[],m=a&&r.animationState&&r.animationState.getState()[a];for(const v in u){const b=r.getValue(v,r.latestValues[v]??null),x=u[v];if(x===void 0||m&&C2(m,v))continue;const A={delay:e,...Cp(o||{},v)},E=b.get();if(E!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===E&&!A.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=Ix(r);if(N){const R=window.MotionHandoffAnimation(N,v,Kt);R!==null&&(A.startTime=R,w=!0)}}Of(r,v);const C=f??r.shouldReduceMotion;b.start(_p(v,b,x,C&&jx.has(v)?{type:!1}:A,r,w));const T=b.animation;T&&p.push(T)}if(c){const v=()=>Kt.update(()=>{c&&w2(r,c)});p.length?Promise.all(p).then(v):v()}return p}function kf(r,t,e={}){const i=Fa(r,t,e.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const o=i?()=>Promise.all(zx(r,i,e)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=a;return _2(r,t,d,f,p,m,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,f]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>f())}else return Promise.all([o(),c(e.delay)])}function _2(r,t,e=0,i=0,a=0,o=1,c){const u=[];for(const d of r.variantChildren)d.notify("AnimationStart",t),u.push(kf(d,t,{...c,delay:e+(typeof i=="function"?0:i)+kx(r.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function M2(r,t,e={}){r.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>kf(r,o,e));i=Promise.all(a)}else if(typeof t=="string")i=kf(r,t,e);else{const a=typeof t=="function"?Fa(r,t,e.custom):t;i=Promise.all(zx(r,a,e))}return i.then(()=>{r.notify("AnimationComplete",t)})}const D2={test:r=>r==="auto",parse:r=>r},Ux=r=>t=>t.test(r),Vx=[Ka,ct,Jn,Ji,n_,e_,D2],Bv=r=>Vx.find(Ux(r));function R2(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||ix(r):!0}const N2=new Set(["brightness","contrast","saturate","opacity"]);function L2(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[i]=e.match(vp)||[];if(!i)return r;const a=e.replace(i,"");let o=N2.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+a+")"}const O2=/\b([a-z-]*)\(.*?\)/gu,Pf={...ss,getAnimatableNone:r=>{const t=r.match(O2);return t?t.map(L2).join(" "):r}},jv={...Ka,transform:Math.round},k2={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:tc,scaleX:tc,scaleY:tc,scaleZ:tc,skew:Ji,skewX:Ji,skewY:Ji,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:fo,originX:wv,originY:wv,originZ:ct},Rp={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,top:ct,right:ct,bottom:ct,left:ct,inset:ct,insetBlock:ct,insetBlockStart:ct,insetBlockEnd:ct,insetInline:ct,insetInlineStart:ct,insetInlineEnd:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,paddingBlock:ct,paddingBlockStart:ct,paddingBlockEnd:ct,paddingInline:ct,paddingInlineStart:ct,paddingInlineEnd:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,marginBlock:ct,marginBlockStart:ct,marginBlockEnd:ct,marginInline:ct,marginInlineStart:ct,marginInlineEnd:ct,fontSize:ct,backgroundPositionX:ct,backgroundPositionY:ct,...k2,zIndex:jv,fillOpacity:fo,strokeOpacity:fo,numOctaves:jv},P2={...Rp,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Pf,WebkitFilter:Pf},Hx=r=>P2[r];function Gx(r,t){let e=Hx(r);return e!==Pf&&(e=ss),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const B2=new Set(["auto","none","0"]);function j2(r,t,e){let i=0,a;for(;i<r.length&&!a;){const o=r[i];typeof o=="string"&&!B2.has(o)&&po(o).values.length&&(a=r[i]),i++}if(a&&e)for(const o of t)r[o]=Gx(e,a)}class F2 extends Tp{constructor(t,e,i,a,o){super(t,e,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),yp(m))){const v=Px(m,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!jx.has(i)||t.length!==2)return;const[a,o]=t,c=Bv(a),u=Bv(o),d=Sv(a),f=Sv(o);if(d!==f&&ns[i]){this.needsMeasurement=!0;return}if(c!==u)if(Nv(c)&&Nv(u))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else ns[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||R2(t[a]))&&i.push(a);i.length&&j2(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ns[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=ns[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function qx(r,t,e){if(r==null)return[];if(r instanceof EventTarget)return[r];if(typeof r=="string"){let i=document;const a=e?.[r]??i.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r).filter(i=>i!=null)}const Xx=(r,t)=>t&&typeof r=="number"?t.transform(r):r;function I2(r){return nx(r)&&"offsetHeight"in r}const{schedule:Np}=mx(queueMicrotask,!1),In={x:!1,y:!1};function Yx(){return In.x||In.y}function z2(r){return r==="x"||r==="y"?In[r]?null:(In[r]=!0,()=>{In[r]=!1}):In.x||In.y?null:(In.x=In.y=!0,()=>{In.x=In.y=!1})}function $x(r,t){const e=qx(r),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function U2(r){return!(r.pointerType==="touch"||Yx())}function V2(r,t,e={}){const[i,a,o]=$x(r,e);return i.forEach(c=>{let u=!1,d=!1,f;const p=()=>{c.removeEventListener("pointerleave",x)},m=E=>{f&&(f(E),f=void 0),p()},v=E=>{u=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),d&&(d=!1,m(E))},b=()=>{u=!0,window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",v,a)},x=E=>{if(E.pointerType!=="touch"){if(u){d=!0;return}m(E)}},A=E=>{if(!U2(E))return;d=!1;const w=t(c,E);typeof w=="function"&&(f=w,c.addEventListener("pointerleave",x,a))};c.addEventListener("pointerenter",A,a),c.addEventListener("pointerdown",b,a)}),o}const Kx=(r,t)=>t?r===t?!0:Kx(r,t.parentElement):!1,Lp=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,H2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G2(r){return H2.has(r.tagName)||r.isContentEditable===!0}const q2=new Set(["INPUT","SELECT","TEXTAREA"]);function X2(r){return q2.has(r.tagName)||r.isContentEditable===!0}const mc=new WeakSet;function Fv(r){return t=>{t.key==="Enter"&&r(t)}}function Nd(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y2=(r,t)=>{const e=r.currentTarget;if(!e)return;const i=Fv(()=>{if(mc.has(e))return;Nd(e,"down");const a=Fv(()=>{Nd(e,"up")}),o=()=>Nd(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function Iv(r){return Lp(r)&&!Yx()}const zv=new WeakSet;function $2(r,t,e={}){const[i,a,o]=$x(r,e),c=u=>{const d=u.currentTarget;if(!Iv(u)||zv.has(u))return;mc.add(d),e.stopPropagation&&zv.add(u);const f=t(d,u),p=(b,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),mc.has(d)&&mc.delete(d),Iv(b)&&typeof f=="function"&&f(b,{success:x})},m=b=>{p(b,d===window||d===document||e.useGlobalTarget||Kx(d,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),I2(u)&&(u.addEventListener("focus",f=>Y2(f,a)),!G2(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function Op(r){return nx(r)&&"ownerSVGElement"in r}const gc=new WeakMap;let yc;const Wx=(r,t,e)=>(i,a)=>a&&a[0]?a[0][r+"Size"]:Op(i)&&"getBBox"in i?i.getBBox()[t]:i[e],K2=Wx("inline","width","offsetWidth"),W2=Wx("block","height","offsetHeight");function Q2({target:r,borderBoxSize:t}){gc.get(r)?.forEach(e=>{e(r,{get width(){return K2(r,t)},get height(){return W2(r,t)}})})}function Z2(r){r.forEach(Q2)}function J2(){typeof ResizeObserver>"u"||(yc=new ResizeObserver(Z2))}function tM(r,t){yc||J2();const e=qx(r);return e.forEach(i=>{let a=gc.get(i);a||(a=new Set,gc.set(i,a)),a.add(t),yc?.observe(i)}),()=>{e.forEach(i=>{const a=gc.get(i);a?.delete(t),a?.size||yc?.unobserve(i)})}}const vc=new Set;let Na;function eM(){Na=()=>{const r={get width(){return window.innerWidth},get height(){return window.innerHeight}};vc.forEach(t=>t(r))},window.addEventListener("resize",Na)}function nM(r){return vc.add(r),Na||eM(),()=>{vc.delete(r),!vc.size&&typeof Na=="function"&&(window.removeEventListener("resize",Na),Na=void 0)}}function Uv(r,t){return typeof r=="function"?nM(r):tM(r,t)}function iM(r){return Op(r)&&r.tagName==="svg"}const sM=[...Vx,xe,ss],aM=r=>sM.find(Ux(r)),Vv=()=>({translate:0,scale:1,origin:0,originPoint:0}),La=()=>({x:Vv(),y:Vv()}),Hv=()=>({min:0,max:0}),Ee=()=>({x:Hv(),y:Hv()}),Bf={current:null},Qx={current:!1},rM=typeof window<"u";function oM(){if(Qx.current=!0,!!rM)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bf.current=r.matches;r.addEventListener("change",t),t()}else Bf.current=!1}const lM=new WeakMap;function Fc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function mo(r){return typeof r=="string"||Array.isArray(r)}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pp=["initial",...kp];function Ic(r){return Fc(r.animate)||Pp.some(t=>mo(r[t]))}function Zx(r){return!!(Ic(r)||r.variants)}function cM(r,t,e){for(const i in t){const a=t[i],o=e[i];if(Ve(a))r.addValue(i,a);else if(Ve(o))r.addValue(i,qa(a,{owner:r}));else if(o!==a)if(r.hasValue(i)){const c=r.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=r.getStaticValue(i);r.addValue(i,qa(c!==void 0?c:a,{owner:r}))}}for(const i in e)t[i]===void 0&&r.removeValue(i);return t}const Gv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Mc={};function Jx(r){Mc=r}function uM(){return Mc}class hM{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,skipAnimations:o,blockInitialAnimation:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Tp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=qe.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Kt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=e.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=Ic(e),this.isVariantNode=Zx(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in v){const x=v[b];f[b]!==void 0&&Ve(x)&&x.set(f[b])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,lM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Qx.current||oM(),this.shouldReduceMotion=Bf.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Qa.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Kt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mc){const e=Mc[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<Gv.length;i++){const a=Gv[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=t[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=cM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=qa(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ex(i)||ix(i))?i=parseFloat(i):!aM(i)&&ss.test(e)&&(i=Gx(t,e)),this.setBaseTarget(t,Ve(i)?i.get():i)),Ve(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Mp(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ve(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new pp),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Np.render(this.render)}}class t1 extends hM{constructor(){super(...arguments),this.KeyframeResolver=F2}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ve(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class os{constructor(t){this.isMounted=!1,this.node=t}update(){}}function e1({top:r,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:r,max:i}}}function dM({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function fM(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),i=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Ld(r){return r===void 0||r===1}function jf({scale:r,scaleX:t,scaleY:e}){return!Ld(r)||!Ld(t)||!Ld(e)}function Ms(r){return jf(r)||n1(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function n1(r){return qv(r.x)||qv(r.y)}function qv(r){return r&&r!=="0%"}function Dc(r,t,e){const i=r-e,a=t*i;return e+a}function Xv(r,t,e,i,a){return a!==void 0&&(r=Dc(r,a,i)),Dc(r,e,i)+t}function Ff(r,t=0,e=1,i,a){r.min=Xv(r.min,t,e,i,a),r.max=Xv(r.max,t,e,i,a)}function i1(r,{x:t,y:e}){Ff(r.x,t.translate,t.scale,t.originPoint),Ff(r.y,e.translate,e.scale,e.originPoint)}const Yv=.999999999999,$v=1.0000000000001;function pM(r,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let o,c;for(let u=0;u<a;u++){o=e[u],c=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ka(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,i1(r,c)),i&&Ms(o.latestValues)&&ka(r,o.latestValues))}t.x<$v&&t.x>Yv&&(t.x=1),t.y<$v&&t.y>Yv&&(t.y=1)}function Oa(r,t){r.min=r.min+t,r.max=r.max+t}function Kv(r,t,e,i,a=.5){const o=ne(r.min,r.max,a);Ff(r,t,e,o,i)}function ka(r,t){Kv(r.x,t.x,t.scaleX,t.scale,t.originX),Kv(r.y,t.y,t.scaleY,t.scale,t.originY)}function s1(r,t){return e1(fM(r.getBoundingClientRect(),t))}function mM(r,t,e){const i=s1(r,e),{scroll:a}=t;return a&&(Oa(i.x,a.offset.x),Oa(i.y,a.offset.y)),i}const gM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yM=Wa.length;function vM(r,t,e){let i="",a=!0;for(let o=0;o<yM;o++){const c=Wa[o],u=r[c];if(u===void 0)continue;let d=!0;if(typeof u=="number")d=u===(c.startsWith("scale")?1:0);else{const f=parseFloat(u);d=c.startsWith("scale")?f===1:f===0}if(!d||e){const f=Xx(u,Rp[c]);if(!d){a=!1;const p=gM[c]||c;i+=`${p}(${f}) `}e&&(t[c]=f)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function Bp(r,t,e){const{style:i,vars:a,transformOrigin:o}=r;let c=!1,u=!1;for(const d in t){const f=t[d];if(Qa.has(d)){c=!0;continue}else if(yx(d)){a[d]=f;continue}else{const p=Xx(f,Rp[d]);d.startsWith("origin")?(u=!0,o[d]=p):i[d]=p}}if(t.transform||(c||e?i.transform=vM(t,r.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${d} ${f} ${p}`}}function a1(r,{style:t,vars:e},i,a){const o=r.style;let c;for(c in t)o[c]=t[c];a?.applyProjectionStyles(o,i);for(c in e)o.setProperty(c,e[c])}function Wv(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const Yr={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(ct.test(r))r=parseFloat(r);else return r;const e=Wv(r,t.target.x),i=Wv(r,t.target.y);return`${e}% ${i}%`}},bM={correct:(r,{treeScale:t,projectionDelta:e})=>{const i=r,a=ss.parse(r);if(a.length>5)return i;const o=ss.createTransformer(r),c=typeof a[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;a[0+c]/=u,a[1+c]/=d;const f=ne(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}},If={borderRadius:{...Yr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yr,borderTopRightRadius:Yr,borderBottomLeftRadius:Yr,borderBottomRightRadius:Yr,boxShadow:bM};function r1(r,{layout:t,layoutId:e}){return Qa.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!If[r]||r==="opacity")}function jp(r,t,e){const i=r.style,a=t?.style,o={};if(!i)return o;for(const c in i)(Ve(i[c])||a&&Ve(a[c])||r1(c,r)||e?.getValue(c)?.liveStyle!==void 0)&&(o[c]=i[c]);return o}function AM(r){return window.getComputedStyle(r)}class xM extends t1{constructor(){super(...arguments),this.type="html",this.renderInstance=a1}readValueFromInstance(t,e){if(Qa.has(e))return this.projection?.isProjecting?Cf(e):I_(t,e);{const i=AM(t),a=(yx(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return s1(t,e)}build(t,e,i){Bp(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return jp(t,e,i)}}const SM={offset:"stroke-dashoffset",array:"stroke-dasharray"},wM={offset:"strokeDashoffset",array:"strokeDasharray"};function EM(r,t,e=1,i=0,a=!0){r.pathLength=1;const o=a?SM:wM;r[o.offset]=`${-i}`,r[o.array]=`${t} ${e}`}const TM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function o1(r,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,f,p){if(Bp(r,u,f),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:m,style:v}=r;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete m.transformBox);for(const b of TM)m[b]!==void 0&&(v[b]=m[b],delete m[b]);t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),i!==void 0&&(m.scale=i),a!==void 0&&EM(m,a,o,c,!1)}const l1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),c1=r=>typeof r=="string"&&r.toLowerCase()==="svg";function CM(r,t,e,i){a1(r,t,void 0,i);for(const a in t.attrs)r.setAttribute(l1.has(a)?a:Dp(a),t.attrs[a])}function u1(r,t,e){const i=jp(r,t,e);for(const a in r)if(Ve(r[a])||Ve(t[a])){const o=Wa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=r[a]}return i}class _M extends t1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Qa.has(e)){const i=Hx(e);return i&&i.default||0}return e=l1.has(e)?e:Dp(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return u1(t,e,i)}build(t,e,i){o1(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){CM(t,e,i,a)}mount(t){this.isSVGTag=c1(t.tagName),super.mount(t)}}const MM=Pp.length;function h1(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?h1(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<MM;e++){const i=Pp[e],a=r.props[i];(mo(a)||a===!1)&&(t[i]=a)}return t}function d1(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let i=0;i<e;i++)if(t[i]!==r[i])return!1;return!0}const DM=[...kp].reverse(),RM=kp.length;function NM(r){return t=>Promise.all(t.map(({animation:e,options:i})=>M2(r,e,i)))}function LM(r){let t=NM(r),e=Qv(),i=!0;const a=d=>(f,p)=>{const m=Fa(r,p,d==="exit"?r.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:b,...x}=m;f={...f,...x,...b}}return f};function o(d){t=d(r)}function c(d){const{props:f}=r,p=h1(r.parent)||{},m=[],v=new Set;let b={},x=1/0;for(let E=0;E<RM;E++){const w=DM[E],C=e[w],T=f[w]!==void 0?f[w]:p[w],N=mo(T),R=w===d?C.isActive:null;R===!1&&(x=E);let O=T===p[w]&&T!==f[w]&&N;if(O&&i&&r.manuallyAnimateOnMount&&(O=!1),C.protectedKeys={...b},!C.isActive&&R===null||!T&&!C.prevProp||Fc(T)||typeof T=="boolean")continue;const P=OM(C.prevProp,T);let V=P||w===d&&C.isActive&&!O&&N||E>x&&N,K=!1;const nt=Array.isArray(T)?T:[T];let et=nt.reduce(a(w),{});R===!1&&(et={});const{prevResolvedValues:mt={}}=C,yt={...mt,...et},ht=H=>{V=!0,v.has(H)&&(K=!0,v.delete(H)),C.needsAnimating[H]=!0;const tt=r.getValue(H);tt&&(tt.liveStyle=!1)};for(const H in yt){const tt=et[H],$=mt[H];if(b.hasOwnProperty(H))continue;let X=!1;Lf(tt)&&Lf($)?X=!d1(tt,$):X=tt!==$,X?tt!=null?ht(H):v.add(H):tt!==void 0&&v.has(H)?ht(H):C.protectedKeys[H]=!0}C.prevProp=T,C.prevResolvedValues=et,C.isActive&&(b={...b,...et}),i&&r.blockInitialAnimation&&(V=!1);const Et=O&&P;V&&(!Et||K)&&m.push(...nt.map(H=>{const tt={type:w};if(typeof H=="string"&&i&&!Et&&r.manuallyAnimateOnMount&&r.parent){const{parent:$}=r,X=Fa($,H);if($.enteringChildren&&X){const{delayChildren:D}=X.transition||{};tt.delay=kx($.enteringChildren,r,D)}}return{animation:H,options:tt}}))}if(v.size){const E={};if(typeof f.initial!="boolean"){const w=Fa(r,Array.isArray(f.initial)?f.initial[0]:f.initial);w&&w.transition&&(E.transition=w.transition)}v.forEach(w=>{const C=r.getBaseTarget(w),T=r.getValue(w);T&&(T.liveStyle=!0),E[w]=C??null}),m.push({animation:E})}let A=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(A=!1),i=!1,A?t(m):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();r.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),e[d].isActive=f;const p=c(d);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>e,reset:()=>{e=Qv()}}}function OM(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!d1(t,r):!1}function _s(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qv(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}function Zv(r,t){r.min=t.min,r.max=t.max}function Fn(r,t){Zv(r.x,t.x),Zv(r.y,t.y)}function Jv(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}const f1=1e-4,kM=1-f1,PM=1+f1,p1=.01,BM=0-p1,jM=0+p1;function Xe(r){return r.max-r.min}function FM(r,t,e){return Math.abs(r-t)<=e}function tb(r,t,e,i=.5){r.origin=i,r.originPoint=ne(t.min,t.max,r.origin),r.scale=Xe(e)/Xe(t),r.translate=ne(e.min,e.max,r.origin)-r.originPoint,(r.scale>=kM&&r.scale<=PM||isNaN(r.scale))&&(r.scale=1),(r.translate>=BM&&r.translate<=jM||isNaN(r.translate))&&(r.translate=0)}function ro(r,t,e,i){tb(r.x,t.x,e.x,i?i.originX:void 0),tb(r.y,t.y,e.y,i?i.originY:void 0)}function eb(r,t,e){r.min=e.min+t.min,r.max=r.min+Xe(t)}function IM(r,t,e){eb(r.x,t.x,e.x),eb(r.y,t.y,e.y)}function nb(r,t,e){r.min=t.min-e.min,r.max=r.min+Xe(t)}function Rc(r,t,e){nb(r.x,t.x,e.x),nb(r.y,t.y,e.y)}function ib(r,t,e,i,a){return r-=t,r=Dc(r,1/e,i),a!==void 0&&(r=Dc(r,1/a,i)),r}function zM(r,t=0,e=1,i=.5,a,o=r,c=r){if(Jn.test(t)&&(t=parseFloat(t),t=ne(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=ne(o.min,o.max,i);r===o&&(u-=t),r.min=ib(r.min,t,e,u,a),r.max=ib(r.max,t,e,u,a)}function sb(r,t,[e,i,a],o,c){zM(r,t[e],t[i],t[a],t.scale,o,c)}const UM=["x","scaleX","originX"],VM=["y","scaleY","originY"];function ab(r,t,e,i){sb(r.x,t,UM,e?e.x:void 0,i?i.x:void 0),sb(r.y,t,VM,e?e.y:void 0,i?i.y:void 0)}function rb(r){return r.translate===0&&r.scale===1}function m1(r){return rb(r.x)&&rb(r.y)}function ob(r,t){return r.min===t.min&&r.max===t.max}function HM(r,t){return ob(r.x,t.x)&&ob(r.y,t.y)}function lb(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function g1(r,t){return lb(r.x,t.x)&&lb(r.y,t.y)}function cb(r){return Xe(r.x)/Xe(r.y)}function ub(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}function Kn(r){return[r("x"),r("y")]}function GM(r,t,e){let i="";const a=r.x.translate/t.x,o=r.y.translate/t.y,c=e?.z||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:v,skewX:b,skewY:x}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const u=r.x.scale*t.x,d=r.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const y1=["TopLeft","TopRight","BottomLeft","BottomRight"],qM=y1.length,hb=r=>typeof r=="string"?parseFloat(r):r,db=r=>typeof r=="number"||ct.test(r);function XM(r,t,e,i,a,o){a?(r.opacity=ne(0,e.opacity??1,YM(i)),r.opacityExit=ne(t.opacity??1,0,$M(i))):o&&(r.opacity=ne(t.opacity??1,e.opacity??1,i));for(let c=0;c<qM;c++){const u=`border${y1[c]}Radius`;let d=fb(t,u),f=fb(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||db(d)===db(f)?(r[u]=Math.max(ne(hb(d),hb(f),i),0),(Jn.test(f)||Jn.test(d))&&(r[u]+="%")):r[u]=f}(t.rotate||e.rotate)&&(r.rotate=ne(t.rotate||0,e.rotate||0,i))}function fb(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const YM=v1(0,.5,hx),$M=v1(.5,.95,Ln);function v1(r,t,e){return i=>i<r?0:i>t?1:e(ho(r,t,i))}function KM(r,t,e){const i=Ve(r)?r:qa(r);return i.start(_p("",i,t,e)),i.animation}function go(r,t,e,i={passive:!0}){return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e)}const WM=(r,t)=>r.depth-t.depth;class QM{constructor(){this.children=[],this.isDirty=!1}add(t){up(this.children,t),this.isDirty=!0}remove(t){hp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WM),this.isDirty=!1,this.children.forEach(t)}}function ZM(r,t){const e=qe.now(),i=({timestamp:a})=>{const o=a-e;o>=t&&(is(i),r(o-t))};return Kt.setup(i,!0),()=>is(i)}function bc(r){return Ve(r)?r.get():r}class JM{constructor(){this.members=[]}add(t){up(this.members,t),t.scheduleRender()}remove(t){if(hp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,o=t.options.layoutDependency;a!==void 0&&o!==void 0&&a===o||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:u}=t.options;u===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Od=["","X","Y","Z"],tD=1e3;let eD=0;function kd(r,t,e,i){const{latestValues:a}=t;a[r]&&(e[r]=a[r],t.setStaticValue(r,0),i&&(i[r]=0))}function b1(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=Ix(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:o}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",Kt,!(a||o))}const{parent:i}=r;i&&!i.hasCheckedOptimisedAppear&&b1(i)}function A1({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},u=t?.()){this.id=eD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sD),this.nodes.forEach(lD),this.nodes.forEach(cD),this.nodes.forEach(aD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new QM)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pp),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Op(c)&&!iM(c),this.instance=c;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),r){let p,m=0;const v=()=>this.root.updateBlockedByResize=!1;Kt.read(()=>{m=window.innerWidth}),r(c,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,p&&p(),p=ZM(v,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(gb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||pD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=f.getProps(),w=!this.targetLayout||!g1(this.targetLayout,b),C=!m&&v;if(this.options.layoutRoot||this.resumeFrom||C||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Cp(x,"layout"),onPlay:A,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,C)}else m||gb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uD),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oD),this.nodes.forEach(nD),this.nodes.forEach(iD)):this.nodes.forEach(mb),this.clearAllSnapshots();const u=qe.now();Fe.delta=ei(0,1e3/60,u-Fe.timestamp),Fe.timestamp=u,Fe.isProcessing=!0,Td.update.process(Fe),Td.preRender.process(Fe),Td.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rD),this.sharedNodes.forEach(hD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xe(this.snapshot.measuredBox.x)&&!Xe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!m1(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||Ms(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),mD(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ee();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(gD))){const{scroll:f}=this.root;f&&(Oa(u.x,f.offset.x),Oa(u.y,f.offset.y))}return u}removeElementScroll(c){const u=Ee();if(Fn(u,c),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Fn(u,c),Oa(u.x,p.offset.x),Oa(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const d=Ee();Fn(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ka(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ms(p.latestValues)&&ka(d,p.latestValues)}return Ms(this.latestValues)&&ka(d,this.latestValues),d}removeTransform(c){const u=Ee();Fn(u,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ms(f.latestValues))continue;jf(f.latestValues)&&f.updateSnapshot();const p=Ee(),m=f.measurePageBox();Fn(p,m),ab(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ms(this.latestValues)&&ab(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!this.layout||!(p||m))return;this.resolvedRelativeTargetAt=Fe.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),i1(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jf(this.parent.latestValues)||n1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Rc(this.relativeTargetOrigin,u,d),Fn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Fn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;pM(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ee());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jv(this.prevProjectionDelta.x,this.projectionDelta.x),Jv(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=La(),this.projectionDelta=La(),this.projectionDeltaWithTransform=La()}setAnimationOrigin(c,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=La();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Ee(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,A=b!==x,E=this.getStack(),w=!E||E.members.length<=1,C=!!(A&&!w&&this.options.crossfade===!0&&!this.path.some(fD));this.animationProgress=0;let T;this.mixTargetDelta=N=>{const R=N/1e3;yb(m.x,c.x,R),yb(m.y,c.y,R),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dD(this.relativeTarget,this.relativeTargetOrigin,v,R),T&&HM(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ee()),Fn(T,this.relativeTarget)),A&&(this.animationValues=p,XM(p,f,this.latestValues,R,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kt.update(()=>{Ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qa(0)),this.currentAnimation=KM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=c;if(!(!u||!d||!f)){if(this!==c&&this.layout&&f&&x1(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ee();const m=Xe(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+m;const v=Xe(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+v}Fn(u,d),ka(u,p),ro(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new JM),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&kd("z",c,f,this.animationValues);for(let p=0;p<Od.length;p++)kd(`rotate${Od[p]}`,c,f,this.animationValues),kd(`skew${Od[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=bc(u?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=bc(u?.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=GM(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),c.transform=m;const{x:v,y:b}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in If){if(p[x]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:w}=If[x],C=m==="none"?p[x]:A(p[x],f);if(E){const T=E.length;for(let N=0;N<T;N++)c[E[N]]=C}else w?this.options.visualElement.renderState.vars[x]=C:c[x]=C}this.options.layoutId&&(c.pointerEvents=f===this?bc(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(pb),this.root.sharedNodes.clear()}}}function nD(r){r.updateLayout()}function iD(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=r.layout,{animationType:a}=r.options,o=t.source!==r.layout.source;a==="size"?Kn(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=Xe(m);m.min=e[p].min,m.max=m.min+v}):x1(a,t.layoutBox,e)&&Kn(p=>{const m=o?t.measuredBox[p]:t.layoutBox[p],v=Xe(e[p]);m.max=m.min+v,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+v)});const c=La();ro(c,e,t.layoutBox);const u=La();o?ro(u,r.applyTransform(i,!0),t.measuredBox):ro(u,e,t.layoutBox);const d=!m1(c);let f=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const b=Ee();Rc(b,t.layoutBox,m.layoutBox);const x=Ee();Rc(x,e,v.layoutBox),g1(b,x)||(f=!0),p.options.layoutRoot&&(r.relativeTarget=x,r.relativeTargetOrigin=b,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(r.isLead()){const{onExitComplete:e}=r.options;e&&e()}r.options.transition=void 0}function sD(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function aD(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function rD(r){r.clearSnapshot()}function pb(r){r.clearMeasurements()}function mb(r){r.isLayoutDirty=!1}function oD(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function gb(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function lD(r){r.resolveTargetDelta()}function cD(r){r.calcProjection()}function uD(r){r.resetSkewAndRotation()}function hD(r){r.removeLeadSnapshot()}function yb(r,t,e){r.translate=ne(t.translate,0,e),r.scale=ne(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function vb(r,t,e,i){r.min=ne(t.min,e.min,i),r.max=ne(t.max,e.max,i)}function dD(r,t,e,i){vb(r.x,t.x,e.x,i),vb(r.y,t.y,e.y,i)}function fD(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const pD={duration:.45,ease:[.4,0,.1,1]},bb=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Ab=bb("applewebkit/")&&!bb("chrome/")?Math.round:Ln;function xb(r){r.min=Ab(r.min),r.max=Ab(r.max)}function mD(r){xb(r.x),xb(r.y)}function x1(r,t,e){return r==="position"||r==="preserve-aspect"&&!FM(cb(t),cb(e),.2)}function gD(r){return r!==r.root&&r.scroll?.wasRoot}const yD=A1({attachResizeListener:(r,t)=>go(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Pd={current:void 0},S1=A1({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Pd.current){const r=new yD({});r.mount(window),r.setOptions({layoutScroll:!0}),Pd.current=r}return Pd.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),w1=j.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function vD(r=!0){const t=j.useContext(cp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,o=j.useId();j.useEffect(()=>{if(r)return a(o)},[r]);const c=j.useCallback(()=>r&&i&&i(o),[o,i,r]);return!e&&i?[!1,c]:[!0]}const E1=j.createContext({strict:!1}),Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let wb=!1;function bD(){if(wb)return;const r={};for(const t in Sb)r[t]={isEnabled:e=>Sb[t].some(i=>!!e[i])};Jx(r),wb=!0}function T1(){return bD(),uM()}function AD(r){const t=T1();for(const e in r)t[e]={...t[e],...r[e]};Jx(t)}const xD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Nc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||xD.has(r)}let C1=r=>!Nc(r);function SD(r){typeof r=="function"&&(C1=t=>t.startsWith("on")?!Nc(t):r(t))}try{SD(require("@emotion/is-prop-valid").default)}catch{}function wD(r,t,e){const i={};for(const a in r)a==="values"&&typeof r.values=="object"||(C1(a)||e===!0&&Nc(a)||!t&&!Nc(a)||r.draggable&&a.startsWith("onDrag"))&&(i[a]=r[a]);return i}const zc=j.createContext({});function ED(r,t){if(Ic(r)){const{initial:e,animate:i}=r;return{initial:e===!1||mo(e)?e:void 0,animate:mo(i)?i:void 0}}return r.inherit!==!1?t:{}}function TD(r){const{initial:t,animate:e}=ED(r,j.useContext(zc));return j.useMemo(()=>({initial:t,animate:e}),[Eb(t),Eb(e)])}function Eb(r){return Array.isArray(r)?r.join(" "):r}const Fp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _1(r,t,e){for(const i in t)!Ve(t[i])&&!r1(i,e)&&(r[i]=t[i])}function CD({transformTemplate:r},t){return j.useMemo(()=>{const e=Fp();return Bp(e,t,r),Object.assign({},e.vars,e.style)},[t])}function _D(r,t){const e=r.style||{},i={};return _1(i,e,r),Object.assign(i,CD(r,t)),i}function MD(r,t){const e={},i=_D(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=i,e}const M1=()=>({...Fp(),attrs:{}});function DD(r,t,e,i){const a=j.useMemo(()=>{const o=M1();return o1(o,t,c1(i),r.transformTemplate,r.style),{...o.attrs,style:{...o.style}}},[t]);if(r.style){const o={};_1(o,r.style,r),a.style={...o,...a.style}}return a}const RD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ip(r){return typeof r!="string"||r.includes("-")?!1:!!(RD.indexOf(r)>-1||/[A-Z]/u.test(r))}function ND(r,t,e,{latestValues:i},a,o=!1,c){const d=(c??Ip(r)?DD:MD)(t,i,a,r),f=wD(t,typeof r=="string",o),p=r!==j.Fragment?{...f,...d,ref:e}:{},{children:m}=t,v=j.useMemo(()=>Ve(m)?m.get():m,[m]);return j.createElement(r,{...p,children:v})}function LD({scrapeMotionValuesFromProps:r,createRenderState:t},e,i,a){return{latestValues:OD(e,i,a,r),renderState:t()}}function OD(r,t,e,i){const a={},o=i(r,{});for(const v in o)a[v]=bc(o[v]);let{initial:c,animate:u}=r;const d=Ic(r),f=Zx(r);t&&f&&!d&&r.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||c===!1;const m=p?u:c;if(m&&typeof m!="boolean"&&!Fc(m)){const v=Array.isArray(m)?m:[m];for(let b=0;b<v.length;b++){const x=Mp(r,v[b]);if(x){const{transitionEnd:A,transition:E,...w}=x;for(const C in w){let T=w[C];if(Array.isArray(T)){const N=p?T.length-1:0;T=T[N]}T!==null&&(a[C]=T)}for(const C in A)a[C]=A[C]}}}return a}const D1=r=>(t,e)=>{const i=j.useContext(zc),a=j.useContext(cp),o=()=>LD(r,t,i,a);return e?o():PC(o)},kD=D1({scrapeMotionValuesFromProps:jp,createRenderState:Fp}),PD=D1({scrapeMotionValuesFromProps:u1,createRenderState:M1}),BD=Symbol.for("motionComponentSymbol");function jD(r,t,e){const i=j.useRef(e);j.useInsertionEffect(()=>{i.current=e});const a=j.useRef(null);return j.useCallback(o=>{o&&r.onMount?.(o),t&&(o?t.mount(o):t.unmount());const c=i.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):c(o);else c&&(c.current=o)},[t])}const R1=j.createContext({});function Ca(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function FD(r,t,e,i,a,o){const{visualElement:c}=j.useContext(zc),u=j.useContext(E1),d=j.useContext(cp),f=j.useContext(w1),p=f.reducedMotion,m=f.skipAnimations,v=j.useRef(null),b=j.useRef(!1);i=i||u.renderer,!v.current&&i&&(v.current=i(r,{visualState:t,parent:c,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,skipAnimations:m,isSVG:o}),b.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const x=v.current,A=j.useContext(R1);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&ID(v.current,e,a,A);const E=j.useRef(!1);j.useInsertionEffect(()=>{x&&E.current&&x.update(e,d)});const w=e[Fx],C=j.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return BC(()=>{b.current=!0,x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),C.current&&x.animationState&&x.animationState.animateChanges())}),j.useEffect(()=>{x&&(!C.current&&x.animationState&&x.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),x.enteringChildren=void 0)}),x}function ID(r,t,e,i){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:N1(r.parent)),r.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&Ca(u),visualElement:r,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:f})}function N1(r){if(r)return r.options.allowProjection!==!1?r.projection:N1(r.parent)}function Bd(r,{forwardMotionProps:t=!1,type:e}={},i,a){i&&AD(i);const o=e?e==="svg":Ip(r),c=o?PD:kD;function u(f,p){let m;const v={...j.useContext(w1),...f,layoutId:zD(f)},{isStatic:b}=v,x=TD(f),A=c(f,b);if(!b&&tx){UD();const E=VD(v);m=E.MeasureLayout,x.visualElement=FD(r,A,v,a,E.ProjectionNode,o)}return M.jsxs(zc.Provider,{value:x,children:[m&&x.visualElement?M.jsx(m,{visualElement:x.visualElement,...v}):null,ND(r,f,jD(A,x.visualElement,p),A,b,t,o)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const d=j.forwardRef(u);return d[BD]=r,d}function zD({layoutId:r}){const t=j.useContext(JA).id;return t&&r!==void 0?t+"-"+r:r}function UD(r,t){j.useContext(E1).strict}function VD(r){const t=T1(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(r)||i?.isEnabled(r)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function HD(r,t){if(typeof Proxy>"u")return Bd;const e=new Map,i=(o,c)=>Bd(o,c,r,t),a=(o,c)=>i(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?i:(e.has(c)||e.set(c,Bd(c,void 0,r,t)),e.get(c))})}const GD=(r,t)=>t.isSVG??Ip(r)?new _M(t):new xM(t,{allowProjection:r!==j.Fragment});class qD extends os{constructor(t){super(t),t.animationState||(t.animationState=LM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let XD=0;class YD extends os{constructor(){super(...arguments),this.id=XD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $D={animation:{Feature:qD},exit:{Feature:YD}};function Mo(r){return{point:{x:r.pageX,y:r.pageY}}}const KD=r=>t=>Lp(t)&&r(t,Mo(t));function oo(r,t,e,i){return go(r,t,KD(e),i)}const L1=({current:r})=>r?r.ownerDocument.defaultView:null,Tb=(r,t)=>Math.abs(r-t);function WD(r,t){const e=Tb(r.x,t.x),i=Tb(r.y,t.y);return Math.sqrt(e**2+i**2)}const Cb=new Set(["auto","scroll"]);class O1{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Fd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,A=WD(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!A)return;const{point:E}=b,{timestamp:w}=Fe;this.history.push({...E,timestamp:w});const{onStart:C,onMove:T}=this.handlers;x||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=jd(x,this.transformPagePoint),Kt.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:A,onSessionEnd:E,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Fd(b.type==="pointercancel"?this.lastMoveEventInfo:jd(x,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,C),E&&E(b,C)},!Lp(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Mo(t),f=jd(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=Fe;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=e;v&&v(t,Fd(f,this.history)),this.removeListeners=To(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(Cb.has(i.overflowX)||Cb.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:a.x-e.x,y:a.y-e.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,a),Kt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),is(this.updatePoint)}}function jd(r,t){return t?{point:t(r.point)}:r}function _b(r,t){return{x:r.x-t.x,y:r.y-t.y}}function Fd({point:r},t){return{point:r,delta:_b(r,k1(t)),offset:_b(r,QD(t)),velocity:ZD(t,.1)}}function QD(r){return r[0]}function k1(r){return r[r.length-1]}function ZD(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,i=null;const a=k1(r);for(;e>=0&&(i=r[e],!(a.timestamp-i.timestamp>Zn(t)));)e--;if(!i)return{x:0,y:0};i===r[0]&&r.length>2&&a.timestamp-i.timestamp>Zn(t)*2&&(i=r[1]);const o=Nn(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JD(r,{min:t,max:e},i){return t!==void 0&&r<t?r=i?ne(t,r,i.min):Math.max(r,t):e!==void 0&&r>e&&(r=i?ne(e,r,i.max):Math.min(r,e)),r}function Mb(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function tR(r,{top:t,left:e,bottom:i,right:a}){return{x:Mb(r.x,e,a),y:Mb(r.y,t,i)}}function Db(r,t){let e=t.min-r.min,i=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,i]=[i,e]),{min:e,max:i}}function eR(r,t){return{x:Db(r.x,t.x),y:Db(r.y,t.y)}}function nR(r,t){let e=.5;const i=Xe(r),a=Xe(t);return a>i?e=ho(t.min,t.max-i,r.min):i>a&&(e=ho(r.min,r.max-a,t.min)),ei(0,1,e)}function iR(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const zf=.35;function sR(r=zf){return r===!1?r=0:r===!0&&(r=zf),{x:Rb(r,"left","right"),y:Rb(r,"top","bottom")}}function Rb(r,t,e){return{min:Nb(r,t),max:Nb(r,e)}}function Nb(r,t){return typeof r=="number"?r:r[t]||0}const aR=new WeakMap;class rR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{e&&this.snapToCursor(Mo(m).point),this.stopAnimation()},c=(m,v)=>{const{drag:b,dragPropagation:x,onDragStart:A}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z2(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(w=>{let C=this.getAxisMotionValue(w).get()||0;if(Jn.test(C)){const{projection:T}=this.visualElement;if(T&&T.layout){const N=T.layout.layoutBox[w];N&&(C=Xe(N)*(parseFloat(C)/100))}}this.originPoint[w]=C}),A&&Kt.update(()=>A(m,v),!1,!0),Of(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:A,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=v;if(x&&this.currentDirection===null){this.currentDirection=lR(w),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,w),this.updateAxis("y",v.point,w),this.visualElement.render(),E&&Kt.update(()=>E(m,v),!1,!0)},d=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new O1(t,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:L1(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Kt.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!ec(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=JD(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ca(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=tR(i.layoutBox,t):this.constraints=!1,this.elastic=sR(e),a!==this.constraints&&!Ca(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Kn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=iR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ca(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=mM(i,a.root,this.visualElement.getTransformPagePoint());let c=eR(a.layout.layoutBox,o);if(e){const u=e(dM(c));this.hasMutatedConstraints=!!u,u&&(c=e1(u))}return c}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Kn(p=>{if(!ec(p,e,this.currentDirection))return;let m=d&&d[p]||{};c&&(m={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:i?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,x)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Of(this.visualElement,t),i.start(_p(t,i,0,e,this.visualElement,!1))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Kn(e=>{const{drag:i}=this.getProps();if(!ec(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[e],d=o.get()||0;o.set(t[e]-ne(c,u,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Ca(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Kn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=nR({min:d,max:d},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Kn(c=>{if(!ec(c,t,null))return;const u=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];u.set(ne(d,f,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;aR.set(this.visualElement,this);const t=this.visualElement.current,e=oo(t,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps(),v=f.target,b=v!==t&&X2(v);p&&m&&!b&&this.start(f)});let i;const a=()=>{const{dragConstraints:f}=this.getProps();Ca(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),i||(i=oR(t,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Kt.read(a);const u=go(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=f[m].translate,v.set(v.get()+f[m].translate))}),this.visualElement.render())}));return()=>{u(),e(),c(),d&&d(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=zf,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Lb(r){let t=!0;return()=>{if(t){t=!1;return}r()}}function oR(r,t,e){const i=Uv(r,Lb(e)),a=Uv(t,Lb(e));return()=>{i(),a()}}function ec(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function lR(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class cR extends os{constructor(t){super(t),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new rR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Id=r=>(t,e)=>{r&&Kt.update(()=>r(t,e),!1,!0)};class uR extends os{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(t){this.session=new O1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Id(t),onStart:Id(e),onMove:Id(i),onEnd:(o,c)=>{delete this.session,a&&Kt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let zd=!1;class hR extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;o&&(e.group&&e.group.add(o),i&&i.register&&a&&i.register(o),zd&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),zd=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||Kt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Np.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;zd=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function P1(r){const[t,e]=vD(),i=j.useContext(JA);return M.jsx(hR,{...r,layoutGroup:i,switchLayoutGroup:j.useContext(R1),isPresent:t,safeToRemove:e})}const dR={pan:{Feature:uR},drag:{Feature:cR,ProjectionNode:S1,MeasureLayout:P1}};function Ob(r,t,e){const{props:i}=r;r.animationState&&i.whileHover&&r.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,o=i[a];o&&Kt.postRender(()=>o(t,Mo(t)))}class fR extends os{mount(){const{current:t}=this.node;t&&(this.unmount=V2(t,(e,i)=>(Ob(this.node,i,"Start"),a=>Ob(this.node,a,"End"))))}unmount(){}}class pR extends os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=To(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kb(r,t,e){const{props:i}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&i.whileTap&&r.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),o=i[a];o&&Kt.postRender(()=>o(t,Mo(t)))}class mR extends os{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=$2(t,(a,o)=>(kb(this.node,o,"Start"),(c,{success:u})=>kb(this.node,c,u?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const Uf=new WeakMap,Ud=new WeakMap,gR=r=>{const t=Uf.get(r.target);t&&t(r)},yR=r=>{r.forEach(gR)};function vR({root:r,...t}){const e=r||document;Ud.has(e)||Ud.set(e,{});const i=Ud.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(yR,{root:r,...t})),i[a]}function bR(r,t,e){const i=vR(t);return Uf.set(r,e),i.observe(r),()=>{Uf.delete(r),i.unobserve(r)}}const AR={some:0,all:1};class xR extends os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:o}=t,c={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:AR[a]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),v=f?p:m;v&&v(d)};return bR(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(SR(t,e))&&this.startObserver()}unmount(){}}function SR({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const wR={inView:{Feature:xR},tap:{Feature:mR},focus:{Feature:pR},hover:{Feature:fR}},ER={layout:{ProjectionNode:S1,MeasureLayout:P1}},TR={...$D,...wR,...dR,...ER},Te=HD(TR,GD);const CR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_R=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Pb=r=>{const t=_R(r);return t.charAt(0).toUpperCase()+t.slice(1)},B1=(...r)=>r.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),MR=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var DR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RR=j.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...u},d)=>j.createElement("svg",{ref:d,...DR,width:t,height:t,stroke:r,strokeWidth:i?Number(e)*24/Number(t):e,className:B1("lucide",a),...!o&&!MR(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,p])=>j.createElement(f,p)),...Array.isArray(o)?o:[o]]));const ce=(r,t)=>{const e=j.forwardRef(({className:i,...a},o)=>j.createElement(RR,{ref:o,iconNode:t,className:B1(`lucide-${CR(Pb(r))}`,`lucide-${r}`,i),...a}));return e.displayName=Pb(r),e};const NR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],j1=ce("arrow-left",NR);const LR=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],OR=ce("baby",LR);const kR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],PR=ce("briefcase",kR);const BR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F1=ce("calendar",BR);const jR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FR=ce("check",jR);const IR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zR=ce("copy",IR);const UR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bb=ce("credit-card",UR);const VR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HR=ce("eye",VR);const GR=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],qR=ce("flame",GR);const XR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],YR=ce("heart-pulse",XR);const $R=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],KR=ce("heart",$R);const WR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],I1=ce("house",WR);const QR=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ZR=ce("lightbulb",QR);const JR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],z1=ce("loader-circle",JR);const tN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jb=ce("lock",tN);const eN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],U1=ce("moon",eN);const nN=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],iN=ce("plane",nN);const sN=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],aN=ce("rotate-cw",sN);const rN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ia=ce("sparkles",rN);const oN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vf=ce("sun",oN);const lN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cN=ce("upload",lN);const uN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hN=ce("x",uN);function dN(){return M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-900 to-purple-950 relative overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMwLTkuOTQtOC4wNi0xOC0xOC0xOFMwIDguMDYgMCAxOHM4LjA2IDE4IDE4IDE4IDE4LTguMDYgMTgtMTh6IiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMC4zIiBvcGFjaXR5PSIwLjA1Ii8+PC9nPjwvc3ZnPg==')] opacity-30"}),M.jsxs("div",{className:"container mx-auto px-4 py-12 relative z-10",children:[M.jsxs(Te.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[M.jsx("div",{className:"inline-block mb-6",children:M.jsx(Te.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:M.jsx(Ia,{className:"w-16 h-16 text-amber-400"})})}),M.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-400 via-purple-300 to-amber-400 mb-4",children:"Orculo Mstico"}),M.jsx("p",{className:"text-purple-200 text-lg max-w-2xl mx-auto",children:"Desvende os segredos do seu destino atravs das cartas sagradas do tar"})]}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-8",children:[M.jsx(Te.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.2},children:M.jsx(uo,{to:"/daily-card",children:M.jsx("div",{className:"group h-full bg-gradient-to-br from-amber-400/10 to-orange-500/10 backdrop-blur-sm border-2 border-amber-400/30 rounded-2xl p-8 hover:border-amber-400 transition-all duration-300 hover:shadow-2xl hover:shadow-amber-500/20 cursor-pointer",children:M.jsxs("div",{className:"flex flex-col items-center text-center h-full justify-between",children:[M.jsxs("div",{children:[M.jsx("div",{className:"inline-block p-4 bg-amber-400/20 rounded-full mb-4 group-hover:scale-110 transition-transform",children:M.jsx(Vf,{className:"w-12 h-12 text-amber-400"})}),M.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Carta do Dia"}),M.jsx("p",{className:"text-purple-200 mb-6",children:"Receba uma mensagem diria do universo para guiar seu caminho"})]}),M.jsxs("div",{className:"space-y-2 w-full",children:[M.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-500/20 px-4 py-2 rounded-full",children:[M.jsx(Ia,{className:"w-4 h-4 text-green-400"}),M.jsx("span",{className:"text-green-400 font-semibold",children:"GRTIS"})]}),M.jsx("p",{className:"text-sm text-purple-300",children:"Uma vez por dia"})]})]})})})}),M.jsx(Te.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3},children:M.jsx(uo,{to:"/three-cards-reading",children:M.jsx("div",{className:"group h-full bg-gradient-to-br from-purple-500/10 to-violet-600/10 backdrop-blur-sm border-2 border-purple-400/30 rounded-2xl p-8 hover:border-purple-400 transition-all duration-300 hover:shadow-2xl hover:shadow-purple-500/20 cursor-pointer",children:M.jsxs("div",{className:"flex flex-col items-center text-center h-full justify-between",children:[M.jsxs("div",{children:[M.jsx("div",{className:"inline-block p-4 bg-purple-400/20 rounded-full mb-4 group-hover:scale-110 transition-transform",children:M.jsx(U1,{className:"w-12 h-12 text-purple-400"})}),M.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Leitura de 3 Cartas"}),M.jsx("p",{className:"text-purple-200 mb-6",children:"Aprofunde-se em temas especficos com uma leitura completa e personalizada"})]}),M.jsxs("div",{className:"space-y-2 w-full",children:[M.jsxs("div",{className:"inline-flex items-center gap-2 bg-amber-500/20 px-4 py-2 rounded-full",children:[M.jsx(Ia,{className:"w-4 h-4 text-amber-400"}),M.jsx("span",{className:"text-amber-400 font-semibold",children:"Mnimo R$ 10,00"})]}),M.jsx("p",{className:"text-sm text-purple-300",children:"Pagamento via PIX (valor mnimo)"})]})]})})})})]}),M.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-16 text-center",children:M.jsx("p",{className:"text-purple-300 text-sm max-w-xl mx-auto",children:" Todas as leituras so interpretadas com sabedoria ancestral e conexo espiritual "})}),M.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-12",children:M.jsxs("div",{className:"relative bg-gradient-to-br from-amber-500/20 via-purple-900/60 to-violet-900/60 backdrop-blur-md border-2 border-amber-400/50 rounded-3xl p-10 max-w-3xl mx-auto shadow-2xl overflow-hidden",children:[M.jsx("div",{className:"absolute top-4 left-4 text-amber-400/30 text-2xl",children:""}),M.jsx("div",{className:"absolute top-4 right-4 text-amber-400/30 text-2xl",children:""}),M.jsx("div",{className:"absolute bottom-4 left-8 text-purple-400/30 text-xl",children:""}),M.jsx("div",{className:"absolute bottom-4 right-8 text-purple-400/30 text-xl",children:""}),M.jsx(Te.div,{className:"mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:M.jsx("span",{className:"text-6xl drop-shadow-lg",children:""})}),M.jsx("h3",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-300 via-amber-400 to-amber-300 bg-clip-text text-transparent mb-4",children:"Consultas Particulares"}),M.jsx("h4",{className:"text-xl text-purple-200 font-semibold mb-6",children:"por Vdeo Chamada"}),M.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 mb-6 border border-amber-400/30",children:[M.jsx("p",{className:"text-purple-100 text-lg leading-relaxed mb-3",children:"Deseja uma leitura mais profunda e personalizada?"}),M.jsx("p",{className:"text-amber-300 font-medium",children:"Conecte-se diretamente com nossos especialistas!"})]}),M.jsxs("a",{href:"https://wa.me/5512996764694?text=Gostaria%20de%20saber%20mais%20sobre%20a%20consulta%20particular%20por%20video%20chamada",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold px-10 py-5 rounded-full transition-all text-xl shadow-2xl hover:shadow-green-500/50 hover:scale-105 transform",children:[M.jsx("span",{className:"text-2xl",children:""}),M.jsxs("div",{className:"text-left",children:[M.jsx("div",{className:"text-sm opacity-90",children:"WhatsApp"}),M.jsx("div",{children:"12 99676-4694"})]})]}),M.jsxs("div",{className:"mt-6 pt-6 border-t border-amber-400/30",children:[M.jsx("p",{className:"text-amber-200 font-bold text-lg mb-2",children:" Com Tuma ou Orculo "}),M.jsx("p",{className:"text-purple-300 text-sm italic",children:"Especialistas em Tar e Leituras Msticas"})]})]})})]})]})}function fN(){const r=qA(),[t,e]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState(!1),[u,d]=j.useState(""),f=[{id:0,name:"O Louco",emoji:"",meaning:"Novos comeos, aventura, liberdade, espontaneidade"},{id:1,name:"O Mago",emoji:"",meaning:"Manifestao, poder, habilidade, concentrao"},{id:2,name:"A Sacerdotisa",emoji:"",meaning:"Intuio, mistrio, sabedoria interior, inconsciente"},{id:3,name:"A Imperatriz",emoji:"",meaning:"Abundncia, criatividade, fertilidade, beleza"},{id:4,name:"O Imperador",emoji:"",meaning:"Estrutura, autoridade, estabilidade, controle"},{id:5,name:"O Hierofante",emoji:"",meaning:"Tradio, espiritualidade, educao, crenas"},{id:6,name:"Os Enamorados",emoji:"",meaning:"Amor, unio, escolhas, harmonia"},{id:7,name:"O Carro",emoji:"",meaning:"Determinao, progresso, vitria, movimento"},{id:8,name:"A Fora",emoji:"",meaning:"Coragem, pacincia, fora interior, compaixo"},{id:9,name:"O Eremita",emoji:"",meaning:"Introspeco, sabedoria, solido, reflexo"}];j.useEffect(()=>{const b=new Date().toDateString(),x=localStorage.getItem("dailyCardDate"),A=localStorage.getItem("dailyCardId");if(x===b&&A!==null){c(!0),d(x);const E=f.find(w=>w.id===parseInt(A));E&&(a(E),e(!0))}},[]);const p=()=>{const b=new Date,x=b.getFullYear()*1e4+(b.getMonth()+1)*100+b.getDate(),A=Math.floor((x*9301+49297)%233280)%f.length;return f[A]},m=()=>{if(o)return;const b=new Date().toDateString(),x=p();a(x),e(!0),c(!0),d(b),localStorage.setItem("dailyCardDate",b),localStorage.setItem("dailyCardId",x.id.toString())},v=()=>{const b=new Date,x=new Date(b);x.setDate(x.getDate()+1),x.setHours(0,0,0,0);const A=x-b,E=Math.floor(A/(1e3*60*60)),w=Math.floor(A%(1e3*60*60)/(1e3*60));return`${E}h ${w}m`};return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-900 to-purple-950 py-8 px-4",children:M.jsxs("div",{className:"container mx-auto max-w-4xl",children:[M.jsxs("button",{onClick:()=>r("/"),className:"flex items-center text-purple-200 hover:text-white mb-8 p-2 rounded-lg hover:bg-white/10 transition-all",children:[M.jsx(j1,{className:"w-4 h-4 mr-2"}),"Voltar"]}),M.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[M.jsx("div",{className:"inline-block p-4 bg-amber-400/20 rounded-full mb-4",children:M.jsx(Vf,{className:"w-12 h-12 text-amber-400"})}),M.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Carta do Dia"}),M.jsx("p",{className:"text-purple-200 text-lg",children:"Descubra a mensagem do universo para voc hoje"})]}),o&&M.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-r from-purple-900/50 to-violet-900/50 backdrop-blur-sm border border-purple-400/30 rounded-2xl p-6 mb-8",children:[M.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[M.jsx(jb,{className:"w-6 h-6 text-amber-400"}),M.jsx("h3",{className:"text-xl font-bold text-amber-400",children:"Voc j consultou sua carta hoje"})]}),M.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-200 mb-4",children:[M.jsx(F1,{className:"w-4 h-4"}),M.jsxs("span",{children:["ltima consulta: ",u]})]}),M.jsxs("div",{className:"text-center",children:[M.jsx("p",{className:"text-purple-300 mb-2",children:" Nova carta disponvel em:"}),M.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/40 px-4 py-2 rounded-full",children:[M.jsx(Ia,{className:"w-4 h-4 text-amber-400"}),M.jsx("span",{className:"text-amber-300 font-bold",children:v()})]})]})]}),!t&&!o?M.jsx("div",{className:"flex justify-center mb-12",children:M.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600 text-purple-900 font-bold text-xl px-10 py-7 rounded-full shadow-xl shadow-amber-500/20 transition-all",children:" Revelar Minha Carta do Dia"})}):null,t&&i&&M.jsxs(Te.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"space-y-8",children:[M.jsx("div",{className:"flex justify-center",children:M.jsxs("div",{className:"relative",children:[M.jsxs("div",{className:"bg-gradient-to-br from-amber-400/20 to-purple-600/20 backdrop-blur-sm rounded-2xl p-8 border-2 border-amber-400/50 w-72 h-96 flex flex-col items-center justify-center shadow-2xl",children:[M.jsx("div",{className:"text-7xl mb-6",children:i.emoji}),M.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-2",children:i.name}),M.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[M.jsx(Vf,{className:"w-4 h-4"}),M.jsx("p",{className:"text-purple-200 text-sm",children:"Carta do Dia"})]})]}),M.jsx("div",{className:"absolute -top-3 -right-3 bg-amber-400 text-purple-900 px-3 py-1 rounded-full text-sm font-bold",children:" Hoje"})]})}),M.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-purple-400/30",children:[M.jsxs("h2",{className:"text-2xl font-bold text-amber-400 mb-6",children:[" Mensagem de ",i.name]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Significado Principal:"}),M.jsxs("p",{className:"text-purple-100",children:[i.meaning,". Esta carta traz uma energia especial para seu dia."]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:" Amor e Relacionamentos:"}),M.jsx("p",{className:"text-purple-100",children:"Esteja aberto(a) a conexes significativas. Oua seu corao em questes emocionais."})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:" Trabalho e Carreira:"}),M.jsx("p",{className:"text-purple-100",children:"Um bom dia para projetos criativos. Confie em sua intuio para decises profissionais."})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:" Conselho do Dia:"}),M.jsx("p",{className:"text-purple-100 italic",children:'"Confie no fluxo do universo. Pequenos sinais guiaro seu caminho hoje."'})]}),M.jsx("div",{className:"mt-8 pt-6 border-t border-purple-400/20",children:M.jsxs("div",{className:"flex items-center gap-2 text-amber-300",children:[M.jsx(jb,{className:"w-4 h-4"}),M.jsx("p",{className:"text-sm",children:" Esta  sua nica leitura gratuita do dia. Volte amanh para uma nova mensagem!"})]})})]})]})]}),M.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-16 text-center",children:M.jsxs("div",{className:"relative bg-gradient-to-br from-amber-500/20 via-purple-900/60 to-violet-900/60 backdrop-blur-md border-2 border-amber-400/50 rounded-3xl p-10 max-w-3xl mx-auto shadow-2xl overflow-hidden",children:[M.jsx("div",{className:"absolute top-4 left-4 text-amber-400/30 text-2xl",children:""}),M.jsx("div",{className:"absolute top-4 right-4 text-amber-400/30 text-2xl",children:""}),M.jsx(Te.div,{className:"mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:M.jsx("span",{className:"text-6xl drop-shadow-lg",children:""})}),M.jsx("h3",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-300 via-amber-400 to-amber-300 bg-clip-text text-transparent mb-4",children:"Consultas Particulares"}),M.jsx("h4",{className:"text-xl text-purple-200 font-semibold mb-6",children:"por Vdeo Chamada"}),M.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 mb-6 border border-amber-400/30",children:[M.jsx("p",{className:"text-purple-100 text-lg leading-relaxed mb-3",children:"Deseja uma leitura mais profunda e personalizada?"}),M.jsx("p",{className:"text-amber-300 font-medium",children:"Conecte-se diretamente com nossos especialistas!"})]}),M.jsxs("a",{href:"https://wa.me/5512996764694?text=Gostaria%20de%20saber%20mais%20sobre%20a%20consulta%20particular%20por%20video%20chamada",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold px-10 py-5 rounded-full transition-all text-xl shadow-2xl hover:shadow-green-500/50 hover:scale-105 transform",children:[M.jsx("span",{className:"text-2xl",children:""}),M.jsxs("div",{className:"text-left",children:[M.jsx("div",{className:"text-sm opacity-90",children:"WhatsApp"}),M.jsx("div",{children:"12 99676-4694"})]})]}),M.jsxs("div",{className:"mt-6 pt-6 border-t border-amber-400/30",children:[M.jsx("p",{className:"text-amber-200 font-bold text-lg mb-2",children:" Com Tuma ou Orculo "}),M.jsx("p",{className:"text-purple-300 text-sm italic",children:"Especialistas em Tar e Leituras Msticas"})]})]})})]})})}function pN({children:r,variant:t="default",size:e="default",className:i="",disabled:a=!1,loading:o=!1,onClick:c,type:u="button",...d}){const f="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",p={default:"bg-amber-400 text-purple-900 hover:bg-amber-500 focus:ring-amber-400 shadow-lg hover:shadow-xl",ghost:"bg-transparent text-purple-200 hover:bg-white/10 hover:text-white",outline:"bg-transparent border border-purple-400/30 text-purple-200 hover:border-purple-400 hover:text-white hover:bg-white/10",secondary:"bg-purple-600 text-white hover:bg-purple-700 focus:ring-purple-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},m={default:"px-6 py-3 text-base",sm:"px-4 py-2 text-sm",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl",icon:"p-3"},v=p[t]||p.default,b=m[e]||m.default;return M.jsx("button",{type:u,className:`${f} ${v} ${b} ${i}`,disabled:a||o,onClick:c,...d,children:o?M.jsxs(M.Fragment,{children:[M.jsx(z1,{className:"w-4 h-4 mr-2 animate-spin"}),"Processando..."]}):r})}var Vd={exports:{}},Fb;function mN(){return Fb||(Fb=1,(function(r){var t=(function(e){var i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function($,X,D){$[X]=D.value},c,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function m($,X,D){return Object.defineProperty($,X,{value:D,enumerable:!0,configurable:!0,writable:!0}),$[X]}try{m({},"")}catch{m=function(X,D,F){return X[D]=F}}function v($,X,D,F){var G=X&&X.prototype instanceof T?X:T,J=Object.create(G.prototype),st=new B(F||[]);return o(J,"_invoke",{value:mt($,D,st)}),J}e.wrap=v;function b($,X,D){try{return{type:"normal",arg:$.call(X,D)}}catch(F){return{type:"throw",arg:F}}}var x="suspendedStart",A="suspendedYield",E="executing",w="completed",C={};function T(){}function N(){}function R(){}var O={};m(O,d,function(){return this});var P=Object.getPrototypeOf,V=P&&P(P(H([])));V&&V!==i&&a.call(V,d)&&(O=V);var K=R.prototype=T.prototype=Object.create(O);N.prototype=R,o(K,"constructor",{value:R,configurable:!0}),o(R,"constructor",{value:N,configurable:!0}),N.displayName=m(R,p,"GeneratorFunction");function nt($){["next","throw","return"].forEach(function(X){m($,X,function(D){return this._invoke(X,D)})})}e.isGeneratorFunction=function($){var X=typeof $=="function"&&$.constructor;return X?X===N||(X.displayName||X.name)==="GeneratorFunction":!1},e.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,R):($.__proto__=R,m($,p,"GeneratorFunction")),$.prototype=Object.create(K),$},e.awrap=function($){return{__await:$}};function et($,X){function D(J,st,ut,rt){var Ct=b($[J],$,st);if(Ct.type==="throw")rt(Ct.arg);else{var at=Ct.arg,vt=at.value;return vt&&typeof vt=="object"&&a.call(vt,"__await")?X.resolve(vt.__await).then(function(Ot){D("next",Ot,ut,rt)},function(Ot){D("throw",Ot,ut,rt)}):X.resolve(vt).then(function(Ot){at.value=Ot,ut(at)},function(Ot){return D("throw",Ot,ut,rt)})}}var F;function G(J,st){function ut(){return new X(function(rt,Ct){D(J,st,rt,Ct)})}return F=F?F.then(ut,ut):ut()}o(this,"_invoke",{value:G})}nt(et.prototype),m(et.prototype,f,function(){return this}),e.AsyncIterator=et,e.async=function($,X,D,F,G){G===void 0&&(G=Promise);var J=new et(v($,X,D,F),G);return e.isGeneratorFunction(X)?J:J.next().then(function(st){return st.done?st.value:J.next()})};function mt($,X,D){var F=x;return function(J,st){if(F===E)throw new Error("Generator is already running");if(F===w){if(J==="throw")throw st;return tt()}for(D.method=J,D.arg=st;;){var ut=D.delegate;if(ut){var rt=yt(ut,D);if(rt){if(rt===C)continue;return rt}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(F===x)throw F=w,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);F=E;var Ct=b($,X,D);if(Ct.type==="normal"){if(F=D.done?w:A,Ct.arg===C)continue;return{value:Ct.arg,done:D.done}}else Ct.type==="throw"&&(F=w,D.method="throw",D.arg=Ct.arg)}}}function yt($,X){var D=X.method,F=$.iterator[D];if(F===c)return X.delegate=null,D==="throw"&&$.iterator.return&&(X.method="return",X.arg=c,yt($,X),X.method==="throw")||D!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+D+"' method")),C;var G=b(F,$.iterator,X.arg);if(G.type==="throw")return X.method="throw",X.arg=G.arg,X.delegate=null,C;var J=G.arg;if(!J)return X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,C;if(J.done)X[$.resultName]=J.value,X.next=$.nextLoc,X.method!=="return"&&(X.method="next",X.arg=c);else return J;return X.delegate=null,C}nt(K),m(K,p,"Generator"),m(K,d,function(){return this}),m(K,"toString",function(){return"[object Generator]"});function ht($){var X={tryLoc:$[0]};1 in $&&(X.catchLoc=$[1]),2 in $&&(X.finallyLoc=$[2],X.afterLoc=$[3]),this.tryEntries.push(X)}function Et($){var X=$.completion||{};X.type="normal",delete X.arg,$.completion=X}function B($){this.tryEntries=[{tryLoc:"root"}],$.forEach(ht,this),this.reset(!0)}e.keys=function($){var X=Object($),D=[];for(var F in X)D.push(F);return D.reverse(),function G(){for(;D.length;){var J=D.pop();if(J in X)return G.value=J,G.done=!1,G}return G.done=!0,G}};function H($){if($){var X=$[d];if(X)return X.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var D=-1,F=function G(){for(;++D<$.length;)if(a.call($,D))return G.value=$[D],G.done=!1,G;return G.value=c,G.done=!0,G};return F.next=F}}return{next:tt}}e.values=H;function tt(){return{value:c,done:!0}}return B.prototype={constructor:B,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(Et),!$)for(var X in this)X.charAt(0)==="t"&&a.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=c)},stop:function(){this.done=!0;var $=this.tryEntries[0],X=$.completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var X=this;function D(rt,Ct){return J.type="throw",J.arg=$,X.next=rt,Ct&&(X.method="next",X.arg=c),!!Ct}for(var F=this.tryEntries.length-1;F>=0;--F){var G=this.tryEntries[F],J=G.completion;if(G.tryLoc==="root")return D("end");if(G.tryLoc<=this.prev){var st=a.call(G,"catchLoc"),ut=a.call(G,"finallyLoc");if(st&&ut){if(this.prev<G.catchLoc)return D(G.catchLoc,!0);if(this.prev<G.finallyLoc)return D(G.finallyLoc)}else if(st){if(this.prev<G.catchLoc)return D(G.catchLoc,!0)}else if(ut){if(this.prev<G.finallyLoc)return D(G.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,X){for(var D=this.tryEntries.length-1;D>=0;--D){var F=this.tryEntries[D];if(F.tryLoc<=this.prev&&a.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var G=F;break}}G&&($==="break"||$==="continue")&&G.tryLoc<=X&&X<=G.finallyLoc&&(G=null);var J=G?G.completion:{};return J.type=$,J.arg=X,G?(this.method="next",this.next=G.finallyLoc,C):this.complete(J)},complete:function($,X){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&X&&(this.next=X),C},finish:function($){for(var X=this.tryEntries.length-1;X>=0;--X){var D=this.tryEntries[X];if(D.finallyLoc===$)return this.complete(D.completion,D.afterLoc),Et(D),C}},catch:function($){for(var X=this.tryEntries.length-1;X>=0;--X){var D=this.tryEntries[X];if(D.tryLoc===$){var F=D.completion;if(F.type==="throw"){var G=F.arg;Et(D)}return G}}throw new Error("illegal catch attempt")},delegateYield:function($,X,D){return this.delegate={iterator:H($),resultName:X,nextLoc:D},this.method==="next"&&(this.arg=c),C}},e})(r.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Vd)),Vd.exports}var Hd,Ib;function zp(){return Ib||(Ib=1,Hd=(r,t)=>`${r}-${t}-${Math.random().toString(16).slice(3,8)}`),Hd}var Gd,zb;function V1(){if(zb)return Gd;zb=1;const r=zp();let t=0;return Gd=({id:e,action:i,payload:a={}})=>{let o=e;return typeof o>"u"&&(o=r("Job",t),t+=1),{id:o,action:i,payload:a}},Gd}var $r={},Ub;function Up(){if(Ub)return $r;Ub=1;let r=!1;return $r.logging=r,$r.setLogging=t=>{r=t},$r.log=(...t)=>r?console.log.apply(this,t):null,$r}var qd,Vb;function gN(){if(Vb)return qd;Vb=1;const r=V1(),{log:t}=Up(),e=zp();let i=0;return qd=()=>{const a=e("Scheduler",i),o={},c={};let u=[];i+=1;const d=()=>u.length,f=()=>Object.keys(o).length,p=()=>{if(u.length!==0){const A=Object.keys(o);for(let E=0;E<A.length;E+=1)if(typeof c[A[E]]>"u"){u[0](o[A[E]]);break}}},m=(A,E)=>new Promise((w,C)=>{const T=r({action:A,payload:E});u.push(async N=>{u.shift(),c[N.id]=T;try{w(await N[A].apply(this,[...E,T.id]))}catch(R){C(R)}finally{delete c[N.id],p()}}),t(`[${a}]: Add ${T.id} to JobQueue`),t(`[${a}]: JobQueue length=${u.length}`),p()});return{addWorker:A=>(o[A.id]=A,t(`[${a}]: Add ${A.id}`),t(`[${a}]: Number of workers=${f()}`),p(),A.id),addJob:async(A,...E)=>{if(f()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return m(A,E)},terminate:async()=>{Object.keys(o).forEach(async A=>{await o[A].terminate()}),u=[]},getQueueLen:d,getNumWorkers:f}},qd}function yN(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xd,Hb;function vN(){return Hb||(Hb=1,Xd=r=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof yN=="function"&&(t.type="node"),typeof r>"u"?t:t[r]}),Xd}var Yd,Gb;function bN(){if(Gb)return Yd;Gb=1;const t=vN()("type")==="browser"?e=>new URL(e,window.location.href).href:e=>e;return Yd=e=>{const i={...e};return["corePath","workerPath","langPath"].forEach(a=>{e[a]&&(i[a]=t(i[a]))}),i},Yd}var $d,qb;function H1(){return qb||(qb=1,$d={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),$d}const AN="6.0.1",xN={version:AN};var Kd,Xb;function SN(){return Xb||(Xb=1,Kd={workerBlobURL:!0,logger:()=>{}}),Kd}var Wd,Yb;function wN(){if(Yb)return Wd;Yb=1;const r=xN.version;return Wd={...SN(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`},Wd}var Qd,$b;function EN(){return $b||($b=1,Qd=({workerPath:r,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){const i=new Blob([`importScripts("${r}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(i))}else e=new Worker(r);return e}),Qd}var Zd,Kb;function TN(){return Kb||(Kb=1,Zd=r=>{r.terminate()}),Zd}var Jd,Wb;function CN(){return Wb||(Wb=1,Jd=(r,t)=>{r.onmessage=({data:e})=>{t(e)}}),Jd}var tf,Qb;function _N(){return Qb||(Qb=1,tf=async(r,t)=>{r.postMessage(t)}),tf}var ef,Zb;function MN(){if(Zb)return ef;Zb=1;const r=e=>new Promise((i,a)=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.onerror=({target:{error:{code:c}}})=>{a(Error(`File could not be read! Code=${c}`))},o.readAsArrayBuffer(e)}),t=async e=>{let i=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?i=atob(e.split(",")[1]).split("").map(a=>a.charCodeAt(0)):i=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(i=await t(e.src)),e.tagName==="VIDEO"&&(i=await t(e.poster)),e.tagName==="CANVAS"&&await new Promise(a=>{e.toBlob(async o=>{i=await r(o),a()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const a=await e.convertToBlob();i=await r(a)}else(e instanceof File||e instanceof Blob)&&(i=await r(e));return new Uint8Array(i)};return ef=t,ef}var nf,Jb;function DN(){if(Jb)return nf;Jb=1;const r=wN(),t=EN(),e=TN(),i=CN(),a=_N(),o=MN();return nf={defaultOptions:r,spawnWorker:t,terminateWorker:e,onMessage:i,send:a,loadImage:o},nf}var sf,tA;function G1(){if(tA)return sf;tA=1;const r=bN(),t=V1(),{log:e}=Up(),i=zp(),a=H1(),{defaultOptions:o,spawnWorker:c,terminateWorker:u,onMessage:d,loadImage:f,send:p}=DN();let m=0;return sf=async(v="eng",b=a.LSTM_ONLY,x={},A={})=>{const E=i("Worker",m),{logger:w,errorHandler:C,...T}=r({...o,...x}),N={},R=typeof v=="string"?v.split("+"):v;let O=b,P=A;const V=[a.DEFAULT,a.LSTM_ONLY].includes(b)&&!T.legacyCore;let K,nt;const et=new Promise((at,vt)=>{nt=at,K=vt}),mt=at=>{K(at.message)};let yt=c(T);yt.onerror=mt,m+=1;const ht=({id:at,action:vt,payload:Ot})=>new Promise((fe,_e)=>{e(`[${E}]: Start ${at}, action=${vt}`);const pe=`${vt}-${at}`;N[pe]={resolve:fe,reject:_e},p(yt,{workerId:E,jobId:at,action:vt,payload:Ot})}),Et=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),B=at=>ht(t({id:at,action:"load",payload:{options:{lstmOnly:V,corePath:T.corePath,logging:T.logging}}})),H=(at,vt,Ot)=>ht(t({id:Ot,action:"FS",payload:{method:"writeFile",args:[at,vt]}})),tt=(at,vt)=>ht(t({id:vt,action:"FS",payload:{method:"readFile",args:[at,{encoding:"utf8"}]}})),$=(at,vt)=>ht(t({id:vt,action:"FS",payload:{method:"unlink",args:[at]}})),X=(at,vt,Ot)=>ht(t({id:Ot,action:"FS",payload:{method:at,args:vt}})),D=(at,vt)=>ht(t({id:vt,action:"loadLanguage",payload:{langs:at,options:{langPath:T.langPath,dataPath:T.dataPath,cachePath:T.cachePath,cacheMethod:T.cacheMethod,gzip:T.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(O)&&!T.legacyLang}}})),F=(at,vt,Ot,fe)=>ht(t({id:fe,action:"initialize",payload:{langs:at,oem:vt,config:Ot}})),G=(at="eng",vt,Ot,fe)=>{if(V&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(vt))throw Error("Legacy model requested but code missing.");const _e=vt||O;O=_e;const pe=Ot||P;P=pe;const ls=(typeof at=="string"?at.split("+"):at).filter(Jc=>!R.includes(Jc));return R.push(...ls),ls.length>0?D(ls,fe).then(()=>F(at,_e,pe,fe)):F(at,_e,pe,fe)},J=(at={},vt)=>ht(t({id:vt,action:"setParameters",payload:{params:at}})),st=async(at,vt={},Ot={text:!0},fe)=>ht(t({id:fe,action:"recognize",payload:{image:await f(at),options:vt,output:Ot}})),ut=async(at,vt)=>{if(V)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ht(t({id:vt,action:"detect",payload:{image:await f(at)}}))},rt=async()=>(yt!==null&&(u(yt),yt=null),Promise.resolve());d(yt,({workerId:at,jobId:vt,status:Ot,action:fe,data:_e})=>{const pe=`${fe}-${vt}`;if(Ot==="resolve")e(`[${at}]: Complete ${vt}`),N[pe].resolve({jobId:vt,data:_e}),delete N[pe];else if(Ot==="reject")if(N[pe].reject(_e),delete N[pe],fe==="load"&&K(_e),C)C(_e);else throw Error(_e);else Ot==="progress"&&w({..._e,userJobId:vt})});const Ct={id:E,worker:yt,load:Et,writeText:H,readText:tt,removeFile:$,FS:X,reinitialize:G,setParameters:J,recognize:st,detect:ut,terminate:rt};return B().then(()=>D(v)).then(()=>F(v,b,A)).then(()=>nt(Ct)).catch(()=>{}),et},sf}var af,eA;function RN(){if(eA)return af;eA=1;const r=G1();return af={recognize:async(i,a,o)=>{const c=await r(a,1,o);return c.recognize(i).finally(async()=>{await c.terminate()})},detect:async(i,a)=>{const o=await r("osd",0,a);return o.detect(i).finally(async()=>{await o.terminate()})}},af}var rf,nA;function NN(){return nA||(nA=1,rf={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),rf}var of,iA;function LN(){return iA||(iA=1,of={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),of}var lf,sA;function ON(){if(sA)return lf;sA=1,mN();const r=gN(),t=G1(),e=RN(),i=NN(),a=H1(),o=LN(),{setLogging:c}=Up();return lf={languages:i,OEM:a,PSM:o,createScheduler:r,createWorker:t,setLogging:c,...e},lf}var kN=ON();const Ge=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Hf=[.001,0,0,.001,0,0],cf=1.35,mn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ts={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},yo="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gf={TRIANGLES:1,LATTICE:2},we={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},xc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_a={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Uc={ERRORS:0,WARNINGS:1,INFOS:5},vo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Kr={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},BN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Vc=Uc.WARNINGS;function jN(r){Number.isInteger(r)&&(Vc=r)}function FN(){return Vc}function Hc(r){Vc>=Uc.INFOS&&console.info(`Info: ${r}`)}function bt(r){Vc>=Uc.WARNINGS&&console.warn(`Warning: ${r}`)}function Ut(r){throw new Error(r)}function zt(r,t){r||Ut(t)}function IN(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function q1(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=qN(r)}catch{}const i=t?URL.parse(r,t):URL.parse(r);return IN(i)?i:null}function X1(r,t,e=!1){const i=URL.parse(r);return i?(i.hash=t,i.href):e&&q1(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function At(r,t,e,i=!1){return Object.defineProperty(r,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Is=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class aA extends Is{constructor(t,e){super(t,"PasswordException"),this.code=e}}class uf extends Is{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class qf extends Is{constructor(t){super(t,"InvalidPDFException")}}class Lc extends Is{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class zN extends Is{constructor(t){super(t,"FormatError")}}class as extends Is{constructor(t){super(t,"AbortException")}}function UN(r){(typeof r!="object"||r?.length===void 0)&&Ut("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const i=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),c=r.subarray(a,o);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function Gc(r){typeof r!="string"&&Ut("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=r.charCodeAt(i)&255;return e}function VN(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function HN(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function GN(){try{return new Function(""),!0}catch{return!1}}class Ce{static get isLittleEndian(){return At(this,"isLittleEndian",HN())}static get isEvalSupported(){return At(this,"isEvalSupported",GN())}static get isOffscreenCanvasSupported(){return At(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return At(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return At(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return At(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return At(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return At(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hf=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class it{static makeHexColor(t,e,i){return`#${hf[t]}${hf[e]}${hf[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const a=t[i],o=t[i+1];t[i]=a*e[0]+o*e[2]+e[4],t[i+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],o=e[1],c=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[i+p],v=t[i+p+1];t[i+p]=m*a+v*c+d,t[i+p+1]=m*o+v*u+f}}static applyInverseTransform(t,e){const i=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,i){const a=e[0],o=e[1],c=e[2],u=e[3],d=e[4],f=e[5],p=t[0],m=t[1],v=t[2],b=t[3];let x=a*p+d,A=x,E=a*v+d,w=E,C=u*m+f,T=C,N=u*b+f,R=N;if(o!==0||c!==0){const O=o*p,P=o*v,V=c*m,K=c*b;x+=V,w+=V,E+=K,A+=K,C+=O,R+=O,N+=P,T+=P}i[0]=Math.min(i[0],x,E,A,w),i[1]=Math.min(i[1],C,N,T,R),i[2]=Math.max(i[2],x,E,A,w),i[3]=Math.max(i[3],C,N,T,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],o=t[2],c=t[3],u=i**2+a**2,d=i*o+a*c,f=o**2+c**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[i,o,a,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,o){o[0]=Math.min(o[0],t,i),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,i),o[3]=Math.max(o[3],e,a)}static#t(t,e,i,a,o,c,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,v=f*f,b=v*f,x=m*(m*(m*t+3*f*e)+3*v*i)+b*a,A=m*(m*(m*o+3*f*c)+3*v*u)+b*d;p[0]=Math.min(p[0],x),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],x),p[3]=Math.max(p[3],A)}static#e(t,e,i,a,o,c,u,d,f,p,m,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,a,o,c,u,d,-m/p,v);return}const b=p**2-4*m*f;if(b<0)return;const x=Math.sqrt(b),A=2*f;this.#t(t,e,i,a,o,c,u,d,(-p+x)/A,v),this.#t(t,e,i,a,o,c,u,d,(-p-x)/A,v)}static bezierBoundingBox(t,e,i,a,o,c,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,o,u,e,a,c,d,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),f),this.#e(t,i,o,u,e,a,c,d,3*(-e+3*(a-c)+d),6*(e-2*a+c),3*(a-e),f)}}function qN(r){return decodeURIComponent(escape(r))}let df=null,rA=null;function XN(r){return df||(df=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rA=new Map([["","t"]])),r.replaceAll(df,(t,e,i)=>e?e.normalize("NFKC"):rA.get(i))}function Y1(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),UN(r)}const Pa="pdfjs_internal_id_";function YN(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...o]=e;if(!r(i)&&!Number.isInteger(i)||!t(a))return!1;const c=o.length;let u=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Ie(r,t,e){return Math.min(Math.max(r,t),e)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class bo{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(o){if(!o)return;let c=null;const u=o.name;if(u==="#text")c=o.value;else if(bo.shouldBuildText(u))o?.attributes?.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const d of o.children)a(d)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class $1{static setupStorage(t,e,i,a,o){const c=a.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:o}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,o=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:o,linkService:i});const u=o!=="richText",d=t.div;if(d.append(c),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const m=document.createTextNode(a.value);c.append(m),u&&bo.shouldBuildText(a.name)&&f.push(m)}return{textDivs:f}}const p=[[a,-1,c]];for(;p.length>0;){const[m,v,b]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const x=m.children[++p.at(-1)[1]];if(x===null)continue;const{name:A}=x;if(A==="#text"){const w=document.createTextNode(x.value);f.push(w),b.append(w);continue}const E=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,A):document.createElement(A);if(b.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:e,intent:o,linkService:i}),x.children?.length>0)p.push([x,-1,E]);else if(x.value){const w=document.createTextNode(x.value);u&&bo.shouldBuildText(A)&&f.push(w),E.append(w)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const xi="http://www.w3.org/2000/svg";class Xa{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Do(r,t="text"){if(eo(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class Ro{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:o=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=o,this.offsetY=c,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let x,A,E,w;p===0?(x=Math.abs(f-t[1])*i+o,A=Math.abs(d-t[0])*i+c,E=(t[3]-t[1])*i,w=(t[2]-t[0])*i):(x=Math.abs(d-t[0])*i+o,A=Math.abs(f-t[1])*i+c,E=(t[2]-t[0])*i,w=(t[3]-t[1])*i),this.transform=[p*i,m*i,v*i,b*i,x-p*i*d-v*i*f,A-m*i*d-b*i*f],this.width=E,this.height=w}get rawDims(){const t=this.viewBox;return At(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new Ro({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const i=[t,e];return it.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];it.applyTransform(e,this.transform);const i=[t[2],t[3]];return it.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return it.applyInverseTransform(i,this.transform),i}}class Vp extends Is{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function qc(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function Hp(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function $N(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function KN(r,t="document.pdf"){if(typeof r!="string")return t;if(qc(r))return bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(r);if(!i)return t;const a=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,c=i.pathname.split("/").at(-1);if(o.test(c))return a(c);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(o.test(f))return a(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return a(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return a(d[0])}return t}class oA{started=Object.create(null);times=[];time(t){t in this.started&&bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-a}ms
`);return t.join("")}}function eo(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function On(r){r.preventDefault()}function le(r){r.preventDefault(),r.stopPropagation()}function WN(r){console.log("Deprecated API usage: "+r)}class Xf{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(c+=p,u+=m):f==="+"&&(c-=p,u-=m),new Date(Date.UTC(i,a,o,c,u,d))}}function QN(r,{scale:t=1,rotation:e=0}){const{width:i,height:a}=r.attributes.style,o=[0,0,parseInt(i),parseInt(a)];return new Ro({viewBox:o,userUnit:1,scale:t,rotation:e})}function No(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(bt(`Not a valid color format: "${r}"`),[0,0,0])}function ZN(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;r.set(e,No(i))}t.remove()}function ee(r){const{a:t,b:e,c:i,d:a,e:o,f:c}=r.getTransform();return[t,e,i,a,o,c]}function Yn(r){const{a:t,b:e,c:i,d:a,e:o,f:c}=r.getTransform().invertSelf();return[t,e,i,a,o,c]}function Bs(r,t,e=!1,i=!0){if(t instanceof Ro){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:c}=r,u=Ce.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=m):(c.width=m,c.height=p)}i&&r.setAttribute("data-main-rotation",t.rotation)}class ni{constructor(){const{pixelRatio:t}=ni;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,o=-1){let c=1/0,u=1/0,d=1/0;i=ni.capPixels(i,o),i>0&&(c=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,d=a/e);const f=Math.min(c,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Yf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class JN{static get isDarkMode(){return At(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class tL{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),At(this,"commentForegroundColor",No(i))}}function eL(r,t,e,i){i=Math.min(Math.max(i??1,0),1);const a=255*(1-i);return r=Math.round(r*i+a),t=Math.round(t*i+a),e=Math.round(e*i+a),[r,t,e]}function lA(r,t){const e=r[0]/255,i=r[1]/255,a=r[2]/255,o=Math.max(e,i,a),c=Math.min(e,i,a),u=(o+c)/2;if(o===c)t[0]=t[1]=0;else{const d=o-c;switch(t[1]=u<.5?d/(o+c):d/(2-o-c),o){case e:t[0]=((i-a)/d+(i<a?6:0))*60;break;case i:t[0]=((a-e)/d+2)*60;break;case a:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function $f(r,t){const e=r[0],i=r[1],a=r[2],o=(1-Math.abs(2*a-1))*i,c=o*(1-Math.abs(e/60%2-1)),u=a-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=c+u,t[2]=u;break;case 1:t[0]=c+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=c+u;break;case 3:t[0]=u,t[1]=c+u,t[2]=o+u;break;case 4:t[0]=c+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=c+u;break}}function cA(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function uA(r,t,e){$f(r,e),e.map(cA);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];$f(t,e),e.map(cA);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>a?(i+.05)/(a+.05):(a+.05)/(i+.05)}const hA=new Map;function nL(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=hA.get(e);if(i)return i;const a=new Float32Array(9),o=a.subarray(0,3),c=a.subarray(3,6);lA(r,c);const u=a.subarray(6,9);lA(t,u);const d=u[2]<.5,f=d?12:4.5;if(c[2]=d?Math.sqrt(c[2]):1-Math.sqrt(1-c[2]),uA(c,u,o)<f){let p,m;d?(p=c[2],m=1):(p=0,m=c[2]);const v=.005;for(;m-p>v;){const b=c[2]=(p+m)/2;d===uA(c,u,o)<f?p=b:m=b}c[2]=d?m:p}return $f(c,o),i=it.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),hA.set(e,i),i}function K1({html:r,dir:t,className:e},i){const a=document.createDocumentFragment();if(typeof r=="string"){const o=document.createElement("p");o.dir=t||"auto";const c=r.split(/(?:\r\n?|\n)/);for(let u=0,d=c.length;u<d;++u){const f=c[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}a.append(o)}else $1.render({xfaHtml:r,div:a,intent:"richText"});a.firstElementChild.classList.add("richText",e),i.append(a)}function W1(r){const t=new Path2D;if(!r)return t;for(let e=0,i=r.length;e<i;)switch(r[e++]){case Kr.moveTo:t.moveTo(r[e++],r[e++]);break;case Kr.lineTo:t.lineTo(r[e++],r[e++]);break;case Kr.curveTo:t.bezierCurveTo(r[e++],r[e++],r[e++],r[e++],r[e++],r[e++]);break;case Kr.quadraticCurveTo:t.quadraticCurveTo(r[e++],r[e++],r[e++],r[e++]);break;case Kr.closePath:t.closePath();break;default:bt(`Unrecognized drawing path operator: ${r[e-1]}`);break}return t}class Ft{static#t=null;static#e=null;static#i=null;static#n=0;static#a=[];get pagesNumber(){return Ft.#n}set pagesNumber(t){Ft.#n!==t&&(Ft.#n=t,t===0&&(Ft.#e=null,Ft.#t=null))}addListener(t){Ft.#a.push(t)}removeListener(t){const e=Ft.#a.indexOf(t);e>=0&&Ft.#a.splice(e,1)}#r(){for(const t of Ft.#a)t()}#s(t){if(Ft.#e)return;const e=Ft.#n,i=new Uint32Array(3*e),a=Ft.#e=i.subarray(0,e),o=Ft.#t=i.subarray(e,2*e);if(t)for(let c=0;c<e;c++)a[c]=o[c]=c+1;Ft.#i=i.subarray(2*e)}movePages(t,e,i){this.#s(!0);const a=Ft.#e,o=Ft.#t;Ft.#i.set(o);const c=e.length,u=new Uint32Array(c);let d=0;for(let b=0;b<c;b++){const x=e[b]-1;u[b]=a[x],x<i&&(d+=1)}const f=Ft.#n;let p=i-d;const m=f-c;p=Ie(p,0,m);for(let b=0,x=0;b<f;b++)t.has(b+1)||(a[x++]=a[b]);a.copyWithin(p+c,p,m),a.set(u,p);let v=!1;for(let b=0,x=f;b<x;b++){const A=a[b];v||=A!==b+1,o[A-1]=b+1}this.#r(),v||(this.pagesNumber=0)}hasBeenAltered(){return Ft.#e!==null}getPageMappingForSaving(){return{pageIndices:Ft.#t?Ft.#t.map(t=>t-1):null}}getPrevPageNumber(t){return Ft.#i[Ft.#e[t-1]-1]}getPageNumber(t){return Ft.#t?.[t-1]??t}getPageId(t){return Ft.#e?.[t-1]??t}static get instance(){return At(this,"instance",new Ft)}getMapping(){return Ft.#e.subarray(0,this.pagesNumber)}}class lo{#t=null;#e=null;#i;#n=null;#a=null;#r=null;#s=null;#o=null;static#c=null;constructor(t){this.#i=t,lo.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",On,{signal:e}),t.addEventListener("pointerdown",lo.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const a=this.#i.toolbarPosition;if(a){const{style:o}=t,c=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,le(t)}#h(t){this.#i._focusEventsAllowed=!0,le(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",On,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",lo.#c[t]),this.#f(i)&&i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#r)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const a=this.#s=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(a,e)):this.#n.append(i,a),this.#r=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){t==="comment"&&(this.#r?.removeToolbarCommentButton(),this.#r=null,this.#s?.remove(),this.#s=null)}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,i){if(!e&&t==="comment")return;const a=this.#n.querySelector(i);a&&t==="comment"&&this.addComment(e,a)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class iL{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",On,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let i=0,a=0;for(const o of t){const c=o.y+o.height;if(c<i)continue;const u=o.x+(e?o.width:0);if(c>i){a=u,i=c;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]}show(t,e,i){const[a,o]=this.#a(e,i),{style:c}=this.#e||=this.#n();t.append(this.#e),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#r(t,e,i,a){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const c=document.createElement("span");o.append(c),c.className="visuallyHidden",c.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",On,{signal:u}),o.addEventListener("click",a,{signal:u})),this.#t.append(o)}}function Q1(r,t,e){for(const i of e)t.addEventListener(i,r[i].bind(r))}class It{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(It.#e||=new Set).add(t)}static setPointer(t,e){It.#t||=e,It.#n??=t}static setTimeStamp(t){It.#i=t}static isSamePointerId(t){return It.#t===t}static isSamePointerIdOrRemove(t){return It.#t===t?!0:(It.#e?.delete(t),!1)}static isSamePointerType(t){return It.#n===t}static isInitializedAndDifferentPointerType(t){return It.#n!==null&&!It.isSamePointerType(t)}static isSameTimeStamp(t){return It.#i===t}static isUsingMultiplePointers(){return It.#e?.size>=1}static clearPointerType(){It.#n=null}static clearPointerIds(){It.#t=NaN,It.#e=null}static clearTimeStamp(){It.#i=NaN}}class sL{#t=0;get id(){return`${yo}${this.#t++}`}}class Gp{#t=Y1();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return At(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(i.url=e,a=await Do(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=Gp._isSVGFittingCanvas,c=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const m=i.svgUrl=c.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=c.onerror=p});c.readAsDataURL(a),await d}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){bt(a),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:a,type:o}=t;return this.#n(`${e}_${i}_${a}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class aL{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:a,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(c&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Lo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ce.platform;for(const[i,a,o={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:a,options:{bubbles:o=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...c,e)(),o||le(e))}}class qp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return ZN(t),At(this,"_colors",t)}convert(t){const e=No(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((o,c)=>o===e[c]))return qp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?it.makeHexColor(...e):t}}class rs{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#r=null;#s=null;#o=null;#c=new aL;#l=null;#d=null;#h=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#T=null;#w=null;#x=null;#_=null;#A=!1;#E=null;#R=new sL;#M=!1;#D=!1;#j=!1;#L=null;#k=null;#F=null;#P=null;#G=null;#C=St.NONE;#S=new Set;#O=null;#I=null;#U=null;#Y=null;#X=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#B=null;#q=null;#Z=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=rs.prototype,e=c=>c.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return At(this,"_keyboardManager",new Lo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,i,a,o,c,u,d,f,p,m,v,b,x,A,E){const w=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=i,this.#r=a,this.#l=o,this.#I=c,this.#X=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:w}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),u._on("setpreference",this.onSetPreference.bind(this),{signal:w}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:w}),u._on("pagesedited",this.onPagesEdited.bind(this),{signal:w}),window.addEventListener("pointerdown",()=>{this.#D=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#D=!1},{capture:!0,signal:w}),this.#rt(),this.#dt(),this.#et(),this.#s=d.annotationStorage,this.#T=d.filterFactory,this.#U=f,this.#_=p||null,this.#y=m,this.#b=v,this.#v=b,this.#G=x||null,this.viewParameters={realScale:Xa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1,o?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#E?.hide(),this.#E=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return At(this,"hcmFilter",this.#U?this.#T.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return At(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return At(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return At(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[a,o]of t){const c=a.endsWith("_HCM");if(i&&c){e.set(a.replace("_HCM",""),o);continue}!i&&!c&&e.set(a,o)}return At(this,"highlightColors",e)}get highlightColorNames(){return At(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#r?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,a){this.#l?.showDialog(this,t,e,i,a)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}deleteComment(t,e){const i=()=>{t.comment=e},a=()=>{this._editorUndoBar?.show(i,"comment"),this.toggleComment(null),t.comment=null};this.addCommands({cmd:a,undo:i,mustExec:!0})}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),a=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",a),e())};this._eventBus.on("editorsrendered",a),await i}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){t==="enableNewAltTextWhenAddingImage"&&(this.#v=e)}onPagesEdited({pagesMapper:t}){for(const a of this.#n.values())a.updatePageIndex(t.getPrevPageNumber(a.pageIndex+1)-1);const e=this.#a,i=this.#a=new Map;for(const[a,o]of e){const c=t.getPrevPageNumber(a+1)-1;if(c===-1){o.destroy();continue}i.set(c,o),o.updatePageIndex(c)}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const i of this.#a.values()){const{x:a,y:o,width:c,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=o&&e<=o+u)return i}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Xa.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#a.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:u}=i,d=i.toString(),p=this.#Q(i).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;i.empty();const v=this.#tt(p),b=this.#C===St.NONE,x=()=>{const A=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:u,text:d});b&&this.showAllEditors("highlight",!0,!0),e&&A?.editComment()};if(b){this.switchToMode(St.HIGHLIGHT,x);return}x()}commentSelection(t=""){this.highlightSelection(t,!0)}#st(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Q(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#E||=new iL(this),this.#E.show(i,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#s)return null;const e=`${yo}${t}`,i=this.#s.getRawValue(e);return i&&this.#s.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#O&&(this.#E?.hide(),this.#O=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#O)return;const a=this.#Q(t).closest(".textLayer");if(!a){this.#O&&(this.#E?.hide(),this.#O=null,this.#N({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#O=e,this.#N({hasSelectedText:!0}),!(this.#C!==St.HIGHLIGHT&&this.#C!==St.NONE)&&(this.#C===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===St.HIGHLIGHT?this.#tt(a):null;if(o?.toggleDrawing(),this.#D){const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===St.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#st()}#rt(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#k=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#k)return;const[t,e]=this.#k;this.#k=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#L?.abort(),this.#L=null}#ut(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#S){const a=i.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of this.#u)if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){bt(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const d of i){const f=await a.deserialize(d);if(!f)return;o.push(f)}const c=()=>{for(const d of o)this.#nt(d);this.#it(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(o){bt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==St.NONE&&!this.isEditorHandlingKeyboard&&rs._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,a])=>this.#$[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#C===St.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Lt.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#N({isEditing:this.#C!==St.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,a=!1,o=!1,c=!1){if(this.#C!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===St.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===St.NONE){this.setEditingState(!1),this.#pt();for(const u of this.#n.values())u.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const u of this.#n.values())u.addStandaloneCommentButton();t===St.SIGNATURE&&await this.#I?.loadSignatures(),i&&It.clearPointerType(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const u of this.#a.values())u.updateMode(t);if(t===St.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const u=new Set,d=[];for(const f of this.#n.values()){const{annotationElementId:p,hasComment:m,deleted:v}=f;p&&u.add(p),m&&!v&&d.push(f.getData())}for(const f of this.#i){const{id:p,popupRef:m,contentsObj:v}=f;m&&v?.str&&!u.has(p)&&!this.#g.has(p)&&d.push(f)}this.#l?.showSidebar(d)}if(!e){a&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const u of this.#n.values())u.uid===e?(this.setSelected(u),c?u.editComment():o?u.enterInEditMode():u.focus()):u.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Lt.CREATE:this.currentLayer.addNewEditor(e);return;case Lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#S)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#Y?.get(Lt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Lt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#j!==t){this.#j=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#c.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#c.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],i=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#nt(o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==St.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[a,o]=this.#V,c=[...this.#S],u=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(a,o),d.translationDone())},undo:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(-a,-o),d.translationDone())},mustExec:!1})},u);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#S)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let e=!1;for(const[{x:a,y:o,pageIndex:c},u]of t)u.newX=a,u.newY=o,u.newPageIndex=c,e||=a!==u.savedX||o!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(a,o,c,u)=>{if(this.#n.has(a.id)){const d=this.#a.get(u);d?a._setParentAndPosition(d,o,c):(a.pageIndex=u,a.x=o,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:c,newPageIndex:u}]of t)i(a,o,c,u)},undo:()=>{for(const[a,{savedX:o,savedY:c,savedPageIndex:u}]of t)i(a,o,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#m)for(const i of this.#m.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==St.NONE}get imageManager(){return At(this,"imageManager",new Gp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:a,width:o,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,v)=>({x:(p-a)/c,y:1-(f+m-i)/o,width:v/c,height:m/o});break;case"180":u=(f,p,m,v)=>({x:1-(f+m-i)/o,y:1-(p+v-a)/c,width:m/o,height:v/c});break;case"270":u=(f,p,m,v)=>({x:1-(p+v-a)/c,y:(f-i)/o,width:v/c,height:m/o});break;default:u=(f,p,m,v)=>({x:(f-i)/o,y:(p-a)/c,width:m/o,height:v/c});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:v,y:b,width:x,height:A}of m.getClientRects())x===0||A===0||d.push(u(v,b,x,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#C===St.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const a=this.#P?.get(t);a&&(a.setCanvas(e,i),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class Qn{#t=null;#e=!1;#i=null;#n=null;#a=null;#r=null;#s=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Qn.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Qn._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Qn.#f.missing),e.setAttribute("data-l10n-id",Qn.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",On,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#s=!0,a(o))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Qn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:o=!1}){i&&(this.#l=i,this.#d=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Qn.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Qn.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const a=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class nc{#t=null;#e=null;#i=!1;#n=null;#a=null;#r=null;#s=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(i.backgroundColor=a)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:a,y:o,width:c,height:u}=this.#n.parent.boundingClientRect;return[(t-a)/c,(e+i-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",On,{signal:i}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,le(o)},{capture:!0,signal:i}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,le(o)},{capture:!0,signal:i})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const a=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,a(o))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,a;if(e)[i,a]=e;else{[i,a]=this.#n.commentButtonPosition;const{width:p,height:m,x:v,y:b}=this.#n;i=v+i*p,a=b+a*m}const o=this.#n.parent.boundingClientRect,{x:c,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,c+i*d,u+a*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#a}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#s&&(this.#r=null),t===null){this.#s="",this.#c=!0;return}this.#s=t,this.#o=new Date,this.#c=!1}restoreData({text:t,richText:e,date:i}){this.#s=t,this.#r=e,this.#o=i,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#r=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#s="",this.#r=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Xc{#t;#e=!1;#i=null;#n;#a;#r;#s;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#a=a,this.#r=o,this.#s=c,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ni.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#c,a.signal]),c=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(le(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const a=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,c={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),c);const u=this.#m.bind(this);o.addEventListener("touchend",u,c),o.addEventListener("touchcancel",u,c),c.capture=!0,o.addEventListener("pointerdown",le,c),o.addEventListener("pointermove",le,c),o.addEventListener("pointercancel",le,c),o.addEventListener("pointerup",le,c),this.#a?.()}if(le(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;le(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:o}=e,{screenX:c,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:v}=d,b=m-f,x=v-p,A=c-a,E=u-o,w=Math.hypot(A,E)||1,C=Math.hypot(b,x)||1;if(!this.#e&&Math.abs(C-w)<=Xc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=o,d.touch1X=c,d.touch1Y=u,!this.#e){this.#e=!0;return}const T=[(a+c)/2,(o+u)/2];this.#r?.(T,C,w)}#m(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#s?.()),this.#l&&(le(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#i=null;#n=null;#a=null;#r=!1;#s=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#y=!1;#b=!1;#v=null;#T=0;#w=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#E=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new qp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=rs.TRANSLATE_SMALL,i=rs.TRANSLATE_BIG;return At(this,"_resizerKeyboardManager",new Lo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[o,c];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(t){this.pageIndex=t}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return At(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new rL({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ut("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[o,c]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/o,this.y=(e+a)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}#R([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[d,f]=this.getBaseTranslation();c+=d,u+=f;const{style:p}=i;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=pt,a=i/t,o=i/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:o,y:c,width:u,height:d}=this;if(u*=i,d*=a,o*=i,c*=a,this._mustFixPosition)switch(t){case 0:o=Ie(o,0,i-u),c=Ie(c,0,a-d);break;case 90:o=Ie(o,0,i-d),c=Ie(c,u,a);break;case 180:o=Ie(o,u,i),c=Ie(c,d,a);break;case 270:o=Ie(o,d,i),c=Ie(c,0,a-u);break}this.x=o/=i,this.y=c/=a;const[f,p]=this.getBaseTranslation();o+=f,c+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#M(t,e,360-this.parentRotation)}#D(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#j(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#L.bind(this,i),{signal:e}),a.addEventListener("contextmenu",On,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#c)}#L(t,e){e.preventDefault();const{isMac:i}=Ce.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",le,{passive:!1,signal:c}),window.addEventListener("contextmenu",On,{signal:c}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#k(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=this.#d;this.#d=null;const o=this.x,c=this.y,u=this.width,d=this.height;o===t&&c===e&&u===i&&d===a||this.addCommands({cmd:this.#k.bind(this,o,c,u,d),undo:this.#k.bind(this,t,e,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[i,a]=this.parentDimensions,o=this.x,c=this.y,u=this.width,d=this.height,f=pt.MIN_SIZE/i,p=pt.MIN_SIZE/a,m=this.#D(this.rotation),v=(B,H)=>[m[0]*B+m[2]*H,m[1]*B+m[3]*H],b=this.#D(360-this.rotation),x=(B,H)=>[b[0]*B+b[2]*H,b[1]*B+b[3]*H];let A,E,w=!1,C=!1;switch(t){case"topLeft":w=!0,A=(B,H)=>[0,0],E=(B,H)=>[B,H];break;case"topMiddle":A=(B,H)=>[B/2,0],E=(B,H)=>[B/2,H];break;case"topRight":w=!0,A=(B,H)=>[B,0],E=(B,H)=>[0,H];break;case"middleRight":C=!0,A=(B,H)=>[B,H/2],E=(B,H)=>[0,H/2];break;case"bottomRight":w=!0,A=(B,H)=>[B,H],E=(B,H)=>[0,0];break;case"bottomMiddle":A=(B,H)=>[B/2,H],E=(B,H)=>[B/2,0];break;case"bottomLeft":w=!0,A=(B,H)=>[0,H],E=(B,H)=>[B,0];break;case"middleLeft":C=!0,A=(B,H)=>[0,H/2],E=(B,H)=>[B,H/2];break}const T=A(u,d),N=E(u,d);let R=v(...N);const O=pt._round(o+R[0]),P=pt._round(c+R[1]);let V=1,K=1,nt,et;if(e.fromKeyboard)({deltaX:nt,deltaY:et}=e);else{const{screenX:B,screenY:H}=e,[tt,$]=this.#l;[nt,et]=this.screenToPageTranslation(B-tt,H-$),this.#l[0]=B,this.#l[1]=H}if([nt,et]=x(nt/i,et/a),w){const B=Math.hypot(u,d);V=K=Math.max(Math.min(Math.hypot(N[0]-T[0]-nt,N[1]-T[1]-et)/B,1/u,1/d),f/u,p/d)}else C?V=Ie(Math.abs(N[0]-T[0]-nt),f,1)/u:K=Ie(Math.abs(N[1]-T[1]-et),p,1)/d;const mt=pt._round(u*V),yt=pt._round(d*K);R=v(...E(mt,yt));const ht=O-R[0],Et=P-R[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=mt,this.height=yt,this.x=ht,this.y=Et,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new lo(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Qn.initialize(pt._l10n),this.#i=new Qn(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new nc(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:t,text:e,date:i,deleted:a}}=this.#n;return{text:e,richText:t,date:i,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new nc(this),typeof t=="object"&&t!==null?this.#n.restoreData(t):this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new nc(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new nc(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,a]=t.rect,[o]=this.pageDimensions,[c]=this.pageTranslation,u=c+o+1,d=a-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,a]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#r?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),Q1(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Xc({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let o=.7*(i/e)+1-.7;if(o===1)return;const c=this.#D(this.rotation),u=(O,P)=>[c[0]*O+c[2]*P,c[1]*O+c[3]*P],[d,f]=this.parentDimensions,p=this.x,m=this.y,v=this.width,b=this.height,x=pt.MIN_SIZE/d,A=pt.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/b),x/v,A/b);const E=pt._round(v*o),w=pt._round(b*o);if(E===v&&w===b)return;this.#u||=[p,m,v,b];const C=u(v/2,b/2),T=pt._round(p+C[0]),N=pt._round(m+C[1]),R=u(E/2,w/2);this.x=T-R[0],this.y=N-R[1],this.width=E,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#I(t);return}this.#O(t)}#O(t){const{isMac:e}=Ce.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:o},u=f=>{a.abort(),this.#s=null,this.#m=!1,this._uiManager.endDragSession()||this.#O(f),i&&this._onStopDragging()};e&&(this.#T=t.clientX,this.#w=t.clientY,this.#s=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=f;if(v!==this.#s){le(f);return}const[b,x]=this.screenToPageTranslation(p-this.#T,m-this.#w);this.#T=p,this.#w=m,this._uiManager.dragSelectedEditors(b,x)},c),window.addEventListener("touchmove",le,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),le(f)},c));const d=f=>{if(!this.#s||this.#s===f.pointerId){u(f);return}le(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[o,c]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/a,p=e/a,m=this.x*o,v=this.y*c,b=this.width*o,x=this.height*c;switch(i){case 0:return[m+f+u,c-v-p-x+d,m+f+b+u,c-v-p+d];case 90:return[m+p+u,c-v+f+d,m+p+x+u,c-v+f+b+d];case 180:return[m-f-b+u,c-v+p+d,m-f+u,c-v+p+x+d];case 270:return[m-p-x+u,c-v-f-b+d,m-p+u,c-v-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,o,c]=t,u=o-i,d=c-a;switch(this.rotation){case 0:return[i,e-c,u,d];case 90:return[i,e-a,d,u];case 180:return[o,e-a,u,d];case 270:return[o,e-c,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:a,deleted:o,richText:c},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:c,contentsObj:{str:t},creationDate:f,modificationDate:i||p,popupRef:!o,color:e,opacity:a}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return e<c&&a>0&&t<o&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,c]=a.pageDimensions,[u,d,f,p]=a.getRectInCurrentCoords(t.rect,c);return a.x=u/o,a.y=d/c,a.width=f/o,a.height=p/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#j(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,a,o,c]=this.getPDFRect();return[pt._round(i+(o-i)*t),pt._round(a+(c-a)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const c=this.#Y.bind(this),u=this.#X.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#$.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",pt._l10nResizer[p])}}const i=this.#e[0];let a=0;for(const c of e){if(c===i)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let u=0;u<a-o;u++)this.#c.append(this.#c.firstElementChild);else if(o>a)for(let u=0;u<o-a;u++)this.#c.firstElementChild.before(this.#c.lastElementChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",pt._l10nResizer[f])}}this.#V(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){pt._resizerKeyboardManager.exec(this,t)}#X(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#$(t){this.#g=this.#b?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#P(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#b=!1,this.#V(-1),this.#F()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let a=this.#x.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},pt._telemetryTimeout),this.#x.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class rL extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dA=3285377520,Mn=4294901760,$n=65535;class Z1{constructor(t){this.h1=t?t&4294967295:dA,this.h2=t?t&4294967295:dA}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let A=0,E=t.length;A<E;A++){const w=t.charCodeAt(A);w<=255?e[i++]=w:(e[i++]=w>>>8,e[i++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,o=i-a*4,c=new Uint32Array(e.buffer,0,a);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,v=461845907,b=m&$n,x=v&$n;for(let A=0;A<a;A++)A&1?(u=c[A],u=u*m&Mn|u*b&$n,u=u<<15|u>>>17,u=u*v&Mn|u*x&$n,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[A],d=d*m&Mn|d*b&$n,d=d<<15|d>>>17,d=d*v&Mn|d*x&$n,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*m&Mn|u*b&$n,u=u<<15|u>>>17,u=u*v&Mn|u*x&$n,a&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Mn|t*36045&$n,e=e*4283543511&Mn|((e<<16|t>>>16)*2950163797&Mn)>>>16,t^=e>>>1,t=t*444984403&Mn|t*60499&$n,e=e*3301882366&Mn|((e<<16|t>>>16)*3120437893&Mn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Kf=Object.freeze({map:null,hash:"",transfer:void 0});class Xp{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof pt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let a=!1;if(i!==void 0)for(const[o,c]of Object.entries(e))i[o]!==c&&(a=!0,i[o]=c);else a=!0,this.#n.set(t,e);a&&this.#a(),e instanceof pt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new J1(this)}get serializable(){if(this.#n.size===0)return Kf;const t=new Map,e=new Z1,i=[],a=Object.create(null);let o=!1;for(const[c,u]of this.#n){const d=u instanceof pt?u.serialize(!1,a):u;u.page&&(u.pageIndex=u.page._pageIndex,delete u.page),d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Kf}get editorStats(){let t=null;const e=new Map;let i=0,a=0;for(const o of this.#n.values()){if(!(o instanceof pt)){o.popup&&(o.popup.deleted?a+=1:i+=1);continue}o.isCommentDeleted?a+=1:o.hasEditedComment&&(i+=1);const c=o.telemetryFinalData;if(!c)continue;const{type:u}=c;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(c)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const v=m.get(p)??0;m.set(p,v+1)}}if((a>0||i>0)&&(t||=Object.create(null),t.comments={deleted:a,edited:i}),!t)return null;for(const[o,c]of e)t[o]=c.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class J1 extends Xp{#t;constructor(t){super();const{map:e,hash:i,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:i,transfer:a}}get print(){Ut("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return At(this,"modifiedIds",{ids:new Set,hash:""})}}class oL{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(zt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:c}=t,u=new FontFace(a,o,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(a),i?.(t)}catch{bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Ut("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw bt(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return At(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return At(this,"isSyncFontLoadingSupported",Ge||Ce.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(zt(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return At(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(N,R){return N.charCodeAt(R)<<24|N.charCodeAt(R+1)<<16|N.charCodeAt(R+2)<<8|N.charCodeAt(R+3)&255}function a(N,R,O,P){const V=N.substring(0,R),K=N.substring(R+O);return V+P+K}let o,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(N,R){if(++f>30){bt("Load test font never loaded."),R();return}if(d.font="30px "+N,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(p.bind(null,N,R))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,m.length,m);const x=16,A=1482184792;let E=i(v,x);for(o=0,c=m.length-3;o<c;o+=4)E=E-A+i(m,o)|0;o<m.length&&(E=E-A+i(m+"XXX",o)|0),v=a(v,x,4,VN(E));const w=`url(data:font/opentype;base64,${btoa(v)});`,C=`@font-face {font-family:"${m}";src:${w}}`;this.insertRule(C);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const N of[t.loadedName,m]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=N,T.append(R)}this._document.body.append(T),p(m,()=>{T.remove(),e.complete()})}}class lL{#t;constructor(t,e=null,i,a){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(c){bt(`getPathGenerator - ignoring character: "${c}".`)}const o=W1(a?.path);return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){At(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){At(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class za{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let a=0;for(const f of za.strings){const p=e.encode(t[f]);i[f]=p,a+=4+p.length}const o=new ArrayBuffer(a),c=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of za.strings){const p=i[f],m=p.length;u.setUint32(d,m),c.set(p,d+4),d+=4+m}return zt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){zt(t<za.strings.length,"Invalid string index");let e=0;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ua{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let a=0;for(const v of Ua.strings){const b=e.encode(t[v]);i[v]=b,a+=4+b.length}a+=4;let o,c,u=1+a;t.style&&(o=e.encode(t.style.style),c=e.encode(t.style.weight),u+=4+o.length+4+c.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,a=0;for(const v of Ua.strings){const b=i[v],x=b.length;a+=4+x,p.setUint32(m,x),f.set(b,m+4),m+=4+x}return p.setUint32(m-a-4,a),t.style&&(p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length,p.setUint32(m,c.length),f.set(c,m+4),m+=4+c.length),zt(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){zt(t<Ua.strings.length,"Invalid string index");let e=5;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const a=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,a));return{style:i,weight:o}}}class Yt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#r;#s;#o;constructor({data:t,extra:e}){this.#r=t,this.#s=new TextDecoder,this.#o=new DataView(this.#r),e&&Object.assign(this,e)}#c(t){zt(t<Yt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,a=this.#o.getUint8(e)>>i&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return zt(t<Yt.numbers.length,"Invalid number index"),this.#o.getFloat64(Yt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Yt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<4;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Yt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<6;a++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Yt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<3;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#d(t){zt(t<Yt.strings.length,"Invalid string index");let e=Yt.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),a=new Uint8Array(i);return a.set(new Uint8Array(this.#r,e+4,i)),this.#s.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Yt.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#r,t+4,o)}clearData(){let t=Yt.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const o=this.#o.getUint32(t);new Uint8Array(this.#r,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Yt.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);if(a===0)return null;const o=new Uint8Array(a);return o.set(new Uint8Array(this.#r,t+4,a)),new za(o.buffer)}get systemFontInfo(){let t=Yt.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#r,t+4,i)),new Ua(a.buffer)}static write(t){const e=t.systemFontInfo?Ua.write(t.systemFontInfo):null,i=t.cssFontInfo?za.write(t.cssFontInfo):null,a=new TextEncoder,o={};let c=0;for(const A of Yt.strings)o[A]=a.encode(t[A]),c+=4+o[A].length;const u=Yt.#a+4+c+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;const v=Yt.bools.length;let b=0,x=0;for(let A=0;A<v;A++){const E=t[Yt.bools[A]];b|=(E===void 0?0:E?2:1)<<x,x+=2,(x===8||A===v-1)&&(p.setUint8(m++,b),b=0,x=0)}zt(m===Yt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const A of Yt.numbers)p.setFloat64(m,t[A]),m+=8;if(zt(m===Yt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const A of t.bbox)p.setInt16(m,A,!0),m+=2}else p.setUint8(m++,0),m+=8;if(zt(m===Yt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const A of t.fontMatrix)p.setFloat64(m,A,!0),m+=8}else p.setUint8(m++,0),m+=48;if(zt(m===Yt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const A of t.defaultVMetrics)p.setInt16(m,A,!0),m+=2}else p.setUint8(m++,0),m+=6;zt(m===Yt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Yt.#a,0),m+=4;for(const A of Yt.strings){const E=o[A],w=E.length;p.setUint32(m,w),f.set(E,m+4),m+=4+w}if(p.setUint32(Yt.#a,m-Yt.#a-4),!e)p.setUint32(m,0),m+=4;else{const A=e.byteLength;p.setUint32(m,A),zt(m+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),m+4),m+=4+A}if(!i)p.setUint32(m,0),m+=4;else{const A=i.byteLength;p.setUint32(m,A),zt(m+4+A<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),m+4),m+=4+A}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),zt(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Re{static#t=0;static#e=1;static#i=2;static#n=3;static#a=4;static#r=8;static#s=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,i=null,a=[],o=[],c=[],u=[],d=null,f=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,i=t[2],c=t[3],e===1?a.push(...t[4],...t[5]):a.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,d=t[1],a=t[2],o=t[3],u=t[4]||[],i=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const p=Math.floor(a.length/2),m=Math.floor(o.length/3),v=c.length,b=u.length;let x=0;for(const R of u)x+=1,x=Math.ceil(x/4)*4,x+=4+R.coords.length*4,x+=4+R.colors.length*4,R.verticesPerRow!==void 0&&(x+=4);const A=20+p*8+m*3+v*8+(i?16:0)+(f?3:0)+x,E=new ArrayBuffer(A),w=new DataView(E),C=new Uint8Array(E);w.setUint8(Re.#t,e),w.setUint8(Re.#e,i?1:0),w.setUint8(Re.#i,f?1:0),w.setUint8(Re.#n,d),w.setUint32(Re.#a,p,!0),w.setUint32(Re.#r,m,!0),w.setUint32(Re.#s,v,!0),w.setUint32(Re.#o,b,!0);let T=20;new Float32Array(E,T,p*2).set(a),T+=p*8,C.set(o,T),T+=m*3;for(const[R,O]of c)w.setFloat32(T,R,!0),T+=4,w.setUint32(T,parseInt(O.slice(1),16),!0),T+=4;if(i)for(const R of i)w.setFloat32(T,R,!0),T+=4;f&&(C.set(f,T),T+=3);for(let R=0;R<u.length;R++){const O=u[R];w.setUint8(T,O.type),T+=1,T=Math.ceil(T/4)*4,w.setUint32(T,O.coords.length,!0),T+=4,new Int32Array(E,T,O.coords.length).set(O.coords),T+=O.coords.length*4,w.setUint32(T,O.colors.length,!0),T+=4,new Int32Array(E,T,O.colors.length).set(O.colors),T+=O.colors.length*4,O.verticesPerRow!==void 0&&(w.setUint32(T,O.verticesPerRow,!0),T+=4)}return E}getIR(){const t=this.view,e=this.data[Re.#t],i=!!this.data[Re.#e],a=!!this.data[Re.#i],o=t.getUint32(Re.#a,!0),c=t.getUint32(Re.#r,!0),u=t.getUint32(Re.#s,!0),d=t.getUint32(Re.#o,!0);let f=20;const p=new Float32Array(this.buffer,f,o*2);f+=o*8;const m=new Uint8Array(this.buffer,f,c*3);f+=c*3;const v=[];for(let E=0;E<u;++E){const w=t.getFloat32(f,!0);f+=4;const C=t.getUint32(f,!0);f+=4,v.push([w,`#${C.toString(16).padStart(6,"0")}`])}let b=null;if(i){b=[];for(let E=0;E<4;++E)b.push(t.getFloat32(f,!0)),f+=4}let x=null;a&&(x=new Uint8Array(this.buffer,f,3),f+=3);const A=[];for(let E=0;E<d;++E){const w=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const C=t.getUint32(f,!0);f+=4;const T=new Int32Array(this.buffer,f,C);f+=C*4;const N=t.getUint32(f,!0);f+=4;const R=new Int32Array(this.buffer,f,N);f+=N*4;const O={type:w,coords:T,colors:R};w===Gf.LATTICE&&(O.verticesPerRow=t.getUint32(f,!0),f+=4),A.push(O)}if(e===1)return["RadialAxial","axial",b,v,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",b,v,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(e===3){const E=this.data[Re.#n];let w=null;if(p.length>0){let C=p[0],T=p[0],N=p[1],R=p[1];for(let O=0;O<p.length;O+=2){const P=p[O],V=p[O+1];C=C>P?P:C,N=N>V?V:N,T=T<P?P:T,R=R<V?V:R}w=[C,N,T,R]}return["Mesh",E,p,m,A,w,b,x]}throw new Error(`Unsupported pattern kind: ${e}`)}}class cL{static write(t){let e,i;return Ce.isFloat16ArraySupported?(i=new ArrayBuffer(t.length*2),e=new Float16Array(i)):(i=new ArrayBuffer(t.length*4),e=new Float32Array(i)),e.set(t),i}#t;constructor(t){this.#t=t}get path(){return Ce.isFloat16ArraySupported?new Float16Array(this.#t):new Float32Array(this.#t)}}function uL(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Ge)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function hL(r){if(Ge&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Gc(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ic(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Wf=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,dL=r=>typeof r=="object"&&typeof r?.name=="string",fL=YN.bind(null,Wf,dL);class pL{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:o}=i;if(o.aborted){bt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const sc={DATA:1,ERROR:2},be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fA(){}function nn(r){if(r instanceof as||r instanceof qf||r instanceof aA||r instanceof Lc||r instanceof uf)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Ut('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new as(r.message);case"InvalidPDFException":return new qf(r.message);case"PasswordException":return new aA(r.message,r.code);case"ResponseException":return new Lc(r.message,r.status,r.missing);case"UnknownErrorException":return new uf(r.message,r.details)}return new uf(r.message,r.toString())}class no{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===sc.DATA)a.resolve(t.data);else if(t.callback===sc.ERROR)a.reject(nn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(c){o.postMessage({sourceName:i,targetName:a,callback:sc.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:i,targetName:a,callback:sc.ERROR,callbackId:t.callbackId,reason:nn(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,i,a){const o=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:c,targetName:u,stream:be.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{zt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:be.CANCEL,streamId:o,reason:nn(f)}),p.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,c=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:a,stream:be.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:be.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){zt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:a,stream:be.ERROR,streamId:e,reason:nn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:i,targetName:a,stream:be.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:be.START_COMPLETE,streamId:e,reason:nn(f)})})}#n(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,o=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case be.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(nn(t.reason));break;case be.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(nn(t.reason));break;case be.PULL:if(!u){o.postMessage({sourceName:i,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||fA).then(function(){o.postMessage({sourceName:i,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:be.PULL_COMPLETE,streamId:e,reason:nn(f)})});break;case be.ENQUEUE:if(zt(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case be.CLOSE:if(zt(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,e);break;case be.ERROR:zt(c,"error should have stream controller"),c.controller.error(nn(t.reason)),this.#a(c,e);break;case be.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(nn(t.reason)),this.#a(c,e);break;case be.CANCEL:if(!u)break;const d=nn(t.reason);Promise.try(u.onCancel||fA,d).then(function(){o.postMessage({sourceName:i,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,reason:nn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class tS{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ut("Abstract method `_createCanvas` called.")}}class mL extends tS{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class eS{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class pA extends eS{async _fetch(t){const e=await Do(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Gc(e)}}class nS{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,o){return"none"}destroy(t=!1){}}class gL extends nS{#t;#e;#i;#n;#a;#r;#s=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#a.createElementNS(xi,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(xi,"defs"),t.append(i),i.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,i,a]=t,o=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,c[d]=i[d]/255,u[d]=a[d]/255;return[o.join(","),c.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(qc(e)?bt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=X1(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,a,o]=this.#d(t),c=t.length===1?i:`${i}${a}${o}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#s++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(c,d);const f=this.#m(u);return this.#p(i,a,o,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,a="base";let o=this.#c.get(a);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#c.set(a,o)),!t||!e))return o.url;const c=this.#b(t);t=it.makeHexColor(...c);const u=this.#b(e);if(e=it.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let b=0;b<=255;b++){const x=b/255;d[b]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#m(p);this.#p(f,f,f,m),this.#g(m);const v=(b,x)=>{const A=c[b]/255,E=u[b]/255,w=new Array(x+1);for(let C=0;C<=x;C++)w[C]=A+C/x*(E-A);return w.join(",")};return this.#p(v(0,5),v(1,5),v(2,5),m),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),a=`alpha_${i}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#s++}`,c=this.#h(o);this.#o.set(t,c),this.#o.set(a,c);const u=this.#m(o);return this.#y(i,u),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,a;if(t?([i]=this.#d([t]),a=`luminosity_${i}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#s++}`,c=this.#h(o);this.#o.set(t,c),this.#o.set(a,c);const u=this.#m(o);return this.#f(u),t&&this.#y(i,u),c}addHighlightHCMFilter(t,e,i,a,o){const c=`${e}-${i}-${a}-${o}`;let u=this.#c.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,b]=[a,o].map(this.#b.bind(this));m<p&&([p,m,v,b]=[m,p,b,v]),this.#l.style.color="";const x=(w,C,T)=>{const N=new Array(256),R=(m-p)/T,O=w/255,P=(C-w)/(255*T);let V=0;for(let K=0;K<=T;K++){const nt=Math.round(p+K*R),et=O+K*P;for(let mt=V;mt<=nt;mt++)N[mt]=et;V=nt+1}for(let K=V;K<256;K++)N[K]=N[V-1];return N.join(",")},A=`g_${this.#n}_hcm_${t}_filter`,E=u.filter=this.#m(A);return this.#g(E),this.#p(x(v[0],b[0],5),x(v[1],b[1],5),x(v[2],b[2],5),E),u.url=this.#h(A),u.url}destroy(t=!1){t&&this.#r?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#r?.clear(),this.#r=null,this.#s=0)}#f(t){const e=this.#a.createElementNS(xi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(xi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(xi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const a=this.#a.createElementNS(xi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#p(t,e,i,a){const o=this.#a.createElementNS(xi,"feComponentTransfer");a.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",i)}#y(t,e){const i=this.#a.createElementNS(xi,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,No(getComputedStyle(this.#l).getPropertyValue("color"))}}class iS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class mA extends iS{async _fetch(t){const e=await Do(t,"arraybuffer");return new Uint8Array(e)}}class sS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class gA extends sS{async _fetch(t){const e=await Do(t,"arraybuffer");return new Uint8Array(e)}}Ge&&bt("Please use the `legacy` build in Node.js environments.");async function Yp(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class yL extends nS{}class vL extends tS{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class bL extends eS{async _fetch(t){return Yp(t)}}class AL extends iS{async _fetch(t){return Yp(t)}}class xL extends sS{async _fetch(t){return Yp(t)}}const Ta="__forcedDependency",{floor:yA,ceil:vA}=Math;function ac(r,t,e,i,a,o){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],i),r[t*4+2]=Math.max(r[t*4+2],a),r[t*4+3]=Math.max(r[t*4+3],o)}const Qf=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class SL{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Qf}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const rc=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};class wL{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ta]:[]};#i=new Map;#n=[];#a=[];#r=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#m;#u;#p;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#y(e),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(Qf,e.length)):this.#u.fill(Qf)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Ta]:{__proto__:this.#e[Ta]}},this.#s={__proto__:this.#s},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#s=Object.getPrototypeOf(this.#s);const i=this.#n.pop();return i!==void 0&&(rc(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(rc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(rc(this.#p,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#r.push(it.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Ta,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Ta,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,a,o,c){const u=it.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];it.axialAlignedBoundingBox([i,o,a,c],u,d);const f=it.intersect(this.#s,d);return f?(this.#s[0]=f[0],this.#s[1]=f[1],this.#s[2]=f[2],this.#s[3]=f[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(t,e,i,a,o,c){const u=this.#s;if(u[0]===1/0)return this;const d=it.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform());if(u[0]===-1/0)return it.axialAlignedBoundingBox([i,o,a,c],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return it.axialAlignedBoundingBox([i,o,a,c],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,a=1,o=0,c=0,u){const d=i.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(i),f!==!1&&(p=[0,0,0,0],it.axialAlignedBoundingBox(d,i.fontMatrix,p),(a!==1||o!==0||c!==0)&&it.scaleMinMax([a,0,0,-a,o,c],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const m=u();return d&&p&&f===void 0&&(f=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=c-m.actualBoundingBoxAscent&&p[3]>=c+m.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,c-m.actualBoundingBoxAscent,c+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#f,this.#s[2]),this.#o[3]=Math.min(this.#g,this.#s[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,a=this.#t,o=this.#e;for(const c of e)c in this.#t?i.add(a[c]):c in o&&o[c].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Ta]),this.#p){const i=rc(this.#p,t),{dependencies:a}=i;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#a.forEach(a.add,a),a.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=yA(this.#o[0]*256/this.#f),a=yA(this.#o[1]*256/this.#g),o=vA(this.#o[2]*256/this.#f),c=vA(this.#o[3]*256/this.#g);ac(this.#m,t,i,a,o,c);for(const u of this.#l)u!==t&&ac(this.#m,u,i,a,o,c);for(const u of this.#n)u!==t&&ac(this.#m,u,i,a,o,c);for(const u of this.#a)u!==t&&ac(this.#m,u,i,a,o,c);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const a of i)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new SL(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Oc{#t;#e;#i;#n=0;#a=0;constructor(t,e,i){if(t instanceof Oc&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,a,o,c){return this.#i||this.#t.recordClipBox(this.#e,e,i,a,o,c),this}recordBBox(t,e,i,a,o,c){return this.#i||this.#t.recordBBox(this.#e,e,i,a,o,c),this}recordCharacterBBox(t,e,i,a,o,c,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,a,o,c,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Dn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ze={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Zf(r,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),r.clip(a)}class $p{isModifyingCurrentTransform(){return!1}getPattern(){Ut("Abstract method `getPattern` called.")}}class EL extends $p{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(t,e=null){let i,a=this._p0,o=this._p1;if(e&&(a=a.slice(),o=o.slice(),it.applyTransform(a,e),it.applyTransform(o,e)),this._type==="axial")i=t.createLinearGradient(a[0],a[1],o[0],o[1]);else if(this._type==="radial"){let c=this._r0,u=this._r1;if(e){const d=new Float32Array(2);it.singularValueDecompose2dScale(e,d),c*=d[0],u*=d[0]}i=t.createRadialGradient(a[0],a[1],c,o[0],o[1],u)}for(const c of this._colorStops)i.addColorStop(c[0],c[1]);return i}getPattern(t,e,i,a){let o;if(a===ze.STROKE||a===ze.FILL){if(this.isOriginBased()){let v=it.transform(i,e.baseTransform);this.matrix&&(v=it.transform(v,this.matrix));const b=.001,x=Math.hypot(v[0],v[1]),A=Math.hypot(v[2],v[3]),E=(v[0]*v[2]+v[1]*v[3])/(x*A);if(Math.abs(E)<b)if(this.isRadial()){if(Math.abs(x-A)<b)return this._createGradient(t,v)}else return this._createGradient(t,v)}const c=e.current.getClippedPathBoundingBox(a,ee(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),i=it.transform(i,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Zf(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);o.setTransform(m)}else Zf(t,this._bbox),o=this._createGradient(t);return o}}function ff(r,t,e,i,a,o,c,u){const d=t.coords,f=t.colors,p=r.data,m=r.width*4;let v;d[e+1]>d[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v),d[i+1]>d[a+1]&&(v=i,i=a,a=v,v=c,c=u,u=v),d[e+1]>d[i+1]&&(v=e,e=i,i=v,v=o,o=c,c=v);const b=(d[e]+t.offsetX)*t.scaleX,x=(d[e+1]+t.offsetY)*t.scaleY,A=(d[i]+t.offsetX)*t.scaleX,E=(d[i+1]+t.offsetY)*t.scaleY,w=(d[a]+t.offsetX)*t.scaleX,C=(d[a+1]+t.offsetY)*t.scaleY;if(x>=C)return;const T=f[o],N=f[o+1],R=f[o+2],O=f[c],P=f[c+1],V=f[c+2],K=f[u],nt=f[u+1],et=f[u+2],mt=Math.round(x),yt=Math.round(C);let ht,Et,B,H,tt,$,X,D;for(let F=mt;F<=yt;F++){if(F<E){const rt=F<x?0:(x-F)/(x-E);ht=b-(b-A)*rt,Et=T-(T-O)*rt,B=N-(N-P)*rt,H=R-(R-V)*rt}else{let rt;F>C?rt=1:E===C?rt=0:rt=(E-F)/(E-C),ht=A-(A-w)*rt,Et=O-(O-K)*rt,B=P-(P-nt)*rt,H=V-(V-et)*rt}let G;F<x?G=0:F>C?G=1:G=(x-F)/(x-C),tt=b-(b-w)*G,$=T-(T-K)*G,X=N-(N-nt)*G,D=R-(R-et)*G;const J=Math.round(Math.min(ht,tt)),st=Math.round(Math.max(ht,tt));let ut=m*F+J*4;for(let rt=J;rt<=st;rt++)G=(ht-rt)/(ht-tt),G<0?G=0:G>1&&(G=1),p[ut++]=Et-(Et-$)*G|0,p[ut++]=B-(B-X)*G|0,p[ut++]=H-(H-D)*G|0,p[ut++]=255}}function TL(r,t,e){const i=t.coords,a=t.colors;let o,c;switch(t.type){case Gf.LATTICE:const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let m=0;m<f;m++,p++)ff(r,e,i[p],i[p+1],i[p+u],a[p],a[p+1],a[p+u]),ff(r,e,i[p+u+1],i[p+1],i[p+u],a[p+u+1],a[p+1],a[p+u])}break;case Gf.TRIANGLES:for(o=0,c=i.length;o<c;o+=3)ff(r,e,i[o],i[o+1],i[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class CL extends $p{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=f/m,x=p/v,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/b,scaleY:1/x},E=m+4,w=v+4,C=i.getCanvas("mesh",E,w),T=C.context,N=T.createImageData(m,v);if(e){const O=N.data;for(let P=0,V=O.length;P<V;P+=4)O[P]=e[0],O[P+1]=e[1],O[P+2]=e[2],O[P+3]=255}for(const O of this._figures)TL(N,O,A);return T.putImageData(N,2,2),{canvas:C.canvas,offsetX:u-2*b,offsetY:d-2*x,scaleX:b,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){Zf(t,this._bbox);const o=new Float32Array(2);if(a===ze.SHADING)it.singularValueDecompose2dScale(ee(t),o);else if(this.matrix){it.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;it.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else it.singularValueDecompose2dScale(e.baseTransform,o);const c=this._createMeshCanvas(o,a===ze.SHADING?null:this._background,e.cachedCanvases);return a!==ze.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class _L extends $p{getPattern(){return"hotpink"}}function ML(r){switch(r[0]){case"RadialAxial":return new EL(r);case"Mesh":return new CL(r);case"Dummy":return new _L}throw new Error(`Unknown IR type: ${r[0]}`)}const bA={COLORED:1,UNCOLORED:2};class Kp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t,e){const{bbox:i,operatorList:a,paintType:o,tilingType:c,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Hc("TilingType: "+c);const m=i[0],v=i[1],b=i[2],x=i[3],A=b-m,E=x-v,w=new Float32Array(2);it.singularValueDecompose2dScale(this.matrix,w);const[C,T]=w;it.singularValueDecompose2dScale(this.baseTransform,w);const N=C*w[0],R=T*w[1];let O=A,P=E,V=!1,K=!1;const nt=Math.ceil(f*N),et=Math.ceil(p*R),mt=Math.ceil(A*N),yt=Math.ceil(E*R);nt>=mt?O=f:V=!0,et>=yt?P=p:K=!0;const ht=this.getSizeAndScale(O,this.ctx.canvas.width,N),Et=this.getSizeAndScale(P,this.ctx.canvas.height,R),B=t.cachedCanvases.getCanvas("pattern",ht.size,Et.size),H=B.context,tt=d.createCanvasGraphics(H,e);if(tt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(tt,o,u),H.translate(-ht.scale*m,-Et.scale*v),tt.transform(0,ht.scale,0,0,Et.scale,0,0),H.save(),tt.dependencyTracker?.save(),this.clipBbox(tt,m,v,b,x),tt.baseTransform=ee(tt.ctx),tt.executeOperatorList(a),tt.endDrawing(),tt.dependencyTracker?.restore(),H.restore(),V||K){const $=B.canvas;V&&(O=f),K&&(P=p);const X=this.getSizeAndScale(O,this.ctx.canvas.width,N),D=this.getSizeAndScale(P,this.ctx.canvas.height,R),F=X.size,G=D.size,J=t.cachedCanvases.getCanvas("pattern-workaround",F,G),st=J.context,ut=V?Math.floor(A/f):0,rt=K?Math.floor(E/p):0;for(let Ct=0;Ct<=ut;Ct++)for(let at=0;at<=rt;at++)st.drawImage($,F*Ct,G*at,F,G,0,0,F,G);return{canvas:J.canvas,scaleX:X.scale,scaleY:D.scale,offsetX:m,offsetY:v}}return{canvas:B.canvas,scaleX:ht.scale,scaleY:Et.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,i){const a=Math.max(Kp.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=a?o=a:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,a,o){const c=a-e,u=o-i;t.ctx.rect(e,i,c,u),it.axialAlignedBoundingBox([e,i,a,o],ee(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,o=t.current;switch(e){case bA.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;a.fillStyle=o.fillColor=c,a.strokeStyle=o.strokeColor=u;break;case bA.UNCOLORED:a.fillStyle=a.strokeStyle=i,o.fillColor=o.strokeColor=i;break;default:throw new zN(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a,o){let c=i;a!==ze.SHADING&&(c=it.transform(c,e.baseTransform),this.matrix&&(c=it.transform(c,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(c);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function DL({src:r,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const u=Ce.isLittleEndian?4278190080:255,[d,f]=c?[o,u]:[u,o],p=i>>3,m=i&7,v=r.length;e=new Uint32Array(e.buffer);let b=0;for(let x=0;x<a;x++){for(const E=t+p;t<E;t++){const w=t<v?r[t]:255;e[b++]=w&128?f:d,e[b++]=w&64?f:d,e[b++]=w&32?f:d,e[b++]=w&16?f:d,e[b++]=w&8?f:d,e[b++]=w&4?f:d,e[b++]=w&2?f:d,e[b++]=w&1?f:d}if(m===0)continue;const A=t<v?r[t++]:255;for(let E=0;E<m;E++)e[b++]=A&1<<7-E?f:d}return{srcPos:t,destPos:b}}const AA=16,xA=100,RL=15,SA=10,sn=16,pf=new DOMMatrix,yn=new Float32Array(2),Ba=new Float32Array([1/0,1/0,-1/0,-1/0]);function NL(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},r.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},r.transform=function(e,i,a,o,c,u){t.transform(e,i,a,o,c,u),this.__originalTransform(e,i,a,o,c,u)},r.setTransform=function(e,i,a,o,c,u){t.setTransform(e,i,a,o,c,u),this.__originalSetTransform(e,i,a,o,c,u)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},r.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},r.bezierCurveTo=function(e,i,a,o,c,u){t.bezierCurveTo(e,i,a,o,c,u),this.__originalBezierCurveTo(e,i,a,o,c,u)},r.rect=function(e,i,a,o){t.rect(e,i,a,o),this.__originalRect(e,i,a,o)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class LL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function oc(r,t,e,i,a,o,c,u,d,f){const[p,m,v,b,x,A]=ee(r);if(m===0&&v===0){const C=c*p+x,T=Math.round(C),N=u*b+A,R=Math.round(N),O=(c+d)*p+x,P=Math.abs(Math.round(O)-T)||1,V=(u+f)*b+A,K=Math.abs(Math.round(V)-R)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(b),T,R),r.drawImage(t,e,i,a,o,0,0,P,K),r.setTransform(p,m,v,b,x,A),[P,K]}if(p===0&&b===0){const C=u*v+x,T=Math.round(C),N=c*m+A,R=Math.round(N),O=(u+f)*v+x,P=Math.abs(Math.round(O)-T)||1,V=(c+d)*m+A,K=Math.abs(Math.round(V)-R)||1;return r.setTransform(0,Math.sign(m),Math.sign(v),0,T,R),r.drawImage(t,e,i,a,o,0,0,K,P),r.setTransform(p,m,v,b,x,A),[K,P]}r.drawImage(t,e,i,a,o,c,u,d,f);const E=Math.hypot(p,m),w=Math.hypot(v,b);return[E*d,w*f]}class wA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Hf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=we.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ba.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ze.FILL,e=null){const i=this.minMax.slice();if(t===ze.STROKE){e||Ut("Stroke bounding box must include transform."),it.singularValueDecompose2dScale(e,yn);const a=yn[0]*this.lineWidth/2,o=yn[1]*this.lineWidth/2;i[0]-=a,i[1]-=o,i[2]+=a,i[3]+=o}return i}updateClipFromPath(){const t=it.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ba,0)}getClippedPathBoundingBox(t=ze.FILL,e=null){return it.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function EA(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%sn,o=(e-a)/sn,c=a===0?o:o+1,u=r.createImageData(i,sn);let d=0,f;const p=t.data,m=u.data;let v,b,x,A;if(t.kind===xc.GRAYSCALE_1BPP){const E=p.byteLength,w=new Uint32Array(m.buffer,0,m.byteLength>>2),C=w.length,T=i+7>>3,N=4294967295,R=Ce.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(x=v<o?sn:a,f=0,b=0;b<x;b++){const O=E-d;let P=0;const V=O>T?i:O*8-7,K=V&-8;let nt=0,et=0;for(;P<K;P+=8)et=p[d++],w[f++]=et&128?N:R,w[f++]=et&64?N:R,w[f++]=et&32?N:R,w[f++]=et&16?N:R,w[f++]=et&8?N:R,w[f++]=et&4?N:R,w[f++]=et&2?N:R,w[f++]=et&1?N:R;for(;P<V;P++)nt===0&&(et=p[d++],nt=128),w[f++]=et&nt?N:R,nt>>=1}for(;f<C;)w[f++]=0;r.putImageData(u,0,v*sn)}}else if(t.kind===xc.RGBA_32BPP){for(b=0,A=i*sn*4,v=0;v<o;v++)m.set(p.subarray(d,d+A)),d+=A,r.putImageData(u,0,b),b+=sn;v<c&&(A=i*a*4,m.set(p.subarray(d,d+A)),r.putImageData(u,0,b))}else if(t.kind===xc.RGB_24BPP)for(x=sn,A=i*x,v=0;v<c;v++){for(v>=o&&(x=a,A=i*x),f=0,b=A;b--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;r.putImageData(u,0,v*sn)}else throw new Error(`bad image kind: ${t.kind}`)}function TA(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%sn,o=(e-a)/sn,c=a===0?o:o+1,u=r.createImageData(i,sn);let d=0;const f=t.data,p=u.data;for(let m=0;m<c;m++){const v=m<o?sn:a;({srcPos:d}=DL({src:f,srcPos:d,dest:p,width:i,height:v,nonBlackColor:0})),r.putImageData(u,0,m*sn)}}function Wr(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)r[i]!==void 0&&(t[i]=r[i]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function lc(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function CA(r,t){if(t)return!0;it.singularValueDecompose2dScale(r,yn);const e=Math.fround(ni.pixelRatio*Xa.PDF_TO_CSS_UNITS);return yn[0]<=e&&yn[1]<=e}const OL=["butt","round","square"],kL=["miter","round","bevel"],PL={},_A={};class Va{constructor(t,e,i,a,o,{optionalContentConfig:c,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new wA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new LL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ee(this.compositeCtx))}this.ctx.save(),lc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ee(this.ctx)}executeOperatorList(t,e,i,a,o){const c=t.argsArray,u=t.fnArray;let d=e||0;const f=c.length;if(f===d)return d;const p=f-d>SA&&typeof i=="function",m=p?Date.now()+RL:0;let v=0;const b=this.commonObjs,x=this.objs;let A,E;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,i),d;if(!o||o(d))if(A=u[d],E=c[d]??null,A!==vo.dependency)E===null?this[A](d):this[A](d,...E);else for(const w of E){this.dependencyTracker?.recordNamedData(w,d);const C=w.startsWith("g_")?b:x;if(!C.has(w))return C.get(w,i),d}if(d++,d===f)return d;if(p&&++v>SA){if(Date.now()>m)return i(),d;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=a,f="prescale1",p,m;for(;o>2&&u>1||c>2&&d>1;){let v=u,b=d;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),c>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/b),p=this.cachedCanvases.getCanvas(f,v,b),m=p.context,m.clearRect(0,0,v,b),m.drawImage(t,0,0,u,d,0,0,v,b),t=p.canvas,u=v,d=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:a,height:o}=e,c=this.current.fillColor,u=this.current.patternFill,d=ee(i);let f,p,m,v;if((e.bitmap||e.data)&&e.count>1){const nt=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),c]),f=this._cachedBitmapsMap.get(nt),f||(f=new Map,this._cachedBitmapsMap.set(nt,f));const et=f.get(p);if(et&&!u){const mt=Math.round(Math.min(d[0],d[2])+d[4]),yt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Dn.transformAndFill),{canvas:et,offsetX:mt,offsetY:yt}}m=et}m||(v=this.cachedCanvases.getCanvas("maskCanvas",a,o),TA(v.context,e));let b=it.transform(d,[1/a,0,0,-1/o,0,0]);b=it.transform(b,[1,0,0,1,0,-o]);const x=Ba.slice();it.axialAlignedBoundingBox([0,0,a,o],b,x);const[A,E,w,C]=x,T=Math.round(w-A)||1,N=Math.round(C-E)||1,R=this.cachedCanvases.getCanvas("fillCanvas",T,N),O=R.context,P=A,V=E;O.translate(-P,-V),O.transform(...b),m||(m=this._scaleImage(v.canvas,Yn(O)),m=m.img,f&&u&&f.set(p,m)),O.imageSmoothingEnabled=CA(ee(O),e.interpolate),oc(O,m,0,0,m.width,m.height,0,0,a,o),O.globalCompositeOperation="source-in";const K=it.transform(Yn(O),[1,0,0,1,-P,-V]);return O.fillStyle=u?c.getPattern(i,this,K,ze.FILL,t):c,O.fillRect(0,0,a,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,R.canvas)),this.dependencyTracker?.recordDependencies(t,Dn.transformAndFill),{canvas:R.canvas,offsetX:Math.round(P),offsetY:Math.round(V)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=OL[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=kL[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(t,a);break;case"LC":this.setLineCap(t,a);break;case"LJ":this.setLineJoin(t,a);break;case"ML":this.setMiterLimit(t,a);break;case"D":this.setDash(t,a[0],a[1]);break;case"RI":this.setRenderingIntent(t,a);break;case"FL":this.setFlatness(t,a);break;case"Font":this.setFont(t,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx;const c=this.ctx=o.context;c.setTransform(this.suspendedCtx.getTransform()),Wr(this.suspendedCtx,c),NL(c,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const o=a[0],c=a[1],u=a[2]-o,d=a[3]-c;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,o,c,u,d,f,p,m){let v=t.canvas,b=d-p,x=f-m;if(c)if(b<0||x<0||b+i>v.width||x+a>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,a),w=E.context;w.drawImage(v,-b,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=c,w.fillRect(0,0,i,a),w.globalCompositeOperation="source-over",v=E.canvas,b=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,x,i,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(b,x,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(d,f,i,a),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(v,b,x,i,a,d,f,i,a),e.restore()}save(t){this.inSMaskMode&&Wr(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Wr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,o,c,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,a,o,c,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,a){let[o]=i;if(!a){o||=i[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const c=e===vo.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,a[0]-c,a[2]+c,a[1]-c,a[3]+c).recordDependencies(t,["transform"])}o instanceof Path2D||(o=i[0]=W1(o)),it.axialAlignedBoundingBox(a,ee(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const a=this.ctx,o=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const c=o.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=o.getPattern(a,this,Yn(a),ze.STROKE,t),c){const u=new Path2D;u.addPath(e,a.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Dn.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ze.STROKE,ee(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const a=this.ctx,o=this.current.fillColor,c=this.current.patternFill;let u=!1;if(c){const f=o.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(t),a.save(),a.fillStyle=o.getPattern(a,this,Yn(a),ze.FILL,t),f){const p=new Path2D;p.addPath(e,a.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),this.dependencyTracker?.recordDependencies(t,Dn.fill),u&&(a.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Dn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=PL}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=_A}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;e!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",t),a.recordCloseMarker(t)}if(e!==void 0){const a=new Path2D,o=i.getTransform().invertSelf();for(const{transform:c,x:u,y:d,fontSize:f,path:p}of e)p&&a.addPath(p,new DOMMatrix(c).preMultiplySelf(o).translate(u,d).scale(f,-f));i.clip(a)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),o=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=a.fontMatrix||Hf,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&bt("Invalid font matrix for font "+e),i<0?(i=-i,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const c=a.loadedName||"sans-serif",u=a.systemFontInfo?.css||`"${c}", ${a.fallbackName}`;let d="normal";a.black?d="900":a.bold&&(d="bold");const f=a.italic?"italic":"normal";let p=i;i<AA?p=AA:i>xA&&(p=xA),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a}paintChar(t,e,i,a,o,c){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,v=p&we.FILL_STROKE_MASK,b=!!(p&we.ADD_TO_PATH_FLAG),x=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||b||x||A)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||x||A)){u.save(),u.translate(i,a),u.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,u,f);let w;if(v===we.FILL||v===we.FILL_STROKE)if(o){w=u.getTransform(),u.setTransform(...o);const C=this.#i(E,w,o);u.fill(C)}else u.fill(E);if(v===we.STROKE||v===we.FILL_STROKE)if(c){w||=u.getTransform(),u.setTransform(...c);const{a:C,b:T,c:N,d:R}=w,O=it.inverseTransform(c),P=it.transform([C,T,N,R,0,0],O);it.singularValueDecompose2dScale(P,yn),u.lineWidth*=Math.max(yn[0],yn[1])/m,u.stroke(this.#i(E,w,c))}else u.lineWidth/=m,u.stroke(E);u.restore()}else(v===we.FILL||v===we.FILL_STROKE)&&(u.fillText(e,i,a),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,i,a,()=>u.measureText(e))),(v===we.STROKE||v===we.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,m,i,a,()=>u.measureText(e)).recordDependencies(t,Dn.stroke),u.strokeText(e,i,a));b&&((this.pendingTextPaths||=[]).push({transform:ee(u),x:i,y:a,fontSize:m,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,i,a))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return At(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Dn.showText).resetBBox(t),this.current.textRenderingMode&we.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;if(a.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=i.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const c=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,m=i.textHScale*p,v=e.length,b=a.vertical,x=b?1:-1,A=a.defaultVMetrics,E=o*i.fontMatrix[0],w=i.textRenderingMode===we.FILL&&!a.disableFontFace&&!i.patternFill;c.save(),i.textMatrix&&c.transform(...i.textMatrix),c.translate(i.x,i.y+i.textRise),p>0?c.scale(m,-1):c.scale(m,1);let C,T;const N=i.textRenderingMode&we.FILL_STROKE_MASK,R=N===we.FILL||N===we.FILL_STROKE,O=N===we.STROKE||N===we.FILL_STROKE;if(R&&i.patternFill){c.save();const et=i.fillColor.getPattern(c,this,Yn(c),ze.FILL,t);C=ee(c),c.restore(),c.fillStyle=et}if(O&&i.patternStroke){c.save();const et=i.strokeColor.getPattern(c,this,Yn(c),ze.STROKE,t);T=ee(c),c.restore(),c.strokeStyle=et}let P=i.lineWidth;const V=i.textMatrixScale;if(V===0||P===0?O&&(P=this.getSinglePixelWidth()):P/=V,u!==1&&(c.scale(u,u),P/=u),c.lineWidth=P,a.isInvalidPDFjsFont){const et=[];let mt=0;for(const ht of e)et.push(ht.unicode),mt+=ht.width;const yt=et.join("");if(c.fillText(yt,0,0),this.dependencyTracker!==null){const ht=c.measureText(yt);this.dependencyTracker.recordBBox(t,this.ctx,-ht.actualBoundingBoxLeft,ht.actualBoundingBoxRight,-ht.actualBoundingBoxAscent,ht.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=mt*E*m,c.restore(),this.compose();return}let K=0,nt;for(nt=0;nt<v;++nt){const et=e[nt];if(typeof et=="number"){K+=x*et*o/1e3;continue}let mt=!1;const yt=(et.isSpace?f:0)+d,ht=et.fontChar,Et=et.accent;let B,H,tt=et.width;if(b){const D=et.vmetric||A,F=-(et.vmetric?D[1]:tt*.5)*E,G=D[2]*E;tt=D?-D[0]:tt,B=F/u,H=(K+G)/u}else B=K/u,H=0;let $;if(a.remeasure&&tt>0){$=c.measureText(ht);const D=$.width*1e3/o*u;if(tt<D&&this.isFontSubpixelAAEnabled){const F=tt/D;mt=!0,c.save(),c.scale(F,1),B/=F}else tt!==D&&(B+=(tt-D)/2e3*o/u)}if(this.contentVisible&&(et.isInFont||a.missingFile)){if(w&&!Et)c.fillText(ht,B,H),this.dependencyTracker?.recordCharacterBBox(t,c,$?{bbox:null}:a,o/u,B,H,()=>$??c.measureText(ht));else if(this.paintChar(t,ht,B,H,C,T),Et){const D=B+o*Et.offset.x/u,F=H-o*Et.offset.y/u;this.paintChar(t,Et.fontChar,D,F,C,T)}}const X=b?tt*E-yt*p:tt*E+yt*p;K+=X,mt&&c.restore()}b?i.y-=K:i.x+=K*m,c.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,a=this.current,o=a.font,c=a.fontSize,u=a.fontDirection,d=o.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,m=a.textHScale*u,v=a.fontMatrix||Hf,b=e.length,x=a.textRenderingMode===we.INVISIBLE;let A,E,w,C;if(x||c===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),a.textMatrix&&i.transform(...a.textMatrix),i.translate(a.x,a.y+a.textRise),i.scale(m,u);const T=this.dependencyTracker;for(this.dependencyTracker=T?new Oc(T,t):null,A=0;A<b;++A){if(E=e[A],typeof E=="number"){C=d*E*c/1e3,this.ctx.translate(C,0),a.x+=C*m;continue}const N=(E.isSpace?p:0)+f,R=o.charProcOperatorList[E.operatorListId];R?this.contentVisible&&(this.save(),i.scale(c,c),i.transform(...v),this.executeOperatorList(R),this.restore()):bt(`Type3 character "${E.operatorListId}" is not available.`);const O=[E.width,0];it.applyTransform(O,v),w=O[0]*c+N,i.translate(w,0),a.x+=w*m}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,a,o,c,u){const d=new Path2D;d.rect(a,o,c-a,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,a,c,o,u).recordClipBox(t,this.ctx,a,c,o,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const a=this.baseTransform||ee(this.ctx),o={createCanvasGraphics:(c,u)=>new Va(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Oc(this.dependencyTracker,u,!0):null)};i=new Kp(e,this.ctx,o,a)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=ML(this.getObject(t,e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const a=this._getPattern(t,e);i.fillStyle=a.getPattern(i,this,Yn(i),ze.SHADING,t);const o=Yn(i);if(o){const{width:c,height:u}=i.canvas,d=Ba.slice();it.axialAlignedBoundingBox([0,0,c,u],o,d);const[f,p,m,v]=d;this.ctx.fillRect(f,p,m-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Dn.transform).recordDependencies(t,Dn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Ut("Should not call beginInlineImage")}beginImageData(){Ut("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=ee(this.ctx),i)){it.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,o,c,u]=i,d=new Path2D;d.rect(a,o,c-a,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,a,c,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Hc("TODO: Support non-isolated groups."),e.knockout&&bt("Knockout groups not supported.");const a=ee(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Ba.slice();it.axialAlignedBoundingBox(e.bbox,ee(i),o);const c=[0,0,i.canvas.width,i.canvas.height];o=it.intersect(o,c)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,p),b=v.context;b.translate(-u,-d),b.transform(...a);let x=new Path2D;const[A,E,w,C]=e.bbox;if(x.rect(A,E,w-A,C-E),e.matrix){const T=new Path2D;T.addPath(x,new DOMMatrix(e.matrix)),x=T}b.clip(x),e.smask&&this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),Wr(i,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=ee(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const c=Ba.slice();it.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,a,o,c){if(this.#t(),lc(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(c&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,it.singularValueDecompose2dScale(ee(this.ctx),yn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:v,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(yn[0],0,0,-yn[1],0,d*yn[1]),lc(this.ctx)}else{lc(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new wA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...a),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const a=this.ctx,o=this._createMaskCanvas(t,e),c=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+c.width,o.offsetY,o.offsetY+c.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,a=0,o=0,c,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=ee(d);d.transform(i,a,o,c,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,v=u.length;m<v;m+=2){const b=it.transform(f,[i,a,o,c,u[m],u[m+1]]);d.drawImage(p.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(t,this.ctx,b[4],b[4]+p.canvas.width,b[5],b[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Dn.transformAndFill);for(const c of e){const{data:u,width:d,height:f,transform:p}=c,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const b=this.getObject(t,u,c);TA(v,b),v.globalCompositeOperation="source-in",v.fillStyle=o?a.getPattern(v,this,Yn(i),ze.FILL,t):a,v.fillRect(0,0,d,f),v.restore(),i.save(),i.transform(...p),i.scale(1,-1),oc(i,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,a,o){if(!this.contentVisible)return;const c=this.getObject(t,e);if(!c){bt("Dependent image isn't ready yet");return}const u=c.width,d=c.height,f=[];for(let p=0,m=o.length;p<m;p+=2)f.push({transform:[i,0,0,a,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,c,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,a),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,a=e.height,o=this.ctx;this.save(t);const{filter:c}=o;c!=="none"&&c!==""&&(o.filter="none"),o.scale(1/i,-1/a);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,a).context;EA(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,Yn(o));o.imageSmoothingEnabled=CA(ee(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,i,-a,0).recordDependencies(t,Dn.imageXObject).recordOperation(t),oc(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,i,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const a=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const c=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;EA(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const c of i)a.save(),a.transform(...c.transform),a.scale(1,-1),oc(a,o,c.x,c.y,c.w,c.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Dn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const o=this.ctx;this.pendingClip?(a||(this.pendingClip===_A?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ee(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:o}=this.ctx.getTransform();let c,u;if(i===0&&a===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)c=u=1/d;else{const p=d*t;c=u=p<1?1/p:1}else if(t===0)c=1/d,u=1/f;else{const p=d*t,m=f*t;c=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(e*o-i*a),f=Math.hypot(e,i),p=Math.hypot(a,o);if(t===0)c=p/d,u=f/d;else{const m=t*d;c=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[o,c]=this.getScaleForStroking();if(o===c){i.lineWidth=(a||1)*o,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(o,c),pf.a=1/o,pf.d=1/c;const d=new Path2D;if(d.addPath(t,pf),u.length>0){const f=Math.max(o,c);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=a||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in vo)Va.prototype[r]!==void 0&&(Va.prototype[vo[r]]=Va.prototype[r]);class Ha{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class BL{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Ma=Symbol("INTERNAL");class jL{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:a,rbGroups:o}){this.#t=!!(t&mn.DISPLAY),this.#e=!!(t&mn.PRINT),this.name=e,this.intent=i,this.usage=a,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==Ma&&Ut("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class FL{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=mn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new jL(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(Ma,!1);for(const i of t.on)this.#e.get(i)._setVisible(Ma,!0);for(const i of t.off)this.#e.get(i)._setVisible(Ma,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const o=t[a];let c;if(Array.isArray(o))c=this.#a(o);else if(this.#e.has(o))c=this.#e.get(o).visible;else return bt(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Hc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return bt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return bt(`Unknown optional content policy ${t.policy}.`),!0}return bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const a=this.#e.get(t);if(!a){bt(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const c of o)c!==t&&this.#e.get(c)?._setVisible(Ma,!1,!0);a._setVisible(Ma,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const o=this.#e.get(a);if(o)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Z1;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Yc{#t=null;#e=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(t,e,i){this._source=t,this.#t=e,this.#e=i}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return zt(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#t(this)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new this.#e(this,t,e);return this._rangeReaders.add(i),i}cancelAllRequests(t){this._fullReader?.cancel(t);for(const e of new Set(this._rangeReaders))e.cancel(t)}}class $c{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(t){this._stream=t}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){Ut("Abstract method `read` called")}cancel(t){Ut("Abstract method `cancel` called")}}class Kc{_stream=null;constructor(t,e,i){this._stream=t}async read(){Ut("Abstract method `read` called")}cancel(t){Ut("Abstract method `cancel` called")}}function MA(r){return r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer}class IL extends Yc{_progressiveDone=!1;_queuedChunks=[];constructor(t){super(t,zL,UL);const{pdfDataRangeTransport:e}=t,{initialData:i,progressiveDone:a}=e;if(i?.length>0){const o=MA(i);this._queuedChunks.push(o)}this._progressiveDone=a,e.addRangeListener((o,c)=>{this.#t(o,c)}),e.addProgressListener((o,c)=>{c!==void 0&&this._fullReader?.onProgress?.({loaded:o,total:c})}),e.addProgressiveReadListener(o=>{this.#t(void 0,o)}),e.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),e.transportReady()}#t(t,e){const i=MA(e);if(t===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.keys().find(o=>o._begin===t);zt(a,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),a._enqueue(i)}}getFullReader(){const t=super.getFullReader();return this._queuedChunks=null,t}getRangeReader(t,e){const i=super.getRangeReader(t,e);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(t,e)),i}cancelAllRequests(t){super.cancelAllRequests(t),this._source.pdfDataRangeTransport.abort()}}class zL extends $c{_done=!1;_queuedChunks=null;_requests=[];constructor(t){super(t);const{pdfDataRangeTransport:e,disableRange:i,disableStream:a}=t._source,{length:o,contentDispositionFilename:c}=e;this._queuedChunks=t._queuedChunks||[];for(const u of this._queuedChunks)this._loaded+=u.byteLength;this._done=t._progressiveDone,this._contentLength=o,this._isStreamingSupported=!a,this._isRangeSupported=!i,Hp(c)&&(this._filename=c),this._headersCapability.resolve()}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class UL extends Kc{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(t,e,i){super(t,e,i),this._begin=e}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function VL(r){let t=!0,e=i("filename\\*","i").exec(r);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=c(r),e){const p=f(e);return o(p)}if(e=i("filename","i").exec(r),e){e=e[1];let p=u(e);return p=f(p),o(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function a(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),b=Gc(m);m=v.decode(b),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function c(p){const m=[];let v;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=b.exec(p))!==null;){let[,A,E,w]=v;if(A=parseInt(A,10),A in m){if(A===0)break;continue}m[A]=[E,w]}const x=[];for(let A=0;A<m.length&&A in m;++A){let[E,w]=m[A];w=u(w),E&&(w=unescape(w),A===0&&(w=d(w))),x.push(w)}return x.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const b=m[v].indexOf('"');b!==-1&&(m[v]=m[v].slice(0,b),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),x=p.slice(m+1).replace(/^[^']*'/,"");return a(v,x)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,b,x){if(b==="q"||b==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),a(v,x);try{x=atob(x)}catch{}return a(v,x)})}return""}function aS(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function Wc(r){return URL.parse(r)?.origin??null}function rS({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||i||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function oS(r){const t=r.get("Content-Disposition");if(t){let e=VL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Hp(e))return e}return null}function Qc(r,t){return new Lc(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function lS(r,t){if(r!==t)throw new Error(`Expected range response-origin "${r}" to match "${t}".`)}function cS(r,t,e,i){return fetch(r,{method:"GET",headers:t,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"})}function uS(r,t){if(r!==200&&r!==206)throw Qc(r,t)}function hS(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(bt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class HL extends Yc{_responseOrigin=null;constructor(t){super(t,GL,qL),this.isHttp=/^https?:/i.test(t.url),this.headers=aS(this.isHttp,t.httpHeaders)}}class GL extends $c{_abortController=new AbortController;_reader=null;constructor(t){super(t);const{disableRange:e,disableStream:i,length:a,rangeChunkSize:o,url:c,withCredentials:u}=t._source;this._contentLength=a,this._isStreamingSupported=!i,this._isRangeSupported=!e;const d=new Headers(t.headers);cS(c,d,u,this._abortController).then(f=>{t._responseOrigin=Wc(f.url),uS(f.status,c),this._reader=f.body.getReader();const p=f.headers,{allowRangeRequests:m,suggestedLength:v}=rS({responseHeaders:p,isHttp:t.isHttp,rangeChunkSize:o,disableRange:e});this._isRangeSupported=m,this._contentLength=v||this._contentLength,this._filename=oS(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new as("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hS(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class qL extends Kc{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(t,e,i){super(t,e,i);const{url:a,withCredentials:o}=t._source,c=new Headers(t.headers);c.append("Range",`bytes=${e}-${i-1}`),cS(a,c,o,this._abortController).then(u=>{const d=Wc(u.url);lS(d,t._responseOrigin),uS(u.status,a),this._reader=u.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:{value:hS(t),done:!1}}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const mf=200,DA=206;function XL(r){return typeof r!="string"?r:Gc(r).buffer}class YL extends Yc{#t=new WeakMap;_responseOrigin=null;constructor(t){super(t,$L,KL),this.url=t.url,this.isHttp=/^https?:/i.test(this.url),this.headers=aS(this.isHttp,t.httpHeaders)}_request(t){const e=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:t.onHeadersReceived,onDone:t.onDone,onError:t.onError,onProgress:t.onProgress};this.#t.set(e,i),e.open("GET",this.url),e.withCredentials=this._source.withCredentials;for(const[a,o]of this.headers)e.setRequestHeader(a,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.validateStatus=a=>a===DA||a===mf):i.validateStatus=a=>a===mf,e.responseType="arraybuffer",zt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>t.onError(e.status),e.onreadystatechange=this.#i.bind(this,e),e.onprogress=this.#e.bind(this,e),e.send(null),e}#e(t,e){this.#t.get(t)?.onProgress?.(e)}#i(t,e){const i=this.#t.get(t);if(!i||(t.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),t.readyState!==4)||!this.#t.has(t))return;if(this.#t.delete(t),t.status===0&&this.isHttp){i.onError(t.status);return}const a=t.status||mf;if(!i.validateStatus(a)){i.onError(t.status);return}const o=XL(t.response);if(a===DA){const c=t.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(c)?i.onDone(o):(bt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone(o):i.onError(t.status)}_abortRequest(t){this.#t.has(t)&&(this.#t.delete(t),t.abort())}getRangeReader(t,e){const i=super.getRangeReader(t,e);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}class $L extends $c{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(t){super(t);const{length:e}=t._source;this._contentLength=e,this._fullRequestXhr=t._request({onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:this.#n.bind(this)})}#t(){const t=this._stream,{disableRange:e,rangeChunkSize:i}=t._source,a=this._fullRequestXhr;t._responseOrigin=Wc(a.responseURL);const o=a.getAllResponseHeaders(),c=new Headers(o?o.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(f=>{const[p,...m]=f.split(": ");return[p,m.join(": ")]}):[]),{allowRangeRequests:u,suggestedLength:d}=rS({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:i,disableRange:e});u&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=oS(c),this._isRangeSupported&&t._abortRequest(a),this._headersCapability.resolve()}#e(t){if(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._cachedChunks.push(t),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}#i(t){this._storedError=Qc(t,this._stream.url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class KL extends Kc{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(t,e,i){super(t,e,i),this._requestXhr=t._request({begin:e,end:i,onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:null})}#t(){const t=Wc(this._requestXhr?.responseURL);try{lS(t,this._stream._responseOrigin)}catch(e){this._storedError=e,this.#i(0)}}#e(t){this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#i(t){this._storedError??=Qc(t,this._stream.url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const WL=/^[a-z][a-z0-9\-+.]+:/i;function QL(r){if(WL.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}function dS(r){const{Readable:t}=process.getBuiltinModule("stream");return typeof t.toWeb=="function"?t.toWeb(r):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(r)}function fS(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(bt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class ZL extends Yc{constructor(t){super(t,JL,tO),this.url=QL(t.url),zt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class JL extends $c{_reader=null;constructor(t){super(t);const{disableRange:e,disableStream:i,length:a,rangeChunkSize:o}=t._source;this._contentLength=a,this._isStreamingSupported=!i,this._isRangeSupported=!e;const c=t.url,u=process.getBuiltinModule("fs");u.promises.lstat(c).then(d=>{const f=u.createReadStream(c),p=dS(f);this._reader=p.getReader();const{size:m}=d;m<=2*o&&(this._isRangeSupported=!1),this._contentLength=m,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new as("Streaming is disabled.")),this._headersCapability.resolve()}).catch(d=>{d.code==="ENOENT"&&(d=Qc(0,c.href)),this._headersCapability.reject(d)})}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:fS(t),done:!1})}cancel(t){this._reader?.cancel(t)}}class tO extends Kc{_readCapability=Promise.withResolvers();_reader=null;constructor(t,e,i){super(t,e,i);const a=t.url,o=process.getBuiltinModule("fs");try{const c=o.createReadStream(a,{start:e,end:i-1}),u=dS(c);this._reader=u.getReader(),this._readCapability.resolve()}catch(c){this._readCapability.reject(c)}}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:{value:fS(t),done:!1}}cancel(t){this._reader?.cancel(t)}}const Qr=Symbol("INITIAL_DATA");class pS{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Qr}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const i=this.#t[t];if(!i||i.data===Qr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Qr}delete(t){const e=this.#t[t];return!e||e.data===Qr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Qr&&(yield[t,e])}}}const eO=1e5,RA=30;class gn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#r=null;#s=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#T=new WeakMap;static#w=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*ni.pixelRatio,this.#d=i.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:c,pageY:u}=i.rawDims;this.#y=[1,0,0,-1,-c,u+o],this.#o=a,this.#s=o,gn.#D(),e.style.setProperty("--min-font-size",gn.#w),Bs(e,i),this.#t.promise.finally(()=>{gn.#x.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ce.platform;return At(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),gn.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*ni.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,Bs(this.#l,{rotation:a})),i!==this.#h){e?.(),this.#h=i;const o={div:null,properties:null,ctx:gn.#R(this.#a)};for(const c of this.#u)o.properties=this.#p.get(c),o.div=c,this.#E(o)}}cancel(){const t=new as("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#r.ctx??=gn.#R(this.#a);const e=this.#u,i=this.#g;for(const a of t){if(e.length>eO){bt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),a.tag==="Artifact"&&(this.#e.ariaHidden=!0),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#A(a)}}#A(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const a=it.transform(this.#y,t.transform);let o=Math.atan2(a[1],a[0]);const c=this.#f[t.fontName];c.vertical&&(o+=Math.PI/2);let u=this.#n&&c.fontSubstitution||c.fontFamily;u=gn.fontFamilyMap.get(u)||u;const d=Math.hypot(a[2],a[3]),f=d*gn.#j(u,c,this.#a);let p,m;o===0?(p=a[4],m=a[5]-f):(p=a[4]+f*Math.sin(o),m=a[5]-f*Math.cos(o));const v=e.style;v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*m/this.#s).toFixed(2)}%`,v.setProperty("--font-height",`${d.toFixed(2)}px`),v.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);x!==A&&Math.max(x,A)/Math.min(x,A)>1.5&&(b=!0)}if(b&&(i.canvasWidth=c.vertical?t.height:t.width),this.#p.set(e,i),this.#r.div=e,this.#r.properties=i,this.#E(this.#r),i.hasText&&this.#e.append(e),i.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#e.append(x)}}#E(t){const{div:e,properties:i,ctx:a}=t,{style:o}=e;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=o,{canvasWidth:u,fontSize:d}=i;gn.#M(a,d*this.#h,c);const{width:f}=a.measureText(e.textContent);f>0&&o.setProperty("--scale-x",u*this.#h/f)}i.angle!==0&&o.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#T.set(e,{size:0,family:""})}return e}static#M(t,e,i){const a=this.#T.get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)}static#D(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#j(t,e,i){const a=this.#b.get(t);if(a)return a;const o=this.#R(i);o.canvas.width=o.canvas.height=RA,this.#M(o,RA,t);const c=o.measureText(""),u=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Ce.platform.isFirefox&&bt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}}const nO=100;function mS(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new Wp,{docId:e}=t,i=r.url?uL(r.url):null,a=r.data?hL(r.data):null,o=r.httpHeaders||null,c=r.withCredentials===!0,u=r.password??null,d=r.range instanceof gS?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Ao?r.worker:null;const m=r.verbosity,v=typeof r.docBaseUrl=="string"&&!qc(r.docBaseUrl)?r.docBaseUrl:null,b=ic(r.cMapUrl),x=r.cMapPacked!==!1,A=r.CMapReaderFactory||(Ge?bL:pA),E=ic(r.iccUrl),w=ic(r.standardFontDataUrl),C=r.StandardFontDataFactory||(Ge?AL:mA),T=ic(r.wasmUrl),N=r.WasmFactory||(Ge?xL:gA),R=r.stopAtErrors!==!0,O=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,P=r.isEvalSupported!==!1,V=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Ge,K=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Ge&&(Ce.platform.isFirefox||!globalThis.chrome),nt=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,et=typeof r.disableFontFace=="boolean"?r.disableFontFace:Ge,mt=r.fontExtraProperties===!0,yt=r.enableXfa===!0,ht=r.ownerDocument||globalThis.document,Et=r.disableRange===!0,B=r.disableStream===!0,H=r.disableAutoFetch===!0,tt=r.pdfBug===!0,$=r.CanvasFactory||(Ge?vL:mL),X=r.FilterFactory||(Ge?yL:gL),D=r.enableHWA===!0,F=r.useWasm!==!1,G=d?d.length:r.length??NaN,J=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Ge&&!et,st=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(A===pA&&C===mA&&N===gA&&b&&w&&T&&eo(b,document.baseURI)&&eo(w,document.baseURI)&&eo(T,document.baseURI)),ut=null;jN(m);const rt={canvasFactory:new $({ownerDocument:ht,enableHWA:D}),filterFactory:new X({docId:e,ownerDocument:ht}),cMapReaderFactory:st?null:new A({baseUrl:b,isCompressed:x}),standardFontDataFactory:st?null:new C({baseUrl:w}),wasmFactory:st?null:new N({baseUrl:T})};p||(p=Ao.create({verbosity:m,port:Ha.workerPort}),t._worker=p);const Ct={docId:e,apiVersion:"5.4.624",data:a,password:u,disableAutoFetch:H,rangeChunkSize:f,length:G,docBaseUrl:v,enableXfa:yt,evaluatorOptions:{maxImageSize:O,disableFontFace:et,ignoreErrors:R,isEvalSupported:P,isOffscreenCanvasSupported:V,isImageDecoderSupported:K,canvasMaxAreaInBytes:nt,fontExtraProperties:mt,useSystemFonts:J,useWasm:F,useWorkerFetch:st,cMapUrl:b,iccUrl:E,standardFontDataUrl:w,wasmUrl:T}},at={ownerDocument:ht,pdfBug:tt,styleElement:ut,enableHWA:D,loadingParams:{disableAutoFetch:H,enableXfa:yt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const vt=p.messageHandler.sendWithPromise("GetDocRequest",Ct,a?[a.buffer]:null);let Ot;if(d)Ot=new IL({pdfDataRangeTransport:d,disableRange:Et,disableStream:B});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const fe=eo(i)?HL:Ge?ZL:YL;Ot=new fe({url:i,length:G,httpHeaders:o,withCredentials:c,rangeChunkSize:f,disableRange:Et,disableStream:B})}return vt.then(fe=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _e=new no(e,fe,p.port),pe=new aO(_e,t,Ot,at,rt);t._transport=pe,_e.send("Ready",null)})}).catch(t._capability.reject),t}class Wp{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Wp.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class gS{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#a)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Ut("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class iO{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class sO{#t=!1;#e=Ft.instance;constructor(t,e,i,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new oA:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new pS,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(t){this._pageIndex=t-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}={}){return new Ro({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return At(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:a="display",annotationMode:o=ts.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1,recordOperations:b=!1,operationsFilter:x=null}){this._stats?.time("Overall");const A=this._transport.getRenderingIntent(a,o,m,v),{renderingIntent:E,cacheKey:w}=A;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let C=this._intentStates.get(w);C||(C=Object.create(null),this._intentStates.set(w,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const T=!!(E&mn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(A));const N=!!(this._pdfBug&&globalThis.StepperManager?.enabled),R=!this.recordedBBoxes&&(b||N),O=K=>{if(C.renderTasks.delete(P),R){const nt=P.gfx?.dependencyTracker.take();nt&&(P.stepper&&P.stepper.setOperatorBBoxes(nt,P.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=nt))}T&&(this.#t=!0),this.#i(),K?(P.capability.reject(K),this._abortOperatorList({intentState:C,reason:K instanceof Error?K:new Error(K)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new ja({callback:O,params:{canvas:e,canvasContext:t,dependencyTracker:R?new wL(e,C.operatorList.length,N):null,viewport:i,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:x});(C.renderTasks||=new Set).add(P);const V=P.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([K,nt])=>{if(this.destroyed){O();return}if(this._stats?.time("Rendering"),!(nt.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:K,optionalContentConfig:nt}),P.operatorListChanged()}).catch(O),V}getOperatorList({intent:t="display",annotationMode:e=ts.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>bo.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function o(){c.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},a)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#i();return t&&e&&(this._stats&&=new oA),e}#i(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#i()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:o,transfer:c}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#i()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Vp){let a=nO;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new as(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var es,zn,wi,Ls,Pc,Os,ks,Ye,Sc,yS,vS,io,Ga,wc;const te=class te{constructor({name:t=null,port:e=null,verbosity:i=FN()}={}){qn(this,Ye);qn(this,es,Promise.withResolvers());qn(this,zn,null);qn(this,wi,null);qn(this,Ls,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(Jt(te,ks).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Jt(te,ks).set(e,this),Xn(this,Ye,yS).call(this,e)}else Xn(this,Ye,vS).call(this)}get promise(){return Jt(this,es).promise}get port(){return Jt(this,wi)}get messageHandler(){return Jt(this,zn)}destroy(){this.destroyed=!0,Jt(this,Ls)?.terminate(),en(this,Ls,null),Jt(te,ks).delete(Jt(this,wi)),en(this,wi,null),Jt(this,zn)?.destroy(),en(this,zn,null)}static create(t){const e=Jt(this,ks).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new te(t)}static get workerSrc(){if(Ha.workerSrc)return Ha.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return At(this,"_setupFakeWorkerGlobal",(async()=>Jt(this,Ga,wc)?Jt(this,Ga,wc):(await import(this.workerSrc)).WorkerMessageHandler)())}};es=new WeakMap,zn=new WeakMap,wi=new WeakMap,Ls=new WeakMap,Pc=new WeakMap,Os=new WeakMap,ks=new WeakMap,Ye=new WeakSet,Sc=function(){Jt(this,es).resolve(),Jt(this,zn).send("configure",{verbosity:this.verbosity})},yS=function(t){en(this,wi,t),en(this,zn,new no("main","worker",t)),Jt(this,zn).on("ready",()=>{}),Xn(this,Ye,Sc).call(this)},vS=function(){if(Jt(te,Os)||Jt(te,Ga,wc)){Xn(this,Ye,io).call(this);return}let{workerSrc:t}=te;try{te._isSameOrigin(window.location,t)||(t=te._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new no("main","worker",e),a=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?Jt(this,es).reject(new Error("Worker was destroyed")):Xn(this,Ye,io).call(this)},o=new AbortController;e.addEventListener("error",()=>{Jt(this,Ls)||a()},{signal:o.signal}),i.on("test",u=>{if(o.abort(),this.destroyed||!u){a();return}en(this,zn,i),en(this,wi,e),en(this,Ls,e),Xn(this,Ye,Sc).call(this)}),i.on("ready",u=>{if(o.abort(),this.destroyed){a();return}try{c()}catch{Xn(this,Ye,io).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{Hc("The worker has been disabled.")}Xn(this,Ye,io).call(this)},io=function(){Jt(te,Os)||(bt("Setting up fake worker."),en(te,Os,!0)),te._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Jt(this,es).reject(new Error("Worker was destroyed"));return}const e=new pL;en(this,wi,e);const i=`fake${sv(te,Pc)._++}`,a=new no(i+"_worker",i,e);t.setup(a,e),en(this,zn,new no(i,i+"_worker",e)),Xn(this,Ye,Sc).call(this)}).catch(t=>{Jt(this,es).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ga=new WeakSet,wc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},qn(te,Ga),qn(te,Pc,0),qn(te,Os,!1),qn(te,ks,new WeakMap),Ge&&(en(te,Os,!0),Ha.workerSrc||="./pdf.worker.mjs"),te._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},te._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},te.fromPort=t=>{if(WN("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return te.create(t)};let Ao=te;class aO{downloadInfoCapability=Promise.withResolvers();#t=null;#e=new Map;#i=null;#n=new Map;#a=new Map;#r=new Map;#s=null;#o=Ft.instance;constructor(t,e,i,a,o){this.messageHandler=t,this.loadingTask=e,this.#i=i,this.commonObjs=new pS,this.fontLoader=new oL({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.enableHWA=a.enableHWA,this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#o.addListener(this.#c.bind(this))}#c(){const t=new Map,e=new Map;for(let i=0,a=this.#o.pagesNumber;i<a;i++){const o=this.#o.getPrevPageNumber(i+1)-1,c=this.#n.get(o);c&&t.set(i,c);const u=this.#a.get(o);u&&e.set(i,u)}this.#n=t,this.#a=e}#l(t,e=null){const i=this.#e.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,a),a}#d({loaded:t,total:e}){this.loadingTask.onProgress?.({loaded:t,total:e,percent:Ie(Math.round(t/e*100),0,100)})}get annotationStorage(){return At(this,"annotationStorage",new Xp)}getRenderingIntent(t,e=ts.ENABLE,i=null,a=!1,o=!1){let c=mn.DISPLAY,u=Kf;switch(t){case"any":c=mn.ANY;break;case"display":break;case"print":c=mn.PRINT;break;default:bt(`getRenderingIntent - invalid intent: ${t}`)}const d=c&mn.PRINT&&i instanceof J1?i:this.annotationStorage;switch(e){case ts.DISABLE:c+=mn.ANNOTATIONS_DISABLE;break;case ts.ENABLE:break;case ts.ENABLE_FORMS:c+=mn.ANNOTATIONS_FORMS;break;case ts.ENABLE_STORAGE:c+=mn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:bt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=mn.IS_EDITING),o&&(c+=mn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[c,u.hash,p];return{renderingIntent:c,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#n.values())t.push(i._destroy());this.#n.clear(),this.#a.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),gn.cleanup(),this.#i?.cancelAllRequests(new as("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{zt(this.#i,"GetReader - no `BasePDFStream` instance available."),this.#t=this.#i.getFullReader(),this.#t.onProgress=o=>this.#d(o),a.onPull=()=>{this.#t.read().then(function({value:o,done:c}){if(c){a.close();return}zt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this.#t.cancel(o),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this.#t.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:c}=this.#t;return a&&o&&(this.#t.onProgress=null),{isStreamingSupported:a,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(i,a)=>{zt(this.#i,"GetRangeReader - no `BasePDFStream` instance available.");const o=this.#i.getRangeReader(i.begin,i.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:c,done:u}){if(u){a.close();return}zt(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{o.cancel(c),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this.#o.pagesNumber=i.numPages,this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new iO(i,this))}),t.on("DocException",i=>{e._capability.reject(nn(i))}),t.on("PasswordRequest",i=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw nn(i);const a=o=>{o instanceof Error?this.#s.reject(o):this.#s.resolve({password:o})};e.onPassword(a,i.code)}catch(a){this.#s.reject(a)}return this.#s.promise}),t.on("DataLoaded",i=>{this.#d({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#n.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in o){const m=o.error;bt(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const c=new Yt(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,v)=>globalThis.FontInspector.fontAdded(m,v):null,d=new lL(c,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=o;zt(f,"The imageRef must be defined.");for(const m of this.#n.values())for(const[,v]of m.objs)if(v?.ref===f)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new cL(o));break;case"Image":this.commonObjs.resolve(i,o);break;case"Pattern":const p=new Re(o);this.commonObjs.resolve(i,p.getIR());break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,o,c])=>{if(this.destroyed)return;const u=this.#n.get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{this.destroyed||this.#d(i)}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this.#t?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this.#o.pagesNumber)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#o.getPageId(t)-1,a=this.#a.get(e);if(a)return a;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(c=>{if(this.destroyed)throw new Error("Transport destroyed");c.refStr&&this.#r.set(c.refStr,i);const u=new sO(e,c,this,this._params.pdfBug);return this.#n.set(e,u),u});return this.#a.set(e,o),o}async getPageIndex(t){if(!Wf(t))throw new Error("Invalid pageIndex request.");const e=await this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen});return this.#o.getPageNumber(e+1)-1}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#o.getPageId(t+1)-1,intent:e})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#o.getPageId(t+1)-1})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#o.getPageId(t+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#l("GetOptionalContentConfig").then(e=>new FL(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#e.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new BL(a[1]):null,contentDispositionFilename:this.#t?.filename??null,contentLength:this.#t?.contentLength??null,hasStructTree:a[2]}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#n.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),gn.cleanup()}}cachedPageNumber(t){if(!Wf(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`,i=this.#r.get(e);return i>=0?this.#o.getPageNumber(i+1):null}}class rO{_internalRenderTask=null;onContinue=null;onError=null;constructor(t){this._internalRenderTask=t}get promise(){return this._internalRenderTask.capability.promise}cancel(t=0){this._internalRenderTask.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this._internalRenderTask.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this._internalRenderTask;return t.form||t.canvas&&e?.size>0}}class ja{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:o,operatorList:c,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null,enableHWA:b=!1,operationsFilter:x=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new rO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=b,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(ja.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ja.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:o,dependencyTracker:c}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Va(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,c),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),ja.#e.delete(this._canvas),t||=new Vp(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ja.#e.delete(this._canvas),this.callback())))}}const bS="5.4.624",oO="384c6208b";class Rn{#t=null;#e=null;#i;#n=null;#a=!1;#r=!1;#s=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return At(this,"_keyboardManager",new Lo([[["Escape","mac+Escape"],Rn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Rn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Rn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Rn.prototype._moveToPrevious],[["Home","mac+Home"],Rn.prototype._moveToBeginning],[["End","mac+End"],Rn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#s=t):this.#r=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Rn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#s&&(t.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",On,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(t.id=`${this.#s.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=i,o.setAttribute("data-l10n-id",Rn.#d[i]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=a,o.ariaSelected=a===this.#i,o.addEventListener("click",this.#f.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Lt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastElementChild?.focus()}#g(t){Rn._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#p){this.#s?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class xo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,xo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:i}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",xo.#n[t]),a.addEventListener("input",()=>{this.#i.updateParams(e,a.value)},{signal:this.#i._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function NA(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Zr(r){return Math.max(0,Math.min(255,255*r))}class LA{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Zr(t),[t,t,t]}static G_HTML([t]){const e=NA(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Zr)}static RGB_HTML(t){return`#${t.map(NA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[Zr(1-Math.min(1,t+a)),Zr(1-Math.min(1,i+a)),Zr(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,o=1-e,c=1-i,u=Math.min(a,o,c);return["CMYK",a,o,c,u]}}class lO{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ut("Abstract method `_createSVG` called.")}}class kc extends lO{_createSVG(t){return document.createElementNS(xi,t)}}const cO=9,js=new WeakSet,uO=new Date().getTimezoneOffset()*60*1e3;class gf{static create(t){switch(t.data.annotationType){case Ae.LINK:return new Qp(t);case Ae.TEXT:return new dO(t);case Ae.WIDGET:switch(t.data.fieldType){case"Tx":return new fO(t);case"Btn":return t.data.radioButton?new AS(t):t.data.checkBox?new mO(t):new gO(t);case"Ch":return new yO(t);case"Sig":return new pO(t)}return new zs(t);case Ae.POPUP:return new Jf(t);case Ae.FREETEXT:return new xS(t);case Ae.LINE:return new bO(t);case Ae.SQUARE:return new AO(t);case Ae.CIRCLE:return new xO(t);case Ae.POLYLINE:return new SS(t);case Ae.CARET:return new wO(t);case Ae.INK:return new Zp(t);case Ae.POLYGON:return new SO(t);case Ae.HIGHLIGHT:return new wS(t);case Ae.UNDERLINE:return new EO(t);case Ae.SQUIGGLY:return new TO(t);case Ae.STRIKEOUT:return new CO(t);case Ae.STAMP:return new ES(t);case Ae.FILEATTACHMENT:return new _O(t);default:return new se(t)}}}class se{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return se._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:a}=this.data;let o=-1/0,c=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>c?(c=e[u+1],o=e[u+2]):e[u+1]===c&&(o=Math.max(o,e[u+2]));return[o,c]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>c?(c=u[d+1],o=u[d]):u[d+1]===c&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,c]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/i,t[1]=100*(t[1]-c)/a,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${yo}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${yo}${e.id}`,{id:e.id,annotationType:e.annotationType,page:this.parent.page,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let a=this.#i?.popup||this.popup;!a&&i?.text&&(this._createPopup(i),a=this.#i.popup),a&&(a.updateEdited(t),i?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(c-t[3]+d)/c}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof zs)&&!(this instanceof Qp)&&(o.tabIndex=0);const{style:c}=o;if(c.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Jf){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(A>0||E>0){const C=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;c.borderRadius=C}else if(this instanceof AS){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=C}switch(e.borderStyle.style){case _a.SOLID:c.borderStyle="solid";break;case _a.DASHED:c.borderStyle="dashed";break;case _a.BEVELED:bt("Unimplemented border style: beveled");break;case _a.INSET:bt("Unimplemented border style: inset");break;case _a.UNDERLINE:c.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,c.borderColor=it.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):c.borderWidth=0}const f=it.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:b}=a.rawDims;c.left=`${100*(f[0]-v)/p}%`,c.top=`${100*(f[1]-b)/m}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(c.width=`${100*u/p}%`,c.height=`${100*d/m}%`):this.setRotation(x,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:c}=this;t%180!==0&&([o,c]=[c,o]),e.style.width=`${100*o/i}%`,e.style.height=`${100*c/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const o=a.detail[e],c=o[0],u=o.slice(1);a.target.style[i]=LA[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:LA[`${c}_rgb`](u)})};return At(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||i[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,o]of Object.entries(e)){const c=i[a];if(c){const u={detail:{[a]:o},target:t};c(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,o]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,E,w,C]=t.subarray(2,6);if(a===A&&o===E&&e===w&&i===C)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:A,borderWidth:E}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=a-e,f=o-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=p.createElement("defs");m.append(v);const b=p.createElement("clipPath"),x=`clippath_${this.data.id}`;b.setAttribute("id",x),b.setAttribute("clipPathUnits","objectBoundingBox"),v.append(b);for(let A=2,E=t.length;A<E;A+=8){const w=t[A],C=t[A+1],T=t[A+2],N=t[A+3],R=p.createElement("rect"),O=(T-e)/d,P=(o-C)/f,V=(w-T)/d,K=(C-N)/f;R.setAttribute("x",O),R.setAttribute("y",P),R.setAttribute("width",V),R.setAttribute("height",K),b.append(R),u?.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${P}" width="${V}" height="${K}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${x})`}_createPopup(t=null){const{data:e}=this;let i,a;t?(i={str:t.text},a=t.date):(i=e.contentsObj,a=e.modificationDate),this.#i=new Jf({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Ut("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:c,exportValues:u}of a){if(o===-1||c===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!js.has(f)){bt(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:d,domElement:f})}return i}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,c=a.getAttribute("data-element-id");c!==e&&js.has(a)&&i.push({id:c,exportValue:o,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class hO extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class Qp extends se{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&(this.contentElement=i,this.container.append(i)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=i.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:o,include:c}=e,u=[];if(a.length!==0||o.length!==0){const p=new Set(o);for(const m of a){const v=this._fieldObjects[m]||[];for(const{id:b}of v)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===c&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!js.has(v)){bt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class dO extends se{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class zs extends se{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ce.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,o){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c)}})})}_setEventListeners(t,e,i,a){for(const[o,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,c,a),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":it.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||cO,o=t.style;let c;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(cf*a))||1,m=f/p;c=Math.min(a,d(m/cf))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(a,d(f/cf))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=it.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class fO extends zs{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),o.setValue(c.id,{[a]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),js.add(i),this.contentElement=i,i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,v=!!p&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",x=>{t.setValue(e,{value:x.target.value}),this.setPropertyOnSiblings(i,"value",x.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",x=>{const A=this.data.defaultFieldValue??"";i.value=d.userValue=A,d.formattedValue=null});let b=x=>{const{formattedValue:A}=d;A!=null&&(x.target.value=A),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{if(d.focused)return;const{target:E}=A;if(v&&(E.type=p,m&&(E.step=m)),d.userValue){const w=d.userValue;if(v)if(p==="time"){const C=new Date(w),T=[C.getHours(),C.getMinutes(),C.getSeconds()];E.value=T.map(N=>N.toString().padStart(2,"0")).join(":")}else E.value=new Date(w-uO).toISOString().split(p==="date"?"T":".",1)[0];else E.value=w}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(w){d.userValue=w.detail.value??"",v||t.setValue(e,{value:d.userValue.toString()}),w.target.value=d.userValue},formattedValue(w){const{formattedValue:C}=w.detail;d.formattedValue=C,C!=null&&w.target!==document.activeElement&&(w.target.value=C);const T={formattedValue:C};v&&(T.value=C),t.setValue(e,T)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:C}=w.detail,{target:T}=w;if(C===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",C);let N=d.userValue;!N||N.length<=C||(N=N.slice(0,C),T.value=d.userValue=N,t.setValue(e,{value:N}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),i.addEventListener("keydown",A=>{d.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:w}=A.target;d.lastCommittedValue!==w&&(d.lastCommittedValue=w,d.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const x=b;b=null,i.addEventListener("blur",A=>{if(!d.focused||!A.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=A;let{value:w}=E;if(v){if(w&&p==="time"){const C=w.split(":").map(T=>parseInt(T,10));w=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),E.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();E.type="text"}d.userValue=w,d.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:d.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),x(A)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",A=>{d.lastCommittedValue=null;const{data:E,target:w}=A,{value:C,selectionStart:T,selectionEnd:N}=w;let R=T,O=N;switch(A.inputType){case"deleteWordBackward":{const P=C.substring(0,T).match(/\w*[^\w]*$/);P&&(R-=P[0].length);break}case"deleteWordForward":{const P=C.substring(T).match(/^[^\w]*\w*/);P&&(O+=P[0].length);break}case"deleteContentBackward":T===N&&(R-=1);break;case"deleteContentForward":T===N&&(O+=1);break}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:E||"",willCommit:!1,selStart:R,selEnd:O}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class pO extends zs{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class mO extends zs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return js.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class AS extends zs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(js.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=c===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=p&&m.id===i;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class gO extends Qp{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class yO extends zs{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");js.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),a.append(m)}let c=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),c=()=>{p.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const u=p=>{const m=p?"value":"textContent",{options:v,multiple:b}=a;return b?Array.prototype.filter.call(v,x=>x.selected).map(x=>x[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const m={value(v){c?.();const b=v.detail.value,x=new Set(Array.isArray(b)?b:[b]);for(const A of a.options)A.selected=x.has(A.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(v){a.multiple=!0},remove(v){const b=a.options,x=v.detail.remove;b[x].selected=!1,a.remove(x),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(v){const{index:b,displayValue:x,exportValue:A}=v.detail.insert,E=a.children[b],w=document.createElement("option");w.textContent=x,w.value=A,E?E.before(w):a.append(w),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},items(v){const{items:b}=v.detail;for(;a.length!==0;)a.remove(0);for(const x of b){const{displayValue:A,exportValue:E}=x,w=document.createElement("option");w.textContent=A,w.value=E,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},indices(v){const b=new Set(v.detail.indices);for(const x of v.target.options)x.selected=b.has(x.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),a.addEventListener("input",p=>{const m=u(!0),v=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Jf extends se{constructor(t){const{data:e,elements:i,parent:a}=t,o=!!a._commentManager;if(super(t,{isRenderable:!o&&se._hasPopupData(e)}),this.elements=i,o&&se._hasPopupData(e)){const c=this.popup=this.#t();for(const u of i)u.popup=c}else this.popup=null}#t(){return new vO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${Pa}${a}`).join(",")),this.container}}class vO{#t=null;#e=this.#G.bind(this);#i=this.#I.bind(this);#n=this.#O.bind(this);#a=this.#S.bind(this);#r=null;#s=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#y=null;#b=null;#v=null;#T=null;#w=null;#x=null;#_=!1;#A=null;#E=null;constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:o,contentsObj:c,richText:u,parent:d,rect:f,parentRect:p,open:m,commentManager:v=null}){this.#s=t,this.#w=a,this.#o=c,this.#T=u,this.#d=d,this.#r=e,this.#v=f,this.#h=p,this.#l=i,this.#t=v,this.#A=i[0],this.#c=Xf.toDateObject(o),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup()),v||(this.#R(),this.#s.hidden=!0,m&&this.#S())}#R(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#A.container.after(this.#p);return}if(this.#y||this.#M(),!this.#y)return;const{signal:t}=this.#m=new AbortController,e=this.#A.hasOwnCommentButton,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#A.container;for(const c of this.trigger)c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",a,{signal:t}),c.addEventListener("pointerleave",o,{signal:t}),c.classList.add("popupTriggerArea")}else{const c=this.#p=document.createElement("button");c.className="annotationCommentButton";const u=this.#A.container;c.style.zIndex=u.style.zIndex+1,c.tabIndex=0,c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#j(),this.#D(),c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",a,{signal:t}),c.addEventListener("pointerleave",o,{signal:t}),u.after(c)}}#D(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#y,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#j(){this.#A.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:a,modificationDate:o}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:a,modificationDate:o}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#A.commentText,this.#E}set comment(t){t!==this.comment&&(this.#A.commentText=this.#E=t)}focus(){this.#A.container?.focus()}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:i}=this.#p.getBoundingClientRect(),{x:a,y:o,width:c,height:u}=this.#A.layer.getBoundingClientRect();return[(t-a)/c,(e+i-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#b||this.commentButtonPosition.map(f=>f/100),a=this.parentBoundingClientRect,{x:o,y:c,width:u,height:d}=a;this.#t.showDialog(null,this,o+e*u,c+i*d,{...t,parentDimensions:a})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#r){const i=t.style.outlineColor=it.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#w?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#w}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}K1({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#s.append(t)}get#L(){const t=this.#T,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#T.html||null}get#k(){return this.#L?.attributes?.style?.fontSize||0}get#F(){return this.#L?.attributes?.style?.color||null}#P(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#F,fontSize:this.#k?`calc(${this.#k}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return i}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#j(),this.#E=e.text)),t&&(this.#y=null,this.#M(),this.#D());return}if(i||e?.deleted){this.remove();return}this.#R(),this.#x||={contentsObj:this.#o,richText:this.#T},t&&(this.#u=null),e&&e.text&&(this.#T=this.#P(e.text),this.#c=Xf.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#T}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:o}}}=this.#d;let c=!!this.#h,u=c?this.#h:this.#v;for(const x of this.#l)if(!u||it.intersect(x.data.rect,u)!==null){u=x.data.rect,c=!0;break}const d=it.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=c?u[2]-u[0]+5:0,m=d[0]+p,v=d[1];this.#u=[100*(m-a)/e,100*(v-o)/i];const{style:b}=this.#s;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#O(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#e)):(this.#I(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#e))}#O(){this.#g||this.render(),this.isVisible?this.#f&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#I(){this.#s.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#s.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#_&&(this.#g||this.#O(),this.#_=!1,this.#s.hidden=!1))}get isVisible(){return this.#t?!1:this.#s.hidden===!1}}class xS extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class bO extends se{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class AO extends se{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",o/2),c.setAttribute("y",o/2),c.setAttribute("width",e-o),c.setAttribute("height",i-o),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class xO extends se{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),o=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-o/2),c.setAttribute("ry",i/2-o/2),c.setAttribute("stroke-width",o||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class SS extends se{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:a},width:o,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(o,c,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],b=t[3]-e[p+1];d.push(`${v},${b}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class SO extends SS{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wO extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Zp extends se{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:a,popupRef:o}}=this,{transform:c,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let m=0,v=i.length;m<v;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(a){const{transform:c,width:u,height:d}=this.#i(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class wS extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class EO extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class TO extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class CO extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class ES extends se{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class _O extends se{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=Ce.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Jp{#t=null;#e=null;#i=null;#n=new Map;#a=null;#r=null;#s=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:o,viewport:c,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=i,this.#a=u||null,this.#r=f||null,this.#i=p||new Xp,this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,i=this.div;Bs(i,this.viewport);const a=new Map,o=[],c={data:null,layer:i,linkService:this.#r,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new kc,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const d=u.annotationType===Ae.POPUP;if(d){const m=a.get(u.id);if(!m)continue;if(!this._commentManager){o.push(u);continue}c.elements=m}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;c.data=u;const f=gf.create(c);if(!f.isRenderable)continue;if(!d&&(this.#s.push(f),u.popupRef)){const m=a.get(u.popupRef);m?m.push(f):a.set(u.popupRef,[f])}const p=f.render();u.hidden&&(p.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const u of o){const d=c.elements=a.get(u.id);c.data=u;const f=gf.create(c);if(!f.isRenderable)continue;const p=f.render();f.contentElement.id=`${Pa}${u.id}`,u.hidden&&(p.style.visibility="hidden"),d.at(-1).container.after(p)}this.#l()}async#c(){if(this.#s.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:a}}of this.#s){const o=i.id=`${Pa}${a}`;t.push(this.#a?.getAriaAttributes(o).then(c=>{if(c)for(const[u,d]of c)i.setAttribute(u,d)}))}}this.#s.sort(({data:{rect:[i,a,o,c]}},{data:{rect:[u,d,f,p]}})=>{if(i===o&&a===c)return 1;if(u===f&&d===p)return-1;const m=c,v=a,b=(a+c)/2,x=p,A=d,E=(d+p)/2;if(b>=x&&E<=v)return-1;if(E>=m&&b<=A)return 1;const w=(i+o)/2,C=(u+f)/2;return w-C});const e=document.createDocumentFragment();for(const i of this.#s)e.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&e.append(i.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const i of this.#s)this.#t.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#r,svgFactory:new kc,parent:this};for(const i of t){i.borderStyle||=Jp._defaultBorderStyle,e.data=i;const a=gf.create(e);a.isRenderable&&(a.render(),a.contentElement.id=`${Pa}${i.id}`,this.#s.push(a))}await this.#c()}update({viewport:t}){const e=this.div;this.viewport=t,Bs(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):a.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:a}=t,o=new hO({data:{id:i,rect:t.getPDFRect(),rotation:a},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#i});return o.render(),o.contentElement.id=`${Pa}${i}`,o.createOrUpdatePopup(),this.#s.push(o),o}removeAnnotation(t){const e=this.#s.findIndex(a=>a.data.id===t);if(e<0)return;const[i]=this.#s.splice(e,1);this.#t?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return At(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:_a.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const cc=/\r\n?|\n/g;class Ne extends pt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ne.prototype,e=o=>o.isEmpty(),i=rs.TRANSLATE_SMALL,a=rs.TRANSLATE_BIG;return At(this,"_keyboardManager",new Lo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=St.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ne._defaultColor||pt._defaultLineColor,this.#n=t.fontSize||Ne._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){pt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Lt.FREETEXT_SIZE:Ne._defaultFontSize=e;break;case Lt.FREETEXT_COLOR:Ne._defaultColor=e;break}}updateParams(t,e){switch(t){case Lt.FREETEXT_SIZE:this.#a(e);break;case Lt.FREETEXT_COLOR:this.#r(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.FREETEXT_SIZE,Ne._defaultFontSize],[Lt.FREETEXT_COLOR,Ne._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Lt.FREETEXT_SIZE,this.#n],[Lt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.FREETEXT_COLOR}#a(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(t){const e=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ne._internalPadding*t,-(Ne._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Ne.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,c=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=c,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#s().trimEnd();if(t===e)return;const i=a=>{if(this.#t=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ne._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(c[0]-m)/f,x=e+this.height-(c[1]-v)/p;break;case 90:b=t+(c[0]-m)/f,x=e-(c[1]-v)/p,[u,d]=[d,-u];break;case 180:b=t-this.width+(c[0]-m)/f,x=e-(c[1]-v)/p,[u,d]=[-u,-d];break;case 270:b=t+(c[0]-m-this.height*p)/f,x=e+(c[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(b*a,x*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(cc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=Ne.#h(e.getData("text")||"").replaceAll(cc,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const c=o.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(cc,"")),b!==this.editorDiv){let x=f;for(const A of this.editorDiv.childNodes){if(A===b){x=p;continue}x.push(Ne.#c(A))}}f.push(u.nodeValue.slice(0,d).replaceAll(cc,""))}else if(u===this.editorDiv){let b=f,x=0;for(const A of this.editorDiv.childNodes)x++===d&&(b=p),b.push(Ne.#c(A))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#l();const m=new Range;let v=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const x=b.nodeValue.length;if(v<=x){m.setStart(b,v),m.setEnd(b,v);break}v-=x}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ne._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let a=null;if(t instanceof xS){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:f,id:p,popupRef:m,richText:v,contentsObj:b,creationDate:x,modificationDate:A},textContent:E,textPosition:w,parent:{page:{pageNumber:C}}}=t;if(!E||E.length===0)return null;a=t={annotationType:St.FREETEXT,color:Array.from(u),fontSize:c,value:E.join(`
`),position:w,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:b?.str||null,richText:v,creationDate:x,modificationDate:A}}const o=await super.deserialize(t,e,i);return o.#n=t.fontSize,o.color=it.makeHexColor(...t.color),o.#t=Ne.#h(t.value),o._initialData=a,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==a[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const a of this.#t.split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ot{static PRECISION=1e-4;toSVGPath(){Ut("Abstract method `toSVGPath` must be implemented.")}get box(){Ut("Abstract getter `box` must be implemented.")}serialize(t,e){Ut("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,o,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u]*a,c[u+1]=i+t[u+1]*o;return c}static _rescaleAndSwap(t,e,i,a,o,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u+1]*a,c[u+1]=i+t[u]*o;return c}static _translate(t,e,i,a){a||=new Float32Array(t.length);for(let o=0,c=t.length;o<c;o+=2)a[o]=e+t[o],a[o+1]=i+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,o){switch(o){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,o,c){return[(t+5*i)/6,(e+5*a)/6,(5*i+o)/6,(5*a+c)/6,(i+o)/2,(a+c)/2]}}class Ns{#t;#e=[];#i;#n;#a=[];#r=new Float32Array(18);#s;#o;#c;#l;#d;#h;#f=[];static#g=8;static#m=2;static#u=Ns.#g+Ns.#m;constructor({x:t,y:e},i,a,o,c,u=0){this.#t=i,this.#h=o*a,this.#n=c,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Ns.#g*a,this.#c=Ns.#u*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#p(){const t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[i,a,o,c]=this.#t;return[(this.#s+(t[0]-e[0])/2-i)/o,(this.#o+(t[1]-e[1])/2-a)/c,(this.#s+(e[0]-t[0])/2-i)/o,(this.#o+(e[1]-t[1])/2-a)/c]}add({x:t,y:e}){this.#s=t,this.#o=e;const[i,a,o,c]=this.#t;let[u,d,f,p]=this.#r.subarray(8,12);const m=t-f,v=e-p,b=Math.hypot(m,v);if(b<this.#c)return!1;const x=b-this.#l,A=x/b,E=A*m,w=A*v;let C=u,T=d;u=f,d=p,f+=E,p+=w,this.#f?.push(t,e);const N=-w/x,R=E/x,O=N*this.#h,P=R*this.#h;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([f+O,p+P],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([f-O,p-P],16),isNaN(this.#r[6])?(this.#a.length===0&&(this.#r.set([u+O,d+P],2),this.#a.push(NaN,NaN,NaN,NaN,(u+O-i)/o,(d+P-a)/c),this.#r.set([u-O,d-P],14),this.#e.push(NaN,NaN,NaN,NaN,(u-O-i)/o,(d-P-a)/c)),this.#r.set([C,T,u,d,f,p],6),!this.isEmpty()):(this.#r.set([C,T,u,d,f,p],6),Math.abs(Math.atan2(T-d,C-u)-Math.atan2(w,E))<Math.PI/2?([u,d,f,p]=this.#r.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/o,((d+p)/2-a)/c),[u,d,C,T]=this.#r.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-i)/o,((T+d)/2-a)/c),!0):([C,T,u,d,f,p]=this.#r.subarray(0,6),this.#a.push(((C+5*u)/6-i)/o,((T+5*d)/6-a)/c,((5*u+f)/6-i)/o,((5*d+p)/6-a)/c,((u+f)/2-i)/o,((d+p)/2-a)/c),[f,p,u,d,C,T]=this.#r.subarray(12,18),this.#e.push(((C+5*u)/6-i)/o,((T+5*d)/6-a)/c,((5*u+f)/6-i)/o,((5*d+p)/6-a)/c,((u+f)/2-i)/o,((d+p)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#v(i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#b(i),i.join(" ")}#y(){const[t,e,i,a]=this.#t,[o,c,u,d]=this.#p();return`M${(this.#r[2]-t)/i} ${(this.#r[3]-e)/a} L${(this.#r[4]-t)/i} ${(this.#r[5]-e)/a} L${o} ${c} L${u} ${d} L${(this.#r[16]-t)/i} ${(this.#r[17]-e)/a} L${(this.#r[14]-t)/i} ${(this.#r[15]-e)/a} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,i,a,o]=this.#t,c=this.#r.subarray(4,6),u=this.#r.subarray(16,18),[d,f,p,m]=this.#p();t.push(`L${(c[0]-e)/a} ${(c[1]-i)/o} L${d} ${f} L${p} ${m} L${(u[0]-e)/a} ${(u[1]-i)/o}`)}newFreeDrawOutline(t,e,i,a,o,c){return new TS(t,e,i,a,o,c)}getOutlines(){const t=this.#a,e=this.#e,i=this.#r,[a,o,c,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=d.length-2;m<v;m+=2)d[m]=(this.#f[m]-a)/c,d[m+1]=(this.#f[m+1]-o)/u;if(d[d.length-2]=(this.#s-a)/c,d[d.length-1]=(this.#o-o)/u,isNaN(i[6])&&!this.isEmpty())return this.#T(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#x(f,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+v],f[p+1]=e[m+v+1],p+=2}return this.#w(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#T(t){const e=this.#r,[i,a,o,c]=this.#t,[u,d,f,p]=this.#p(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-a)/c],0),this.newFreeDrawOutline(m,t,this.#t,this.#d,this.#i,this.#n)}#w(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#r.subarray(4,6),a=this.#r.subarray(16,18),[o,c,u,d]=this.#t,[f,p,m,v]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/u,(i[1]-c)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(a[0]-o)/u,(a[1]-c)/d],e),e+=24}}class TS extends ot{#t;#e=new Float32Array(4);#i;#n;#a;#r;#s;constructor(t,e,i,a,o,c){super(),this.#s=t,this.#a=e,this.#t=i,this.#r=a,this.#i=o,this.#n=c,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(c);const[u,d,f,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#s[4]} ${this.#s[5]}`];for(let e=6,i=this.#s.length;e<i;e+=6){if(isNaN(this.#s[e])){t.push(`L${this.#s[e+4]} ${this.#s[e+5]}`);continue}t.push(`C${this.#s[e]} ${this.#s[e+1]} ${this.#s[e+2]} ${this.#s[e+3]} ${this.#s[e+4]} ${this.#s[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,a],o){const c=i-t,u=a-e;let d,f;switch(o){case 0:d=ot._rescale(this.#s,t,a,c,-u),f=ot._rescale(this.#a,t,a,c,-u);break;case 90:d=ot._rescaleAndSwap(this.#s,t,e,c,u),f=ot._rescaleAndSwap(this.#a,t,e,c,u);break;case 180:d=ot._rescale(this.#s,i,e,-c,u),f=ot._rescale(this.#a,i,e,-c,u);break;case 270:d=ot._rescaleAndSwap(this.#s,i,a,-c,-u),f=ot._rescaleAndSwap(this.#a,i,a,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#s;let i=e[4],a=e[5];const o=[i,a,i,a];let c=i,u=a,d=i,f=a;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,x=e.length;b<x;b+=6){const A=e[b+4],E=e[b+5];isNaN(e[b])?(it.pointBoundingBox(A,E,o),u>E?(c=A,u=E):u===E&&(c=p(c,A)),f<E?(d=A,f=E):f===E&&(d=p(d,A))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,it.bezierBoundingBox(i,a,...e.slice(b,b+6),m),it.rectBoundingBox(m[0],m[1],m[2],m[3],o),u>m[1]?(c=m[0],u=m[1]):u===m[1]&&(c=p(c,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),i=A,a=E}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[c,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,a,o,c=0){return new Ns(t,e,i,a,o,c)}getNewOutline(t,e){const[i,a,o,c]=this.#e,[u,d,f,p]=this.#t,m=o*f,v=c*p,b=i*f+u,x=a*p+d,A=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*v+x},this.#t,this.#r,t,this.#n,e??this.#i);for(let E=2;E<this.#a.length;E+=2)A.add({x:this.#a[E]*m+b,y:this.#a[E+1]*v+x});return A.getOutlines()}}class tp{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,i=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:A,y:E,width:w,height:C}of t){const T=Math.floor((A-e)/c)*c,N=Math.ceil((A+w+e)/c)*c,R=Math.floor((E-e)/c)*c,O=Math.ceil((E+C+e)/c)*c,P=[T,R,O,!0],V=[N,R,O,!1];this.#n.push(P,V),it.rectBoundingBox(T,R,N,O,o)}const u=o[2]-o[0]+2*i,d=o[3]-o[1]+2*i,f=o[0]-i,p=o[1]-i;let m=a?-1/0:1/0,v=1/0;const b=this.#n.at(a?-1:-2),x=[b[0],b[2]];for(const A of this.#n){const[E,w,C,T]=A;!T&&a?w<v?(v=w,m=E):w===v&&(m=Math.max(m,E)):T&&!a&&(w<v?(v=w,m=E):w===v&&(m=Math.min(m,E))),A[0]=(E-f)/u,A[1]=(w-p)/d,A[2]=(C-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[m,v],this.#i=x}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#r(t)}#r(t){const e=[],i=new Set;for(const c of t){const[u,d,f]=c;e.push([u,d,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const a=[];let o;for(;i.size>0;){const c=i.values().next().value;let[u,d,f,p,m]=c;i.delete(c);let v=u,b=d;for(o=[u,f],a.push(o);;){let x;if(i.has(p))x=p;else if(i.has(m))x=m;else break;i.delete(x),[u,d,f,p,m]=x,v!==u&&(o.push(v,b,u,b===d?d:f),v=u),b=b===d?f:d}o.push(v,b)}return new MO(a,this.#t,this.#e,this.#i)}#s(t){const e=this.#a;let i=0,a=e.length-1;for(;i<=a;){const o=i+a>>1,c=e[o][0];if(c===t)return o;c<t?i=o+1:a=o-1}return a+1}#o([,t,e]){const i=this.#s(t);this.#a.splice(i,0,[t,e])}#c([,t,e]){const i=this.#s(t);for(let a=i;a<this.#a.length;a++){const[o,c]=this.#a[a];if(o!==t)break;if(o===t&&c===e){this.#a.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[o,c]=this.#a[a];if(o!==t)break;if(o===t&&c===e){this.#a.splice(a,1);return}}}#l(t){const[e,i,a]=t,o=[[e,i,a]],c=this.#s(a);for(let u=0;u<c;u++){const[d,f]=this.#a[u];for(let p=0,m=o.length;p<m;p++){const[,v,b]=o[p];if(!(f<=v||b<=d)){if(v>=d){if(b>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,b>f&&o.push([e,f,b])}}}return o}}class MO extends ot{#t;#e;constructor(t,e,i,a){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[i,a]=e;t.push(`M${i} ${a}`);for(let o=2;o<e.length;o+=2){const c=e[o],u=e[o+1];c===i?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,a],o){const c=[],u=i-t,d=a-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=a-f[m+1]*d;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class ep extends Ns{newFreeDrawOutline(t,e,i,a,o,c){return new DO(t,e,i,a,o,c)}}class DO extends TS{newOutliner(t,e,i,a,o,c=0){return new ep(t,e,i,a,o,c)}}class de extends pt{#t=null;#e=0;#i;#n=null;#a=null;#r=null;#s=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#m=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=St.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=de.prototype;return At(this,"_keyboardManager",new Lo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||de._defaultColor,this.#p=t.thickness||de._defaultThickness,this.opacity=t.opacity||de._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#s=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new tp(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new tp(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:a}=this.#r;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const a=1.5;if(this.#r=t.getNewOutline(this.#p/2+a,.0025),e>=0)this.#d=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:de.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:de.#E(this.#r.box,m),path:{d:this.#r.toSVGPath()}})}const[o,c,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=c,this.width=u,this.height=d;break;case 90:{const[m,v]=this.parentDimensions;this.x=c,this.y=1-o,this.width=u*v/m,this.height=d*m/v;break}case 180:this.x=1-o,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-c,this.y=o,this.width=u*v/m,this.height=d*m/v;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-c)/d];const{lastPoint:p}=this.#r;this.#g=[(p[0]-o)/u,(p[1]-c)/d]}static initialize(t,e){pt.initialize(t,e),de._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:de._defaultColor=e;break;case Lt.HIGHLIGHT_THICKNESS:de._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Lt.HIGHLIGHT_COLOR:this.#T(e);break;case Lt.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,de._defaultColor],[Lt.HIGHLIGHT_THICKNESS,de._defaultThickness]]}get propertiesToUpdate(){return[[Lt.HIGHLIGHT_COLOR,this.color||de._defaultColor],[Lt.HIGHLIGHT_THICKNESS,this.#p||de._defaultThickness],[Lt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#T(t){const e=(o,c)=>{this.color=o,this.opacity=c,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:e.bind(this,t,de._defaultOpacity),undo:e.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#w(t){const e=this.#p,i=a=>{this.#p=a,this.#x(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Rn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#A(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,i,a],o){switch(o){case 90:return[1-e-a,t,a,i];case 180:return[1-t-i,1-e-a,i,a];case 270:return[e,1-t-i,a,i]}return[t,e,i,a]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=de.#E(this.#l.box,t)):i=de.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#m,{bbox:de.#E(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),Q1(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#R(t){de._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#s,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#D(){return this.#h?this.rotation:0}#j(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,a]=this.pageTranslation,o=this.#i,c=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of o){const v=d*t+i,b=(1-f)*e+a;c[u]=c[u+4]=v,c[u+1]=c[u+3]=b,c[u+2]=c[u+6]=v+p*t,c[u+5]=c[u+7]=b-m*e,u+=8}return c}#L(t){return this.#l.serialize(t,this.#D())}static startHighlighting(t,e,{target:i,x:a,y:o}){const{x:c,y:u,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=b=>{p.abort(),this.#F(t,b)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",le,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",On,{signal:m}),i.addEventListener("pointermove",this.#k.bind(this,t),{signal:m}),this._freeHighlight=new ep({x:a,y:o},[c,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#k(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let a=null;if(t instanceof wS){const{data:{quadPoints:x,rect:A,rotation:E,id:w,color:C,opacity:T,popupRef:N,richText:R,contentsObj:O,creationDate:P,modificationDate:V},parent:{page:{pageNumber:K}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(C),opacity:T,quadPoints:x,boxes:null,pageIndex:K-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:N,richText:R,comment:O?.str||null,creationDate:P,modificationDate:V}}else if(t instanceof Zp){const{data:{inkLists:x,rect:A,rotation:E,id:w,color:C,borderStyle:{rawWidth:T},popupRef:N,richText:R,contentsObj:O,creationDate:P,modificationDate:V},parent:{page:{pageNumber:K}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(C),thickness:T,inkLists:x,boxes:null,pageIndex:K-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:N,richText:R,comment:O?.str||null,creationDate:P,modificationDate:V}}const{color:o,quadPoints:c,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=it.makeHexColor(...o),f.opacity=d||1,u&&(f.#p=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[v,b]=f.pageTranslation;if(c){const x=f.#i=[];for(let A=0;A<c.length;A+=8)x.push({x:(c[A]-v)/p,y:1-(c[A+1]-b)/m,width:(c[A+2]-c[A])/p,height:(c[A+1]-c[A+5])/m});f.#b(),f.#A(),f.rotate(f.rotation)}else if(u){f.#h=!0;const x=u[0],A={x:x[0]-v,y:m-(x[1]-b)},E=new ep(A,[0,0,p,m],1,f.#p/2,!0,.001);for(let T=0,N=x.length;T<N;T+=2)A.x=x[T]-v,A.y=m-(x[T+1]-b),E.add(A);const{id:w,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#v({highlightOutlines:E.getOutlines(),highlightId:w,clipPathId:C}),f.#A(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#j(),outlines:this.#L(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#P(i)?null:(i.id=this.annotationElementId,i)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==e[a])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class CS{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Ut("Not implemented")}}class jt extends pt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#r(t),this.#c())}#r({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#s(t,this.parent),this.#h(t.box)}#s(t,e){const{id:i}=e.drawLayer.draw(jt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))i.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){Ut("Not implemented")}static get typesMap(){Ut("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(jt.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,e[a]]);return t}_updateProperty(t,e,i){const a=this._drawingOptions,o=a[e],c=u=>{a.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#h(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#d()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#d()),{bbox:this.#f()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#d(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#s(this.#t,t)}}#l([t,e,i,a]){const{parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/o),a*(o/c)];case 180:return[1-t,1-e,i,a];case 270:return[1-e,t,i*(c/o),a*(o/c)];default:return[t,e,i,a]}}#d(){const{x:t,y:e,width:i,height:a,parentDimensions:[o,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(o/c),a*(c/o)];case 180:return[1-t,1-e,i,a];case 270:return[e,1-t,i*(o/c),a*(c/o)];default:return[t,e,i,a]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:t,y:e,width:i,height:a,rotation:o,parentRotation:c,parentDimensions:[u,d]}=this;switch((o*4+c)/90){case 1:return[1-e-a,t,a,i];case 2:return[1-t-i,1-e-a,i,a];case 3:return[e,1-t-i,a,i];case 4:return[t,e-i*(u/d),a*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),a*(d/u)];case 6:return[1-t-a*(d/u),1-e,a*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-a*(d/u),i*(u/d),a*(d/u)];case 8:return[t-i,e-a,i,a];case 9:return[1-e,t-i,a,i];case 10:return[1-t,1-e,i,a];case 11:return[e-a,1-t,a,i];case 12:return[t-a*(d/u),e,a*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-a*(d/u),i*(u/d),a*(d/u)];case 14:return[1-t,1-e-i*(u/d),a*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),a*(d/u)];default:return[t,e,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,jt._mergeSVGProperties({bbox:this.#f()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,a,o){Ut("Not implemented")}static startDrawing(t,e,i,a){const{target:o,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=a;if(It.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:p}}=t,{width:m,height:v}=o.getBoundingClientRect(),b=jt.#n=new AbortController,x=t.combinedSignal(b);if(It.setPointer(f,d),window.addEventListener("pointerup",A=>{It.isSamePointerIdOrRemove(A.pointerId)&&this._endDraw(A)},{signal:x}),window.addEventListener("pointercancel",A=>{It.isSamePointerIdOrRemove(A.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",A=>{It.isSamePointerType(A.pointerType)&&(It.initializeAndAddPointerId(A.pointerId),jt.#i.isCancellable()&&(jt.#i.removeLastElement(),jt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",On,{signal:x}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),o.addEventListener("touchmove",A=>{It.isSameTimeStamp(A.timeStamp)&&le(A)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),jt.#i){t.drawLayer.updateProperties(this._currentDrawId,jt.#i.startNew(c,u,m,v,p));return}e.updateUIForDefaultProperties(this),jt.#i=this.createDrawerInstance(c,u,m,v,p),jt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(jt.#a.toSVGProperties(),jt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(It.isSameTimeStamp(t.timeStamp),!jt.#i)return;const{offsetX:e,offsetY:i,pointerId:a}=t;if(It.isSamePointerId(a)){if(It.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,jt.#i.add(e,i)),It.setTimeStamp(t.timeStamp),le(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,jt.#i=null,jt.#a=null,It.clearTimeStamp()),jt.#n&&(jt.#n.abort(),jt.#n=null,It.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,jt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=jt.#i,a=this._currentDrawId,o=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,i.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Lt.DRAW_STEP),!jt.#i.isEmpty()){const{pageDimensions:[i,a],scale:o}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:jt.#i.getOutlines(i*o,a*o,o,this._INNER_MARGIN),drawingOptions:jt.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,a,o,c){Ut("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:u}}=e.viewport,d=this.deserializeDraw(c,u,a,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#r({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,i,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class RO{#t=new Float64Array(6);#e;#i;#n;#a;#r;#s="";#o=0;#c=new Oo;#l;#d;constructor(t,e,i,a,o,c){this.#l=i,this.#d=a,this.#n=o,this.#a=c,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#i=[{line:u,points:this.#r}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return ot._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,a,o,c]=this.#t.subarray(2,6),u=t-o,d=e-c;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#r.push(t,e),isNaN(i)?(this.#t.set([o,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,o,c,t,e],0),this.#e.push(...ot.createBezierPoints(i,a,o,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,o){this.#l=i,this.#d=a,this.#n=o,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:c,points:this.#r}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#r=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#s="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:a}=this.#i[t];this.#e=i,this.#r=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const t=ot.svgRound(this.#e[4]),e=ot.svgRound(this.#e[5]);if(this.#r.length===2)return this.#s=`${this.#s} M ${t} ${e} Z`,this.#s;if(this.#r.length<=6){const a=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#r.length===4){const a=ot.svgRound(this.#e[10]),o=ot.svgRound(this.#e[11]);return this.#s=`${this.#s} L ${a} ${o}`,this.#o=12,this.#s}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[c,u,d,f,p,m]=this.#e.slice(a,a+6).map(ot.svgRound);i.push(`C${c} ${u} ${d} ${f} ${p} ${m}`)}return this.#s+=i.join(" "),this.#o=this.#e.length,this.#s}getOutlines(t,e,i,a){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,i,this.#n,this.#a,a),this.#t=null,this.#e=null,this.#i=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Oo extends ot{#t;#e=0;#i;#n;#a;#r;#s;#o;#c;build(t,e,i,a,o,c,u){this.#a=e,this.#r=i,this.#s=a,this.#o=o,this.#c=c,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${ot.svgRound(e[4])} ${ot.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ot.svgRound(e[10])} ${ot.svgRound(e[11])}`);continue}for(let i=6,a=e.length;i<a;i+=6){const[o,c,u,d,f,p]=e.subarray(i,i+6).map(ot.svgRound);t.push(`C${o} ${c} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,a],o){const c=[],u=[],[d,f,p,m]=this.#d();let v,b,x,A,E,w,C,T,N;switch(this.#o){case 0:N=ot._rescale,v=t,b=e+a,x=i,A=-a,E=t+d*i,w=e+(1-f-m)*a,C=t+(d+p)*i,T=e+(1-f)*a;break;case 90:N=ot._rescaleAndSwap,v=t,b=e,x=i,A=a,E=t+f*i,w=e+d*a,C=t+(f+m)*i,T=e+(d+p)*a;break;case 180:N=ot._rescale,v=t+i,b=e,x=-i,A=a,E=t+(1-d-p)*i,w=e+f*a,C=t+(1-d)*i,T=e+(f+m)*a;break;case 270:N=ot._rescaleAndSwap,v=t+i,b=e+a,x=-i,A=-a,E=t+(1-f-m)*i,w=e+(1-d-p)*a,C=t+(1-f)*i,T=e+(1-d)*a;break}for(const{line:R,points:O}of this.#n)c.push(N(R,v,b,x,A,o?new Array(R.length):null)),u.push(N(O,v,b,x,A,o?new Array(O.length):null));return{lines:c,points:u,rect:[E,w,C,T]}}static deserialize(t,e,i,a,o,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let m,v,b,x,A;switch(d){case 0:A=ot._rescale,m=-t/i,v=e/a+1,b=1/i,x=-1/a;break;case 90:A=ot._rescaleAndSwap,m=-e/a,v=-t/i,b=1/a,x=1/i;break;case 180:A=ot._rescale,m=t/i+1,v=-e/a,b=-1/i,x=1/a;break;case 270:A=ot._rescaleAndSwap,m=e/a+1,v=t/i+1,b=-1/a,x=-1/i;break}if(!c){c=[];for(const w of u){const C=w.length;if(C===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(C===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const T=new Float32Array(3*(C-2));c.push(T);let[N,R,O,P]=w.subarray(0,4);T.set([NaN,NaN,NaN,NaN,N,R],0);for(let V=4;V<C;V+=2){const K=w[V],nt=w[V+1];T.set(ot.createBezierPoints(N,R,O,P,K,nt),(V-2)*3),[N,R,O,P]=[O,P,K,nt]}}}for(let w=0,C=c.length;w<C;w++)p.push({line:A(c[w].map(T=>T??NaN),m,v,b,x),points:A(u[w].map(T=>T??NaN),m,v,b,x)});const E=new this.prototype.constructor;return E.build(p,i,a,1,d,f,o),E}#l(t=this.#c){const e=this.#i+t/2*this.#s;return this.#o%180===0?[e/this.#a,e/this.#r]:[e/this.#r,e/this.#a]}#d(){const[t,e,i,a]=this.#t,[o,c]=this.#l(0);return[t+o,e+c,i-2*o,a-2*c]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let u=4,d=a.length;u<d;u+=6)it.pointBoundingBox(a[u],a[u+1],t);continue}let o=a[4],c=a[5];for(let u=6,d=a.length;u<d;u+=6){const[f,p,m,v,b,x]=a.subarray(u,u+6);it.bezierBoundingBox(o,c,f,p,m,v,b,x,t),o=b,c=x}}const[e,i]=this.#l();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-i,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[a,o]=this.#l(),[c,u]=[a-e,o-i],d=this.#t;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[a,o]=this.#l();this.#a=t,this.#r=e,this.#s=i;const[c,u]=this.#l(),d=c-a,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ot.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,a=0,o=0,c=0,u=0,d=0;switch(this.#e){case 90:a=e/t,o=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,d=e;break;case 270:a=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${i} ${a} ${o} ${c} ${ot.svgRound(u)} ${ot.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,a]){const[o,c]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=ot.PRECISION||Math.abs(p-c)<=ot.PRECISION){const A=t+i/2-(u+f/2),E=e+a/2-(d+p/2);return{path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:`${this.rotationTransform} translate(${A} ${E})`}}}const m=(i-2*o)/(f-2*o),v=(a-2*c)/(p-2*c),b=f/i,x=p/a;return{path:{"transform-origin":`${ot.svgRound(u)} ${ot.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${ot.svgRound(o)} ${ot.svgRound(c)}) scale(${m} ${v}) translate(${ot.svgRound(-o)} ${ot.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,a]){const[o,c]=this.#l(),u=this.#t,[d,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=a,Math.abs(p-o)<=ot.PRECISION||Math.abs(m-c)<=ot.PRECISION){const E=t+i/2-(d+p/2),w=e+a/2-(f+m/2);for(const{line:C,points:T}of this.#n)ot._translate(C,E,w,C),ot._translate(T,E,w,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*o)/(p-2*o),b=(a-2*c)/(m-2*c),x=-v*(d+o)+t+o,A=-b*(f+c)+e+c;if(v!==1||b!==1||x!==0||A!==0)for(const{line:E,points:w}of this.#n)ot._rescale(E,x,A,v,b,E),ot._rescale(w,x,A,v,b,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[a,o]=i,c=this.#t,u=t-c[0],d=e-c[1];if(this.#a===a&&this.#r===o)for(const{line:f,points:p}of this.#n)ot._translate(f,u,d,f),ot._translate(p,u,d,p);else{const f=this.#a/a,p=this.#r/o;this.#a=a,this.#r=o;for(const{line:m,points:v}of this.#n)ot._rescale(m,u,d,f,p,m),ot._rescale(v,u,d,f,p,v);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ot.svgRound(t)} ${ot.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ot.svgRound(t[0])} ${ot.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Zc extends CS{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Zc(this._viewParameters);return t.updateAll(this),t}}class tm extends jt{static _type="ink";static _editorType=St.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Zc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return At(this,"typesMap",new Map([[Lt.INK_THICKNESS,"stroke-width"],[Lt.INK_COLOR,"stroke"],[Lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,a,o){return new RO(t,e,i,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,a,o,c){return Oo.deserialize(t,e,i,a,o,c)}static async deserialize(t,e,i){let a=null;if(t instanceof Zp){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:b,richText:x,contentsObj:A,creationDate:E,modificationDate:w},parent:{page:{pageNumber:C}}}=t;a=t={annotationType:St.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:c},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:x,comment:A?.str||null,creationDate:E,modificationDate:w}}const o=await super.deserialize(t,e,i);return o._initialData=a,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new xo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Lt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=tm.getDefaultDrawingOptions({stroke:it.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":c}}=this,u=Object.assign(super.serialize(t),{color:pt._colorManager.convert(a),opacity:o,thickness:c,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:a,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class np extends Oo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const uc=8,Jr=3;class Da{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,a,o,c,u){const d=this.#e(i,a,o,c);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(i+m)*e+(a+v)]!==0)return p}return-1}static#a(t,e,i,a,o,c,u){const d=this.#e(i,a,o,c);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(i+m)*e+(a+v)]!==0)return p}return-1}static#r(t,e,i,a){const o=t.length,c=new Int32Array(o);for(let p=0;p<o;p++)c[p]=t[p]<=a?1:0;for(let p=1;p<i-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*i-1-p]=0;let u=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let m=1;m<e-1;m++){const v=p*e+m,b=c[v];if(b===0)continue;let x=p,A=m;if(b===1&&c[v-1]===0)u+=1,A-=1;else if(b>=1&&c[v+1]===0)u+=1,A+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const E=[m,p],w=A===m+1,C={isHole:w,points:E,id:u,parent:0};f.push(C);let T;for(const et of f)if(et.id===d){T=et;break}T?T.isHole?C.parent=w?T.parent:d:C.parent=w?d:T.parent:C.parent=w?d:0;const N=this.#n(c,e,p,m,x,A,0);if(N===-1){c[v]=-u,c[v]!==1&&(d=Math.abs(c[v]));continue}let R=this.#i[2*N],O=this.#i[2*N+1];const P=p+R,V=m+O;x=P,A=V;let K=p,nt=m;for(;;){const et=this.#a(c,e,K,nt,x,A,1);R=this.#i[2*et],O=this.#i[2*et+1];const mt=K+R,yt=nt+O;E.push(yt,mt);const ht=K*e+nt;if(c[ht+1]===0?c[ht]=-u:c[ht]===1&&(c[ht]=u),mt===p&&yt===m&&K===P&&nt===V){c[v]!==1&&(d=Math.abs(c[v]));break}else x=K,A=nt,K=mt,nt=yt}}}return f}static#s(t,e,i,a){if(i-e<=4){for(let P=e;P<i-2;P+=2)a.push(t[P],t[P+1]);return}const o=t[e],c=t[e+1],u=t[i-4]-o,d=t[i-3]-c,f=Math.hypot(u,d),p=u/f,m=d/f,v=p*c-m*o,b=d/u,x=1/f,A=Math.atan(b),E=Math.cos(A),w=Math.sin(A),C=x*(Math.abs(E)+Math.abs(w)),T=x*(1-C+C**2),N=Math.max(Math.atan(Math.abs(w+E)*T),Math.atan(Math.abs(w-E)*T));let R=0,O=e;for(let P=e+2;P<i-2;P+=2){const V=Math.abs(v-p*t[P+1]+m*t[P]);V>R&&(O=P,R=V)}R>(f*N)**2?(this.#s(t,e,O+2,a),this.#s(t,O,i,a)):a.push(o,c)}static#o(t){const e=[],i=t.length;return this.#s(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,a,o,c){const u=new Float32Array(c**2),d=-2*a**2,f=c>>1;for(let A=0;A<c;A++){const E=(A-f)**2;for(let w=0;w<c;w++)u[A*c+w]=Math.exp((E+(w-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/m);const v=t.length,b=new Uint8Array(v),x=new Uint32Array(256);for(let A=0;A<i;A++)for(let E=0;E<e;E++){const w=A*e+E,C=t[w];let T=0,N=0;for(let O=0;O<c;O++){const P=A+O-f;if(!(P<0||P>=i))for(let V=0;V<c;V++){const K=E+V-f;if(K<0||K>=e)continue;const nt=t[P*e+K],et=u[O*c+V]*p[Math.abs(nt-C)];T+=nt*et,N+=et}}const R=b[w]=Math.round(T/N);x[R]++}return[b,x]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];a=Math.max(a,f),o=Math.min(o,f)}const c=255/(a-o);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-o)*c;return i}static#h(t){let e,i=-1/0,a=-1/0;const o=t.findIndex(d=>d!==0);let c=o,u=o;for(e=o;e<256;e++){const d=t[e];d>i&&(e-c>a&&(a=e-c,u=e-1),i=d,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:a}=t,{maxDim:o}=this.#t;let c=i,u=a;if(i>o||a>o){let v=i,b=a,x=Math.log2(Math.max(i,a)/o);const A=Math.floor(x);x=x===A?A-1:A;for(let w=0;w<x;w++){c=Math.ceil(v/2),u=Math.ceil(b/2);const C=new OffscreenCanvas(c,u);C.getContext("2d").drawImage(t,0,0,v,b,0,0,c,u),v=c,b=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const E=Math.min(o/c,o/u);c=Math.round(c*E),u=Math.round(u*E)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,c,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const p=f.getImageData(0,0,c,u).data;return[this.#d(p),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},o,c,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,v=p.font=`${i} ${a} ${m}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:x,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:w,fontBoundingBoxDescent:C,width:T}=p.measureText(t),N=1.5,R=Math.ceil(Math.max(Math.abs(b)+Math.abs(x)||0,T)*N),O=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||m,Math.abs(w)+Math.abs(C)||m)*N);f=new OffscreenCanvas(R,O),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,R,O),p.fillStyle="black",p.fillText(t,R*(N-1)/2,O*(3-N)/2);const P=this.#d(p.getImageData(0,0,R,O).data),V=this.#l(P),K=this.#h(V),nt=this.#r(P,R,O,K);return this.processDrawnLines({lines:{curves:nt,width:R,height:O},pageWidth:o,pageHeight:c,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,o){const[c,u,d]=this.#f(t),[f,p]=this.#c(c,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#h(p),v=this.#r(f,u,d,m);return this.processDrawnLines({lines:{curves:v,width:u,height:d},pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:o,mustSmooth:c,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,v=[],b=Math.min(e/f,i/p),x=b/e,A=b/i,E=[];for(const{points:C}of d){const T=c?this.#o(C):C;if(!T)continue;E.push(T);const N=T.length,R=new Float32Array(N),O=new Float32Array(3*(N===2?2:N-2));if(v.push({line:O,points:R}),N===2){R[0]=T[0]*x,R[1]=T[1]*A,O.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[P,V,K,nt]=T;P*=x,V*=A,K*=x,nt*=A,R.set([P,V,K,nt],0),O.set([NaN,NaN,NaN,NaN,P,V],0);for(let et=4;et<N;et+=2){const mt=R[et]=T[et]*x,yt=R[et+1]=T[et+1]*A;O.set(ot.createBezierPoints(P,V,K,nt,mt,yt),(et-2)*3),[P,V,K,nt]=[K,nt,mt,yt]}}if(v.length===0)return null;const w=u?new np:new Oo;return w.build(v,e,i,1,a,u?0:m,o),{outline:w,newCurves:E,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:o}){let c=1/0,u=-1/0,d=0;for(const T of t){d+=T.length;for(let N=2,R=T.length;N<R;N++){const O=T[N]-T[N-2];c=Math.min(c,O),u=Math.max(u,O)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=uc+Jr*p,v=new Uint32Array(m);let b=0;v[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,v[b++]=0,v[b++]=a,v[b++]=o,v[b++]=e?0:1,v[b++]=Math.max(0,Math.floor(i??0)),v[b++]=p,v[b++]=f.BYTES_PER_ELEMENT;for(const T of t)v[b++]=T.length-2,v[b++]=T[0],v[b++]=T[1];const x=new CompressionStream("deflate-raw"),A=x.writable.getWriter();await A.ready,A.write(v);const E=f.prototype.constructor;for(const T of t){const N=new E(T.length-2);for(let R=2,O=T.length;R<O;R++)N[R-2]=T[R]-T[R-2];A.write(N)}A.close();const w=await new Response(x.readable).arrayBuffer();return new Uint8Array(w).toBase64()}static async decompressSignature(t){try{const e=Uint8Array.fromBase64(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,u=0;for await(const T of i)c||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),c.set(T,u),u+=T.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],v=d[4]===0,b=d[5],x=d[6],A=d[7],E=[],w=(uc+Jr*x)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(A){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(c.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(c.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(c.buffer,w);break}u=0;for(let T=0;T<x;T++){const N=d[Jr*T+uc],R=new Float32Array(N+2);E.push(R);for(let O=0;O<Jr-1;O++)R[O]=d[Jr*T+uc+O+1];for(let O=0;O<N;O++)R[O+2]=R[O]+C[u++]}return{areContours:v,thickness:b,outlines:E,width:p,height:m}}catch(e){return bt(`decompressSignature: ${e}`),null}}}class em extends CS{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new em;return t.updateAll(this),t}}class nm extends Zc{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new nm(this._viewParameters);return t.updateAll(this),t}}class Wn extends jt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=St.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new em,this._defaultDrawnSignatureOptions=new nm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return At(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:o,areContours:c,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,b=Da.processDrawnLines({lines:a,pageWidth:p,pageHeight:m,rotation:v,innerMargin:Wn._INNER_MARGIN,mustSmooth:o,areContours:c});this.addSignature(b,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:a,height:o}=this.#i,c=Math.max(a,o),u=Da.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:a,height:o},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,a){const{x:o,y:c}=this,{outline:u}=this.#i=t;this.#t=u instanceof np,this.description=i;let d;this.#t?d=Wn.getDefaultDrawingOptions():(d=Wn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Da.process(t,e,i,a,Wn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:o}=this.parent.viewport;return Da.extractContoursFromText(t,e,i,a,o,Wn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Da.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:Wn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Wn.getDefaultDrawingOptions():(this._drawingOptions=Wn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a});return this.addComment(o),t?(o.paths={lines:e,points:i},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,i,a,o,c){return c.areContours?np.deserialize(t,e,i,a,o,c):Oo.deserialize(t,e,i,a,o,c)}static async deserialize(t,e,i){const a=await super.deserialize(t,e,i);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#n=t.uuid,a}}class NO extends pt{#t=null;#e=null;#i=null;#n=null;#a=null;#r="";#s=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=St.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return Yf.includes(t)}static paste(t,e){e.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#r=t.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:o,height:c,channels:a.length/(o*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#h(a)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(a=>this.#h(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Yf.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(a)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#s===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:e,height:i}=this.#t;const[a,o]=this.pageDimensions,c=.75;if(this.width)e=this.width*a,i=this.height*o;else if(e>c*a||i>c*o){const d=Math.min(c*a/e,c*o/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#s=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/a,this.height=i/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:a,height:o}=this.#t,c=new ni;let u=this.#t,d=a,f=o,p=null;if(e){if(a>e||o>e){const O=Math.min(e/a,e/o);d=Math.floor(a*O),f=Math.floor(o*O)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*c.sx),b=p.height=Math.ceil(f*c.sy);this.#l||(u=this.#u(v,b));const x=p.getContext("2d");x.filter=this._uiManager.hcmFilter;let A="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":JN.isDarkMode&&(A="#8f8f9d",E="#42414d");const w=15,C=w*c.sx,T=w*c.sy,N=new OffscreenCanvas(C*2,T*2),R=N.getContext("2d");R.fillStyle=A,R.fillRect(0,0,C*2,T*2),R.fillStyle=E,R.fillRect(0,0,C,T),R.fillRect(C,T,C,T),x.fillStyle=x.createPattern(N,"repeat"),x.fillRect(0,0,v,b),x.drawImage(u,0,0,u.width,u.height,0,0,v,b)}let m=null;if(i){let v,b;if(c.symmetric&&u.width<t&&u.height<t)v=u.width,b=u.height;else if(u=this.#t,a>t||o>t){const E=Math.min(t/a,t/o);v=Math.floor(a*E),b=Math.floor(o*E),this.#l||(u=this.#u(v,b))}const A=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,v,b),m={width:v,height:b,data:A.getImageData(0,0,v,b).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(t,e){const{width:i,height:a}=this.#t;let o=i,c=a,u=this.#t;for(;o>2*t||c>2*e;){const d=o,f=c;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(o,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,c),u=p.transferToImageBitmap()}return u}#p(){const[t,e]=this.parentDimensions,{width:i,height:a}=this,o=new ni,c=Math.ceil(i*t*o.sx),u=Math.ceil(a*e*o.sy),d=this.#s;if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=this.#l?this.#t:this.#u(c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#y(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,a=Math.round(this.width*e*Xa.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Xa.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,o);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let a=null,o=!1;if(t instanceof ES){const{data:{rect:A,rotation:E,id:w,structParent:C,popupRef:T,richText:N,contentsObj:R,creationDate:O,modificationDate:P},container:V,parent:{page:{pageNumber:K}},canvas:nt}=t;let et,mt;nt?(delete t.canvas,{id:et,bitmap:mt}=i.imageManager.getFromCanvas(V.id,nt),nt.remove()):(o=!0,t._hasNoCanvas=!0);const yt=(await e._structTree.getAriaAttributes(`${Pa}${w}`))?.get("aria-label")||"";a=t={annotationType:St.STAMP,bitmapId:et,bitmap:mt,pageIndex:K-1,rect:A.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:yt},isSvg:!1,structParent:C,popupRef:T,richText:N,comment:R?.str||null,creationDate:O,modificationDate:P}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=t;o?(i.addMissingCanvas(t.id,c),c.#o=!0):p&&i.imageManager.isValidId(p)?(c.#e=p,d&&(c.#t=d)):c.#n=f,c.#l=m;const[b,x]=c.pageDimensions;return c.width=(u[2]-u[0])/b,c.height=(u[3]-u[1])/x,v&&(c.altTextData=v),c._initialData=a,t.comment&&c.setCommentData(t),c.#d=!!a,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const c=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return i}#b(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Si{#t;#e=!1;#i=null;#n=null;#a=null;#r=new Map;#s=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Ne,tm,NO,de,Wn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:o,annotationLayer:c,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...Si.#p.values()];if(!Si._initialized){Si._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=i,this.#t=o,this.#i=c,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=a,this.#u.addLayer(this)}updatePageIndex(t){this.pageIndex=t}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===St.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case St.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===St.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of Si.#p.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#y(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const a=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",o=>{const{clientX:u,clientY:d,timeStamp:f}=o,p=this.#m;if(f-p>500){this.#m=f;return}this.#m=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const v=document.elementsFromPoint(u,d);if(m.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const x=new RegExp(`^${yo}[0-9]+$`);for(const E of v)if(x.test(E.id)){b=E.id;break}if(!b)return;const A=this.#r.get(b);A?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick(o))},{signal:a,capture:!0})}const t=this.#i,e=[];if(t){const a=new Map,o=new Map;for(const u of this.#y){if(u.disableEditing(),!u.annotationElementId){e.push(u);continue}if(u.serialize()!==null){a.set(u.annotationElementId,u);continue}else o.set(u.annotationElementId,u);this.getEditableAnnotation(u.annotationElementId)?.show(),u.remove()}const c=t.getEditableAnnotations();for(const u of c){const{id:d}=u.data;if(this.#u.isDeletedAnnotationElement(d)){u.updateEdited({deleted:!0});continue}let f=o.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=a.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of Si.#p.values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Ce.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),de.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#r.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#r.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return Si.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#T(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#w(),o=this.getNextId(),c=this.#T({parent:this,id:o,x:i,y:a,uiManager:this.#u,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await Si.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),o=this.#T({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:t,y:e,width:i,height:a}=this.boundingClientRect,o=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+a),f=(o+u)/2-t,p=(c+d)/2-e,[m,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#s||(this.#s=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===St.STAMP||i===St.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===St.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#s=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,i){const a=this.#u.findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#r.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#r.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Bs(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Bs(this.div,{rotation:i}),e!==i)for(const a of this.#r.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class je{#t=null;#e=new Map;#i=new Map;static#n=0;setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return At(this,"_svgFactory",new kc)}static#a(t,[e,i,a,o]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*o}%`}#r(){const t=je._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#s(t,e){const i=je._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const o=je._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,e=!1,i=!1){const a=je.#n++,o=this.#r(),c=je._svgFactory.createElement("defs");o.append(c);const u=je._svgFactory.createElement("path");c.append(u);const d=`path_${a}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(a,u);const f=i?this.#s(c,d):null,p=je._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=je.#n++,a=this.#r(),o=je._svgFactory.createElement("defs");a.append(o);const c=je._svgFactory.createElement("path");o.append(c);const u=`path_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=je._svgFactory.createElement("mask");o.append(m),d=`mask_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=je._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=je._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=je._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:a,rootClass:o,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),a&&je.#a(u,a),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(c){const f=u.firstElementChild.firstElementChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:tp};globalThis.pdfjsLib={AbortException:as,AnnotationEditorLayer:Si,AnnotationEditorParamsType:Lt,AnnotationEditorType:St,AnnotationEditorUIManager:rs,AnnotationLayer:Jp,AnnotationMode:ts,AnnotationType:Ae,applyOpacity:eL,build:oO,ColorPicker:Rn,createValidAbsoluteUrl:q1,CSSConstants:tL,DOMSVGFactory:kc,DrawLayer:je,FeatureTest:Ce,fetchData:Do,findContrastColor:nL,getDocument:mS,getFilenameFromUrl:$N,getPdfFilenameFromUrl:KN,getRGB:No,getUuid:Y1,getXfaPageViewport:QN,GlobalWorkerOptions:Ha,ImageKind:xc,InvalidPDFException:qf,isDataScheme:qc,isPdfFile:Hp,isValidExplicitDest:fL,MathClamp:Ie,noContextMenu:On,normalizeUnicode:XN,OPS:vo,OutputScale:ni,PagesMapper:Ft,PasswordResponses:BN,PDFDataRangeTransport:gS,PDFDateString:Xf,PDFWorker:Ao,PermissionFlag:PN,PixelsPerInch:Xa,RenderingCancelledException:Vp,renderRichText:K1,ResponseException:Lc,setLayerDimensions:Bs,shadow:At,SignatureExtractor:Da,stopEvent:le,SupportedImageMimeTypes:Yf,TextLayer:gn,TouchManager:Xc,updateUrlHash:X1,Util:it,VerbosityLevel:Uc,version:bS,XfaLayer:$1};Ha.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${bS}/pdf.worker.min.js`;const LO=async r=>{let t=r;if(r.type==="application/pdf"){const p=await r.arrayBuffer(),v=await(await mS({data:p}).promise).getPage(1),b=v.getViewport({scale:2}),x=document.createElement("canvas"),A=x.getContext("2d");x.height=b.height,x.width=b.width,await v.render({canvasContext:A,viewport:b}).promise,t=x.toDataURL("image/jpeg",.85)}else t=await OO(r);const e=await kN.createWorker("por"),{data:{text:i}}=await e.recognize(t);await e.terminate();const a=i.toUpperCase();if(!(a.includes("PIX")||a.includes("COMPROVANTE")||a.includes("REALIZADA")))return{valid:!1,details:"A imagem no parece ser um comprovante PIX."};const c=a.match(/R\$\s?(\d+[,.]\d{2})/),u=c?parseFloat(c[1].replace(",",".")):0;if(u<10)return{valid:!1,details:`Valor detectado (R$ ${u.toFixed(2)})  menor que o mnimo de R$ 10,00.`};const d=a.match(/[A-Z0-9]{20,}/),f=d?d[0]:"ID_"+Date.now();return{valid:!0,amount:u.toFixed(2),transactionId:f,details:"Pagamento identificado com sucesso!"}};async function OO(r){return new Promise(t=>{const e=new FileReader;e.onload=i=>{const a=new Image;a.onload=()=>{const o=document.createElement("canvas");let c=a.width,u=a.height;const d=1600;(c>d||u>d)&&(c>u?(u*=d/c,c=d):(c*=d/u,u=d)),o.width=c,o.height=u,o.getContext("2d").drawImage(a,0,0,c,u),t(o.toDataURL("image/jpeg",.9))},a.src=i.target.result},e.readAsDataURL(r)})}const kO=({onValidationComplete:r})=>{const[t,e]=j.useState(null),[i,a]=j.useState("idle"),[o,c]=j.useState(""),[u,d]=j.useState(""),f=j.useRef(null),p=async m=>{const v=m.target.files[0];if(!v)return;const b=new FileReader;b.onload=x=>e(x.target.result),b.readAsDataURL(v),a("validating"),c("Lendo comprovante..."),d("O rob est extraindo os dados da imagem...");try{const x=await LO(v);x.valid?(a("success"),c(" Pagamento Confirmado!"),d(`Valor: R$ ${x.amount}`),setTimeout(()=>{r&&r({valido:!0,transactionId:x.transactionId})},2e3)):(a("error"),c(" Recusado"),d(x.details||"Dados no conferem."))}catch{a("error"),c("Erro no processamento"),d("No foi possvel ler a imagem. Tente uma foto mais clara.")}};return M.jsx("div",{className:"p-4 bg-purple-900/20 rounded-2xl border border-purple-400/30",children:t?M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"relative",children:[M.jsx("img",{src:t,alt:"Comprovante",className:"w-full h-48 object-contain rounded-lg bg-black border border-purple-500/30"}),M.jsx("button",{onClick:()=>{e(null),a("idle"),d("")},className:"absolute top-2 right-2 bg-red-600 p-1 rounded-full text-white shadow-lg",children:M.jsx(hN,{className:"w-4 h-4"})})]}),M.jsxs("div",{className:`p-4 rounded-xl border ${i==="success"?"bg-green-900/30 border-green-500/50 text-green-200":i==="error"?"bg-red-900/30 border-red-500/50 text-red-200":"bg-amber-900/30 border-amber-500/50 text-amber-200"}`,children:[M.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i==="validating"&&M.jsx(z1,{className:"animate-spin w-4 h-4"}),M.jsx("span",{className:"font-bold",children:o})]}),u&&M.jsx("p",{className:"text-xs opacity-80",children:u})]}),i==="error"&&M.jsx("button",{onClick:()=>{e(null),a("idle"),d("")},className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-all shadow-lg",children:"Tentar com outro arquivo"})]}):M.jsxs("div",{onClick:()=>f.current.click(),className:"cursor-pointer border-2 border-dashed border-purple-400 p-8 text-center rounded-xl hover:bg-purple-800/20 transition-all",children:[M.jsx(cN,{className:"mx-auto mb-2 text-purple-400"}),M.jsx("p",{className:"text-white font-medium",children:"Anexar Comprovante PIX"}),M.jsx("p",{className:"text-xs text-purple-300 mt-2",children:"JPG ou PNG (Mnimo R$ 10,00)"}),M.jsx("input",{type:"file",ref:f,onChange:p,className:"hidden",accept:"image/*"})]})})},PO=({isOpen:r,onClose:t,onPaymentConfirmed:e,onBackToHome:i,theme:a,onNewPayment:o})=>{const[c,u]=j.useState("instructions"),[d,f]=j.useState(!1);if(!r)return null;const p=E=>{console.log(" Pagamento validado:",E),u("success"),e&&setTimeout(()=>{e(E)},2e3)},m=()=>{navigator.clipboard.writeText("12996764694"),f(!0),setTimeout(()=>f(!1),2e3)},v=()=>{t(),window.location.href="/meu-app-android/"},b=()=>M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-purple-900/30 to-violet-900/20 rounded-xl border border-purple-700/30",children:[M.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[M.jsx(Bb,{className:"w-5 h-5 text-purple-400"}),"Dados para PIX"]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-purple-300 mb-1",children:"Chave PIX (Telefone)"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"flex-1 bg-black/30 border border-purple-600/30 rounded-lg p-3",children:M.jsx("p",{className:"font-mono text-xl font-bold text-white text-center",children:"12996764694"})}),M.jsx("button",{onClick:m,className:`p-3 rounded-lg transition-all ${d?"bg-green-600":"bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700"}`,title:"Copiar chave PIX",children:d?M.jsx(FR,{className:"w-5 h-5 text-white"}):M.jsx(zR,{className:"w-5 h-5 text-white"})})]}),d&&M.jsx("p",{className:"text-xs text-green-400 mt-1 animate-pulse",children:" Chave copiada para a rea de transferncia!"})]}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-purple-300 mb-1",children:"Nome do favorecido"}),M.jsx("div",{className:"bg-purple-900/30 p-3 rounded-lg",children:M.jsx("p",{className:"font-bold text-white text-center",children:"GUSTAVO SANTOS RIBEIRO"})})]}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-purple-300 mb-1",children:"Valor da consulta"}),M.jsxs("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-lg p-4",children:[M.jsx("p",{className:"text-3xl font-bold text-white text-center",children:"R$ 10,00"}),M.jsx("p",{className:"text-xs text-amber-300 text-center mt-1",children:" Valor mnimo: R$ 10,00 | Valor abaixo ser recusado"})]})]})]})]}),M.jsxs("div",{className:"mb-6",children:[M.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[M.jsx("span",{className:"text-amber-400",children:""}),"Como pagar"]}),M.jsxs("ol",{className:"space-y-3",children:[M.jsxs("li",{className:"flex items-start gap-3",children:[M.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-violet-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"1"}),M.jsxs("div",{children:[M.jsx("p",{className:"text-white font-medium",children:"Abra seu app de banco"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Nubank, Inter, Ita, Bradesco, etc."})]})]}),M.jsxs("li",{className:"flex items-start gap-3",children:[M.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-violet-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"2"}),M.jsxs("div",{children:[M.jsx("p",{className:"text-white font-medium",children:'V em "Pagar com PIX"'}),M.jsx("p",{className:"text-sm text-gray-400",children:"Selecione a opo de pagar via chave"})]})]}),M.jsxs("li",{className:"flex items-start gap-3",children:[M.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-violet-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"3"}),M.jsxs("div",{children:[M.jsxs("p",{className:"text-white font-medium",children:["Cole a chave: ",M.jsx("strong",{className:"font-mono",children:"12996764694"})]}),M.jsx("p",{className:"text-sm text-gray-400",children:"Confirme o nome: GUSTAVO SANTOS RIBEIRO"})]})]}),M.jsxs("li",{className:"flex items-start gap-3",children:[M.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-violet-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"4"}),M.jsxs("div",{children:[M.jsxs("p",{className:"text-white font-medium",children:["Digite o valor: ",M.jsx("strong",{children:"R$ 10,00"})]}),M.jsx("p",{className:"text-sm text-gray-400",children:"Valor mnimo para liberar a consulta"})]})]}),M.jsxs("li",{className:"flex items-start gap-3",children:[M.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-600 to-violet-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:"5"}),M.jsxs("div",{children:[M.jsx("p",{className:"text-white font-medium",children:"Confirme o pagamento"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Salve o comprovante para enviar abaixo"})]})]})]})]}),M.jsx("div",{className:"mb-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:M.jsxs("p",{className:"text-sm text-amber-200 flex items-center gap-2",children:[M.jsx("span",{className:"text-lg",children:""}),M.jsxs("span",{children:[M.jsx("strong",{children:"Importante:"})," Aps realizar o pagamento, volte aqui para enviar o comprovante"]})]})}),M.jsxs("button",{onClick:()=>u("upload"),className:"w-full py-4 bg-gradient-to-r from-purple-600 to-violet-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-violet-700 transition-all shadow-lg shadow-purple-900/30 flex items-center justify-center gap-2",children:[M.jsx("span",{className:"text-lg",children:""}),"J paguei - Enviar Comprovante"]})]}),x=()=>M.jsxs("div",{children:[M.jsxs("div",{className:"mb-6",children:[M.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Envie seu comprovante"}),M.jsx("p",{className:"text-gray-400",children:"Tire uma foto ou selecione da galeria"})]}),M.jsx(kO,{onValidationComplete:p,onCancel:v,onNewPayment:o})]}),A=()=>M.jsxs("div",{className:"text-center py-8",children:[M.jsxs("div",{className:"mb-6",children:[M.jsx("div",{className:"inline-flex p-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full mb-4",children:M.jsx("span",{className:"text-2xl",children:""})}),M.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pagamento Confirmado!"}),M.jsx("p",{className:"text-gray-300",children:"Sua consulta foi liberada com sucesso."})]}),M.jsx("div",{className:"animate-pulse",children:M.jsx("p",{className:"text-purple-300",children:"Preparando sua leitura..."})})]});return M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:M.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative w-full max-w-lg max-h-[90vh] overflow-y-auto bg-gradient-to-b from-gray-900 to-gray-950 rounded-2xl border border-purple-700/30 shadow-2xl shadow-purple-900/30",children:[M.jsx("div",{className:"sticky top-0 z-10 p-6 pb-4 bg-gray-900/90 backdrop-blur-sm border-b border-purple-800/30 rounded-t-2xl",children:M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-violet-600 rounded-lg",children:M.jsx(Bb,{className:"w-6 h-6 text-white"})}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-bold text-white",children:"Pagamento via PIX"}),M.jsx("p",{className:"text-sm text-purple-300",children:"R$ 10,00 - Consulta de Tar Completa"})]})]}),M.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",title:"Voltar para Home",children:M.jsx(I1,{className:"w-5 h-5 text-gray-400"})})]})}),M.jsxs("div",{className:"p-6",children:[c==="instructions"&&b(),c==="upload"&&x(),c==="success"&&A()]}),M.jsxs("div",{className:"p-4 border-t border-purple-800/30 bg-gray-900/50 rounded-b-2xl",children:[M.jsxs("p",{className:"text-xs text-center text-purple-400",children:[M.jsx("strong",{children:"Ateno:"})," No aceitamos pagamentos duplicados. Caso o comprovante seja rejeitado, por favor, realize um novo pagamento."]}),M.jsx("div",{className:"mt-2 text-center",children:M.jsx("p",{className:"text-xs text-amber-300",children:" Valor mnimo: R$ 10,00 |  Data: Hoje |  Favorecido: GUSTAVO SANTOS RIBEIRO"})})]})]})})},BO=({paymentId:r,theme:t,userData:e,onNewReading:i})=>{const[a,o]=j.useState(null),[c,u]=j.useState(!0),d={amor:"Amor",carreira:"Carreira",financas:"Finanas",espiritualidade:"Espiritualidade",saude:"Sade",traicao:"Traio",casamento:"Casamento",viagem:"Viagem",noivado:"Noivado",conselho:"Conselho",justica:"Justia"},f=b=>b?b.split(" ")[0]:"",p=b=>{if(!b)return"";const x=b.split("-");if(x.length===3){const[A,E,w]=x;return`${w}/${E}/${A}`}try{const A=new Date(b);return isNaN(A.getTime())?b:A.toLocaleDateString("pt-BR")}catch{return b}};j.useEffect(()=>{(()=>{const x=new Date().toISOString().split("T")[0],A=[{name:"O Louco",upright:"Novos comeos, aventura, liberdade",reversed:"Imprudncia, risco excessivo"},{name:"O Mago",upright:"Vontade, habilidade, recurso",reversed:"Manipulao, falta de habilidade"},{name:"A Sacerdotisa",upright:"Intuio, mistrio, sabedoria",reversed:"Ignorar a intuio, superficialidade"},{name:"A Imperatriz",upright:"Fertilidade, beleza, natureza",reversed:"Dependncia, negligncia"},{name:"O Imperador",upright:"Autoridade, estrutura, controle",reversed:"Rigidez, dominao"},{name:"O Hierofante",upright:"Tradio, espiritualidade, conformidade",reversed:"Rebelio, no-conformidade"},{name:"Os Amantes",upright:"Amor, harmonia, relacionamentos",reversed:"Desequilbrio, escolhas difceis"},{name:"O Carro",upright:"Determinao, vitria, vontade",reversed:"Falta de direo, agresso"},{name:"A Fora",upright:"Coragem, pacincia, controle",reversed:"Fraqueza, insegurana"},{name:"O Eremita",upright:"Introspeco, prudncia, orientao",reversed:"Isolamento, ignorncia"},{name:"A Roda da Fortuna",upright:"Destino, sorte, ciclos",reversed:"M sorte, resistncia  mudana"},{name:"A Justia",upright:"Equilbrio, justia, verdade",reversed:"Injustia, falta de responsabilidade"},{name:"O Pendurado",upright:"Sacrifcio, perspectiva, rendio",reversed:"Estagnao, resistncia"},{name:"A Morte",upright:"Fim, mudana, transformao",reversed:"Medo de mudar, estagnao"},{name:"A Temperana",upright:"Equilbrio, moderao, pacincia",reversed:"Desequilbrio, excessos"},{name:"O Diabo",upright:"Escravido, materialismo, ignorncia",reversed:"Libertao, esclarecimento"},{name:"A Torre",upright:"Mudana repentina, revelao",reversed:"Medo de mudana, desastre evitado"},{name:"A Estrela",upright:"Esperana, inspirao, serenidade",reversed:"Desespero, falta de f"},{name:"A Lua",upright:"Iluso, intuio, inconsciente",reversed:"Confuso, medo"},{name:"O Sol",upright:"Alegria, sucesso, vitalidade",reversed:"Tristeza, falta de sucesso"},{name:"O Julgamento",upright:"Renascimento, absolvio, deciso",reversed:"Dvida, culpa"},{name:"O Mundo",upright:"Realizao, viagem, integrao",reversed:"Incompletude, falta de realizao"}],E=[],w=new Set;for(;E.length<3;){const N=Math.floor(Math.random()*A.length);if(!w.has(N)){w.add(N);const R=A[N],O=Math.random()>.7;E.push({card_name:R.name,position:E.length===0?"Passado":E.length===1?"Presente":"Futuro",reversed:O,meaning:O?R.reversed:R.upright})}}const C=m(t,E,e),T={cards:E,interpretation:C,date:x,theme:t,type:"three_cards"};setTimeout(()=>{o(T),u(!1)},2e3)})()},[t,e]);const m=(b,x,A)=>{let w={amor:"Baseado nas cartas sorteadas, sua jornada amorosa revela insights profundos. ",carreira:"Suas cartas indicam caminhos profissionais e oportunidades. ",financas:"A sabedoria das cartas ilumina sua situao financeira. ",espiritualidade:"Sua conexo espiritual  fortalecida pelas mensagens destas cartas. ",saude:"As cartas trazem reflexes sobre seu bem-estar e sade. ",traicao:"Estas cartas revelam verdades sobre confiana e lealdade. ",casamento:"O destino do seu relacionamento  revelado pelas cartas. ",viagem:"Sua jornada fsica e espiritual  iluminada. ",noivado:"O futuro do seu compromisso amoroso  revelado. ",conselho:"As cartas oferecem orientao sbia para sua situao. ",justica:"Equilbrio e justia so os temas centrais desta leitura. "}[b]||"Suas cartas revelam mensagens importantes sobre sua jornada. ";w+=`

 ${x[0].card_name} (Passado${x[0].reversed?" - Invertida":""}):
${x[0].meaning}

`,w+=` ${x[1].card_name} (Presente${x[1].reversed?" - Invertida":""}):
${x[1].meaning}

`,w+=` ${x[2].card_name} (Futuro${x[2].reversed?" - Invertida":""}):
${x[2].meaning}

`;const C=f(A?.name||""),T=p(A?.birthDate||""),N=A?.question||"";return w+=` CONSELHO FINAL:
`,C&&T&&N?w+=`Para ${C}, nascido(a) em ${T}, que pergunta sobre "${N}", `:C&&T?w+=`Para ${C}, nascido(a) em ${T}, `:C&&N?w+=`Para ${C}, que pergunta sobre "${N}", `:T&&N?w+=`Para quem nasceu em ${T} e pergunta sobre "${N}", `:C?w+=`Para ${C}, `:T?w+=`Para quem nasceu em ${T}, `:N&&(w+=`Para quem pergunta sobre "${N}", `),w+=`o conselho das cartas : ${v(b)}

`,w+=" Que esta leitura ilumine seu caminho!",w},v=(b,x)=>({amor:"mantenha seu corao aberto e confie no processo do amor. A pacincia revelar os sentimentos verdadeiros.",carreira:"siga sua intuio profissional e esteja aberto a novas oportunidades que surgiro em breve.",financas:"equilbrio e planejamento so chaves para sua segurana financeira. Evite impulsos.",espiritualidade:"conecte-se com sua essncia e busque a paz interior atravs da meditao e autoconhecimento.",saude:"cuide de seu corpo e mente com amor e ateno. Pequenos hbitos fazem grande diferena.",traicao:"a verdade sempre vem  tona. Confie em sua intuio e no tema enfrentar a realidade.",casamento:"comunicao e respeito so fundamentais para qualquer unio. Dialogue com sinceridade.",viagem:"esteja aberto a novas experincias e aprendizados. Cada jornada traz crescimento.",noivado:"o amor verdadeiro  construdo com pacincia e compreenso mtua. Valorize cada etapa.",conselho:"oua sua voz interior antes de tomar decises importantes. Seu instinto  sbio.",justica:"busque o equilbrio em todas as reas de sua vida. A justia chegar no momento certo."})[b]||"confie no processo e mantenha-se fiel aos seus valores. O universo conspira a seu favor.";return c?M.jsxs("div",{className:"text-center py-12",children:[M.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-400 mx-auto mb-4"}),M.jsx("p",{className:"text-purple-300",children:"Preparando sua leitura personalizada..."})]}):M.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"inline-block p-3 bg-amber-400/20 rounded-full mb-4",children:M.jsx(Ia,{className:"w-8 h-8 text-amber-400"})}),M.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Leitura de 3 Cartas"}),M.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 text-purple-300",children:[M.jsxs("div",{className:"flex items-center gap-1 bg-purple-800/40 px-3 py-1 rounded-full",children:[M.jsx("span",{className:"text-amber-300",children:""}),M.jsx("span",{children:d[a.theme]||a.theme})]}),M.jsxs("div",{className:"flex items-center gap-1 bg-purple-800/40 px-3 py-1 rounded-full",children:[M.jsx(F1,{className:"w-3 h-3"}),M.jsx("span",{children:a.date})]})]})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a.cards.map((b,x)=>M.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-gradient-to-br from-purple-800/40 to-violet-800/40 backdrop-blur-sm rounded-2xl p-6 border border-purple-400/30",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"mb-4",children:M.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium ${b.position==="Passado"?"bg-blue-500/20 text-blue-300":b.position==="Presente"?"bg-amber-500/20 text-amber-300":"bg-green-500/20 text-green-300"}`,children:b.position})}),M.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:b.card_name}),M.jsx("div",{className:"mb-3",children:M.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${b.reversed?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"}`,children:b.reversed?" Invertida":" Direta"})}),M.jsx("div",{className:"mt-4 pt-4 border-t border-purple-400/30",children:M.jsx("p",{className:"text-purple-200 text-sm",children:b.meaning})})]})},x))}),M.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-violet-900/40 backdrop-blur-sm rounded-2xl p-6 md:p-8 border border-amber-400/30 mb-8",children:[M.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Interpretao Completa"}),M.jsx("div",{className:"space-y-4",children:M.jsx("div",{className:"bg-black/20 rounded-lg p-4",children:M.jsx("pre",{className:"text-purple-100 leading-relaxed whitespace-pre-line font-sans",children:a.interpretation})})})]}),M.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-8",children:M.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-700 hover:to-violet-700 text-white px-6 py-3 rounded-lg font-medium transition-all",children:[M.jsx(aN,{className:"w-4 h-4"}),"Nova Leitura"]})}),M.jsx(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-16 mb-8",children:M.jsxs("div",{className:"relative bg-gradient-to-br from-amber-500/20 via-purple-900/60 to-violet-900/60 backdrop-blur-md border-2 border-amber-400/50 rounded-3xl p-8 max-w-2xl mx-auto shadow-2xl overflow-hidden text-center",children:[M.jsx("div",{className:"absolute top-4 left-4 text-amber-400/30 text-2xl",children:""}),M.jsx("div",{className:"absolute top-4 right-4 text-amber-400/30 text-2xl",children:""}),M.jsx(Te.div,{className:"mb-6",animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},children:M.jsx("span",{className:"text-6xl drop-shadow-lg",children:""})}),M.jsx("h3",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-amber-300 via-amber-400 to-amber-300 bg-clip-text text-transparent mb-2",children:"Consultas Particulares"}),M.jsx("h4",{className:"text-lg text-purple-200 font-semibold mb-4",children:"por Vdeo Chamada"}),M.jsxs("div",{className:"bg-black/30 rounded-2xl p-4 mb-6 border border-amber-400/30 mx-auto max-w-md",children:[M.jsx("p",{className:"text-purple-100 leading-relaxed mb-2",children:"Deseja uma leitura mais profunda e personalizada?"}),M.jsx("p",{className:"text-amber-300 font-medium",children:"Conecte-se diretamente com nossos especialistas!"})]}),M.jsxs("div",{className:"flex flex-col items-center",children:[M.jsxs("a",{href:"https://wa.me/5512996764694?text=Gostaria%20de%20saber%20mais%20sobre%20a%20consulta%20particular%20por%20video%20chamada",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold px-8 py-4 rounded-full transition-all text-lg shadow-2xl hover:shadow-green-500/50 hover:scale-105 transform mb-4",children:[M.jsx("span",{className:"text-2xl",children:""}),M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-sm opacity-90",children:"WhatsApp"}),M.jsx("div",{children:"12 99676-4694"})]})]}),M.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-400/30 w-full max-w-md",children:[M.jsx("p",{className:"text-amber-200 font-bold text-base mb-2",children:" Com Tuma ou Orculo "}),M.jsx("p",{className:"text-purple-300 text-sm italic",children:"Especialistas em Tar e Leituras Msticas"})]})]})]})})]})},yf=[{id:"amor",label:"Amor",icon:KR,color:"from-pink-500 to-rose-500"},{id:"sexo",label:"Sexo",icon:qR,color:"from-red-500 to-orange-500"},{id:"casamento",label:"Casamento",icon:I1,color:"from-purple-500 to-pink-500"},{id:"traicao",label:"Traio",icon:HR,color:"from-slate-600 to-slate-800"},{id:"trabalho",label:"Trabalho",icon:PR,color:"from-blue-500 to-cyan-500"},{id:"viagem",label:"Viagem",icon:iN,color:"from-sky-500 to-blue-500"},{id:"gravidez",label:"Gravidez",icon:OR,color:"from-green-400 to-emerald-500"},{id:"saude",label:"Sade",icon:YR,color:"from-green-500 to-teal-500"},{id:"espiritualidade",label:"Espiritualidade",icon:Ia,color:"from-violet-500 to-purple-500"},{id:"conselho",label:"Conselho",icon:ZR,color:"from-amber-500 to-yellow-500"}];function jO(){const[r,t]=j.useState(null),[e,i]=j.useState(!1),[a,o]=j.useState(!1),[c,u]=j.useState(null),[d,f]=j.useState(!1),p=A=>{t(A),o(!0)},m=A=>{A.preventDefault();const E=new FormData(A.target);u({name:E.get("name"),birthDate:E.get("birthDate"),question:E.get("question")}),o(!1),i(!0)},v=()=>{i(!1),f(!0)},b=()=>{f(!1),t(null),u(null),o(!1)},x=()=>yf.find(A=>A.id===r)||yf[0];return d?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-900 to-purple-950 py-8 px-4",children:M.jsx(BO,{theme:r,userData:c,onNewReading:b})}):M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-900 to-purple-950 py-8 px-4 text-white",children:M.jsxs("div",{className:"container mx-auto max-w-6xl",children:[M.jsx(uo,{to:"/",children:M.jsxs(pN,{variant:"ghost",className:"text-purple-200 hover:text-white mb-8",children:[M.jsx(j1,{className:"w-4 h-4 mr-2"})," Voltar"]})}),!a&&!e&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"text-center mb-12",children:[M.jsx("div",{className:"inline-block p-4 bg-purple-400/20 rounded-full mb-4",children:M.jsx(U1,{className:"w-12 h-12 text-purple-400"})}),M.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-white",children:"Leitura de 3 Cartas"}),M.jsx("p",{className:"text-purple-200 text-lg",children:"Escolha um tema para sua consulta personalizada"})]}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-12",children:yf.map(A=>M.jsx("button",{onClick:()=>p(A.id),className:"group relative",children:M.jsxs("div",{className:`bg-gradient-to-br ${A.color} p-6 rounded-2xl shadow-xl hover:scale-105 transition-all`,children:[M.jsx(A.icon,{className:"w-8 h-8 text-white mx-auto mb-3"}),M.jsx("p",{className:"text-white font-semibold",children:A.label})]})},A.id))})]}),a&&M.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-sm border-2 border-purple-400/30 rounded-2xl p-8 max-w-md mx-auto shadow-2xl",children:[M.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center",children:"Dados da Consulta"}),M.jsxs("form",{onSubmit:m,className:"space-y-6",children:[M.jsx("input",{name:"name",placeholder:"Seu Nome Completo",required:!0,className:"w-full bg-white/10 border border-purple-400/30 text-white rounded-lg px-4 py-3 outline-none focus:border-amber-400"}),M.jsx("input",{name:"birthDate",type:"text",inputMode:"numeric",required:!0,className:"w-full bg-white/10 border border-purple-400/30 text-white rounded-lg px-4 py-3 outline-none"}),M.jsx("textarea",{name:"question",placeholder:"Qual sua dvida para as cartas?",required:!0,className:"w-full bg-white/10 border border-purple-400/30 text-white rounded-lg px-4 py-3 outline-none focus:border-amber-400 min-h-[100px]"}),M.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-amber-400 to-orange-500 text-purple-900 font-bold py-4 rounded-lg shadow-xl hover:scale-105 transition-all",children:" Continuar para Pagamento"}),M.jsx("button",{type:"button",onClick:()=>o(!1),className:"w-full text-purple-300 text-sm",children:"Voltar"})]})]}),e&&M.jsx(PO,{isOpen:e,onClose:()=>i(!1),onPaymentConfirmed:v,theme:x().label})]})})}function FO(){return M.jsx(TC,{basename:"/meu-app-android",children:M.jsxs(eC,{children:[M.jsx(hc,{path:"/",element:M.jsx(dN,{})}),M.jsx(hc,{path:"/daily-card",element:M.jsx(fN,{})}),M.jsx(hc,{path:"/three-cards-reading",element:M.jsx(jO,{})})]})})}sT.createRoot(document.getElementById("root")).render(M.jsx(j.StrictMode,{children:M.jsx(FO,{})}));
